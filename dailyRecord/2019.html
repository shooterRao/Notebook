<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2019 | RJW&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/Notebook/images/logo.png">
    <meta name="description" content="ğŸ“æ¯å¤©è®°å½•ä¸€ç‚¹ç‚¹">
    <link rel="preload" href="/Notebook/assets/css/0.styles.2568425a.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.51035dcd.js" as="script"><link rel="preload" href="/Notebook/assets/js/21.b8066a1d.js" as="script"><link rel="preload" href="/Notebook/assets/js/6.f1072f55.js" as="script"><link rel="preload" href="/Notebook/assets/js/19.17673ac2.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/2.f187326d.js"><link rel="prefetch" href="/Notebook/assets/js/3.c107e9cc.js"><link rel="prefetch" href="/Notebook/assets/js/4.195f4b4c.js"><link rel="prefetch" href="/Notebook/assets/js/5.c6e81d81.js"><link rel="prefetch" href="/Notebook/assets/js/7.d4af47ef.js"><link rel="prefetch" href="/Notebook/assets/js/8.c5c9a92a.js"><link rel="prefetch" href="/Notebook/assets/js/9.6d199ed1.js"><link rel="prefetch" href="/Notebook/assets/js/10.88896875.js"><link rel="prefetch" href="/Notebook/assets/js/11.bcd53a24.js"><link rel="prefetch" href="/Notebook/assets/js/12.1b5a4e8c.js"><link rel="prefetch" href="/Notebook/assets/js/13.356cc3d0.js"><link rel="prefetch" href="/Notebook/assets/js/14.2c74c350.js"><link rel="prefetch" href="/Notebook/assets/js/15.b864e6b5.js"><link rel="prefetch" href="/Notebook/assets/js/16.30e2be76.js"><link rel="prefetch" href="/Notebook/assets/js/17.beaf0e2c.js"><link rel="prefetch" href="/Notebook/assets/js/18.13b949a3.js"><link rel="prefetch" href="/Notebook/assets/js/20.5e336d91.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.2568425a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">RJW's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link router-link-active">
  ğŸ“æ—¥å¸¸è®°å½•
</a></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  ğŸ·ä¹¦ç­¾æ•´ç†
</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://shooterblog.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”§ä¸ªäººåšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/shooterRao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”—Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link router-link-active">
  ğŸ“æ—¥å¸¸è®°å½•
</a></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  ğŸ·ä¹¦ç­¾æ•´ç†
</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://shooterblog.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”§ä¸ªäººåšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/shooterRao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”—Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>æ—¥å¸¸è®°å½•</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/dailyRecord/" aria-current="page" class="sidebar-link">2022</a></li><li><a href="/Notebook/dailyRecord/2021.html" class="sidebar-link">2021</a></li><li><a href="/Notebook/dailyRecord/2020.html" class="sidebar-link">2020</a></li><li><a href="/Notebook/dailyRecord/2019.html" aria-current="page" class="active sidebar-link">2019</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#ä¸€æœˆ" class="sidebar-link">ä¸€æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#åˆ©ç”¨-coverage-æ£€æµ‹å¯ä»¥æ‡’åŠ è½½çš„-modules" class="sidebar-link">åˆ©ç”¨ Coverage æ£€æµ‹å¯ä»¥æ‡’åŠ è½½çš„ modules</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#nginx-vue-history-çˆ¬å‘" class="sidebar-link">nginx vue history çˆ¬å‘</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#iview-menu-ç»„ä»¶æ— æ³•é«˜äº®å±•å¼€é—®é¢˜" class="sidebar-link">iview menu ç»„ä»¶æ— æ³•é«˜äº®å±•å¼€é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#æ»šåŠ¨è¿›åº¦æ¡æ ¸å¿ƒä»£ç " class="sidebar-link">æ»šåŠ¨è¿›åº¦æ¡æ ¸å¿ƒä»£ç </a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#äºŒæœˆ" class="sidebar-link">äºŒæœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-jsx-ä½¿ç”¨å…¨å±€ç»„ä»¶" class="sidebar-link">vue jsx ä½¿ç”¨å…¨å±€ç»„ä»¶</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#tomcat-å¼€å¯-gzip-é…ç½®" class="sidebar-link">tomcat å¼€å¯ gzip é…ç½®</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vuecli3-å¼€å¯-gzip-é…ç½®" class="sidebar-link">vuecli3 å¼€å¯ gzip é…ç½®</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#ä¸‰æœˆ" class="sidebar-link">ä¸‰æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-v-model-ç»†èŠ‚" class="sidebar-link">vue v-model ç»†èŠ‚</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#js-æ‰¾å‡ºæ•°ç»„æœ€å¤§æœ€å°å€¼" class="sidebar-link">js æ‰¾å‡ºæ•°ç»„æœ€å¤§æœ€å°å€¼</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-å¼ºè¿«é‡æ–°æ¸²æŸ“" class="sidebar-link">vue å¼ºè¿«é‡æ–°æ¸²æŸ“</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-è·¯ç”±è·³è½¬é‡æ¸²æŸ“" class="sidebar-link">vue è·¯ç”±è·³è½¬é‡æ¸²æŸ“</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å››æœˆ" class="sidebar-link">å››æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#echarts-å¹³å‡å€¼-tooltip-çš„é—®é¢˜" class="sidebar-link">echarts å¹³å‡å€¼ toolTip çš„é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-ä¸­-self-äº‹ä»¶ä¿®é¥°ç¬¦" class="sidebar-link">vue ä¸­ self äº‹ä»¶ä¿®é¥°ç¬¦</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#æ­£åˆ™è¿‡æ»¤-index-js-æ–‡ä»¶" class="sidebar-link">æ­£åˆ™è¿‡æ»¤ &quot;./index.js&quot; æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#form-è¡¨å•ä¸­-button-çš„å‘" class="sidebar-link">form è¡¨å•ä¸­ button çš„å‘</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#cached-å‡½æ•°" class="sidebar-link">cached å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#yarn-å‡çº§æŒ‡å®šåŒ…" class="sidebar-link">yarn å‡çº§æŒ‡å®šåŒ…</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å…³äº-vue-button-ç»„ä»¶çš„å°å‘" class="sidebar-link">å…³äº vue button ç»„ä»¶çš„å°å‘</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#äº”æœˆ" class="sidebar-link">äº”æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#letã€constã€functionã€class-åœ¨-switch-ä¸­ä½œç”¨åŸŸé—®é¢˜" class="sidebar-link">letã€constã€functionã€class åœ¨ switch ä¸­ä½œç”¨åŸŸé—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#è¾“å…¥æ¡†-inputã€change-äº‹ä»¶çš„åŒºåˆ«" class="sidebar-link">è¾“å…¥æ¡† inputã€change äº‹ä»¶çš„åŒºåˆ«</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#webpack-hmr-åŸç†" class="sidebar-link">webpack HMR åŸç†</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#function-length" class="sidebar-link">Function.length</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#js-å˜é‡ç§æœ‰åŒ–" class="sidebar-link">js å˜é‡ç§æœ‰åŒ–</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vuecli3-ä½¿ç”¨-webpack-bundle-analyzer" class="sidebar-link">vuecli3 ä½¿ç”¨ webpack-bundle-analyzer</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#babel-plugin-transform-runtime-ä½¿ç”¨" class="sidebar-link">@babel/plugin-transform-runtime ä½¿ç”¨</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å…­æœˆ" class="sidebar-link">å…­æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#babel-å¼€å¯es7è£…é¥°è€…æ¨¡å¼" class="sidebar-link">Babel å¼€å¯ES7è£…é¥°è€…æ¨¡å¼</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#new-æ„é€ å‡½æ•°èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆ" class="sidebar-link">new æ„é€ å‡½æ•°èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#transitionend-äº‹ä»¶ç»†èŠ‚" class="sidebar-link">transitionend äº‹ä»¶ç»†èŠ‚</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#css-åŠ è½½ä¼šé€ æˆé˜»å¡å—ï¼Ÿ" class="sidebar-link">css åŠ è½½ä¼šé€ æˆé˜»å¡å—ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#åœ¨-webpack-ä¸­-process-env-node-env-æ˜¯å¦‚ä½•ç”Ÿæ•ˆçš„" class="sidebar-link">åœ¨ webpack ä¸­ process.env.NODE_ENV æ˜¯å¦‚ä½•ç”Ÿæ•ˆçš„</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å…³äº-npm-åŒ…ç‰ˆæœ¬å·å‰ç¼€-å’Œ-åŒºåˆ«" class="sidebar-link">å…³äº npm åŒ…ç‰ˆæœ¬å·å‰ç¼€ ~ å’Œ ^ åŒºåˆ«</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#ä¸ƒæœˆ" class="sidebar-link">ä¸ƒæœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#falsy-å’Œ-truthy" class="sidebar-link">Falsy](https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy) å’Œ [Truthy</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µæ˜¯ä»€ä¹ˆï¼Ÿ" class="sidebar-link">äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µæ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#flex-é¡¹ç›®å±æ€§å€¼è®°å½•" class="sidebar-link">flex é¡¹ç›®å±æ€§å€¼è®°å½•</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å…³äº-è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼" class="sidebar-link">å…³äº è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#js-è¯æ³•åˆ†æ" class="sidebar-link">js è¯æ³•åˆ†æ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å…³äº-axios-æ— æ³•è¯·æ±‚-koa-å†™çš„æ¥å£çš„é—®é¢˜" class="sidebar-link">å…³äº axios æ— æ³•è¯·æ±‚ koa å†™çš„æ¥å£çš„é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#jenkins-å¸¸ç”¨çš„ç¯å¢ƒå˜é‡" class="sidebar-link">jenkins å¸¸ç”¨çš„ç¯å¢ƒå˜é‡</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#window-performance-è®¡ç®—é¦–å±æ—¶é—´" class="sidebar-link">window.performance è®¡ç®—é¦–å±æ—¶é—´</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#æ‰“å°-dom-å¯¹è±¡å…·ä½“ä¿¡æ¯" class="sidebar-link">æ‰“å° dom å¯¹è±¡å…·ä½“ä¿¡æ¯</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å…«æœˆ" class="sidebar-link">å…«æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å¦‚ä½•å‰åç«¯é…åˆè‡ªå®šä¹‰è¯·æ±‚å“åº”å¤´å­—æ®µ" class="sidebar-link">å¦‚ä½•å‰åç«¯é…åˆè‡ªå®šä¹‰è¯·æ±‚å“åº”å¤´å­—æ®µ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#imgåœ¨å¤–å±‚divä½¿ç”¨-line-height-å±…ä¸­æ— æ•ˆï¼Ÿ" class="sidebar-link">imgåœ¨å¤–å±‚divä½¿ç”¨ line- height å±…ä¸­æ— æ•ˆï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#scss-extend" class="sidebar-link">scss @extend</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#æ¡¥æ¥-vue-ç»„ä»¶apiçš„æ–¹å¼" class="sidebar-link">æ¡¥æ¥ vue ç»„ä»¶apiçš„æ–¹å¼</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#è·å–æœ€å¤–å±‚èŠ‚ç‚¹çš„-offsetleft" class="sidebar-link">è·å–æœ€å¤–å±‚èŠ‚ç‚¹çš„ offsetLeft</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#css-å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ•ˆæœ" class="sidebar-link">css å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ•ˆæœ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#http-çŠ¶æ€ç " class="sidebar-link">http çŠ¶æ€ç </a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#ä¹æœˆ" class="sidebar-link">ä¹æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-extend" class="sidebar-link">Vue.extend</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#empty-ä¼ªç±»" class="sidebar-link">:empty ä¼ªç±»</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#åˆ¤æ–­æµè§ˆå™¨äº‹ä»¶ä¾¦å¬å™¨æ˜¯å¦å…¼å®¹passive" class="sidebar-link">åˆ¤æ–­æµè§ˆå™¨äº‹ä»¶ä¾¦å¬å™¨æ˜¯å¦å…¼å®¹passive</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#é€—å·æ“ä½œç¬¦" class="sidebar-link">é€—å·æ“ä½œç¬¦</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å·²æ»šåŠ¨åˆ°åº•éƒ¨" class="sidebar-link">åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å·²æ»šåŠ¨åˆ°åº•éƒ¨</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#ä¸ºä»€ä¹ˆvueç»„ä»¶é€‰é¡¹ä¸­çš„dataå¿…é¡»æ˜¯ä¸ªå‡½æ•°ï¼Ÿ" class="sidebar-link">ä¸ºä»€ä¹ˆvueç»„ä»¶é€‰é¡¹ä¸­çš„dataå¿…é¡»æ˜¯ä¸ªå‡½æ•°ï¼Ÿ</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#åæœˆ" class="sidebar-link">åæœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#tree-ç»„ä»¶åŠé€‰æ¡†çš„æ ¸å¿ƒé€»è¾‘" class="sidebar-link">tree ç»„ä»¶åŠé€‰æ¡†çš„æ ¸å¿ƒé€»è¾‘</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-nexttick-æ¸²æŸ“æ—¶æœº" class="sidebar-link">Vue.nextTick æ¸²æŸ“æ—¶æœº</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#js-ä»€ä¹ˆæ—¶å€™ä¸€å®šè¦å†™åˆ†å·" class="sidebar-link">js ä»€ä¹ˆæ—¶å€™ä¸€å®šè¦å†™åˆ†å·</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å¦‚ä½•åŠ«æŒajaxè¯·æ±‚ï¼Ÿ" class="sidebar-link">å¦‚ä½•åŠ«æŒajaxè¯·æ±‚ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å¦‚ä½•åˆ¤æ–­è¯¥å‡½æ•°æ˜¯ä¸æ˜¯åŸç”Ÿå‡½æ•°" class="sidebar-link">å¦‚ä½•åˆ¤æ–­è¯¥å‡½æ•°æ˜¯ä¸æ˜¯åŸç”Ÿå‡½æ•°</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#åä¸€æœˆ" class="sidebar-link">åä¸€æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#text-overflow-ellipsis-ä¸ç”Ÿæ•ˆçš„åŸå› ï¼Ÿ" class="sidebar-link">text-overflow: ellipsis ä¸ç”Ÿæ•ˆçš„åŸå› ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#æŠŠæ•°ç»„æŸä¸ªå€¼å¿«é€Ÿç½®åçš„æ–¹æ³•" class="sidebar-link">æŠŠæ•°ç»„æŸä¸ªå€¼å¿«é€Ÿç½®åçš„æ–¹æ³•</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#ä¸ºä»€ä¹ˆ-ä¸º-true" class="sidebar-link">ä¸ºä»€ä¹ˆ [] == ![] ä¸º true ?</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue2-x-å“åº”å¼å®ç°è§‚å¯Ÿè€…æ¨¡å¼ç²¾ç®€ç‰ˆ" class="sidebar-link">vue2.x å“åº”å¼å®ç°è§‚å¯Ÿè€…æ¨¡å¼ç²¾ç®€ç‰ˆ</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#åäºŒæœˆ" class="sidebar-link">åäºŒæœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-jsx-click-native-å†™æ³•" class="sidebar-link">vue jsx @click.native å†™æ³•</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#vue-router3-1-push-ç›¸åŒè·¯ç”±æŠ¥é”™çš„è§£å†³æ–¹æ³•" class="sidebar-link">vue-router3.1 push ç›¸åŒè·¯ç”±æŠ¥é”™çš„è§£å†³æ–¹æ³•</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#å…³äºajaxå‘é€cookieåˆ°æœåŠ¡ç«¯å‘ç”Ÿè·¨åŸŸçš„é—®é¢˜" class="sidebar-link">å…³äºajaxå‘é€cookieåˆ°æœåŠ¡ç«¯å‘ç”Ÿè·¨åŸŸçš„é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2019.html#encodeuri-å’Œ-encodeuricomponent-çš„åŒºåˆ«" class="sidebar-link">encodeURI() å’Œ encodeURIComponent() çš„åŒºåˆ«</a></li></ul></li></ul></li><li><a href="/Notebook/dailyRecord/2018.html" class="sidebar-link">2018</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>interview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/dailyRecord/interview.html" class="sidebar-link">é¢è¯•å¤ä¹ </a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2019"><a href="#_2019" aria-hidden="true" class="header-anchor">#</a> 2019</h1> <h2 id="ä¸€æœˆ"><a href="#ä¸€æœˆ" aria-hidden="true" class="header-anchor">#</a> ä¸€æœˆ</h2> <h3 id="åˆ©ç”¨-coverage-æ£€æµ‹å¯ä»¥æ‡’åŠ è½½çš„-modules"><a href="#åˆ©ç”¨-coverage-æ£€æµ‹å¯ä»¥æ‡’åŠ è½½çš„-modules" aria-hidden="true" class="header-anchor">#</a> åˆ©ç”¨ Coverage æ£€æµ‹å¯ä»¥æ‡’åŠ è½½çš„ modules</h3> <p>1ã€æ‰“å¼€ devToolsï¼ŒæŒ‰<code>Ctrl+shift+p</code>ï¼Œmac(<code>cmd+shift+p</code>)ï¼Œè¾“å…¥<code>Coverage</code>ï¼Œé€‰<code>Drawer: Coverage</code></p> <p>2ã€reload</p> <p>3ã€å¯ä»¥çœ‹åˆ°å“ªäº› modules å¯ä»¥ç”¨<code>import()</code>æ‡’åŠ è½½äº†</p> <h3 id="nginx-vue-history-çˆ¬å‘"><a href="#nginx-vue-history-çˆ¬å‘" aria-hidden="true" class="header-anchor">#</a> nginx vue history çˆ¬å‘</h3> <p>æŒ‰ç…§å®˜æ–¹<code>nginx</code>çš„å‚è€ƒé…ç½®ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>location / <span class="token punctuation">{</span>
  try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /index.html<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœæ˜¯é¡¹ç›®åœ¨æ ¹ç›®å½•å€’æ²¡å•¥é—®é¢˜ï¼Œä½†å¦‚æœé¡¹ç›®åœ¨ xxx è·¯å¾„ä¸‹ï¼Œæ¯”å¦‚åœ¨<code>http://ip/vue/</code>è·¯å¾„ä¸‹ï¼Œç‚¹å‡»è·³è½¬åˆ°è·¯ç”±<code>http://ip/vue/about</code>ä¸‹æ˜¯ ok çš„ï¼Œä½†æ˜¯ä¸€åˆ·æ–°é¡µé¢ï¼Œä½ ä¼šå‘ç°å°±ä¸å¥½ä½¿äº†ã€‚åŸå› å¾ˆç®€å•ï¼Œå°±åœ¨ä¸Šé¢çš„é…ç½®ä¸­:</p> <p><code>try_files $uri $uri/ /index.html</code> =&gt; <code>http://ip/vue/about/index.html</code></p> <p>æ‰€ä»¥ï¼Œè¿™ç§æƒ…å†µæ­£ç¡®çš„æ“ä½œæ˜¯ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>location /vue/ <span class="token punctuation">{</span>
  try_files <span class="token variable">$uri</span> <span class="token variable">$uri</span>/ /vue/index.html<span class="token punctuation">;</span><span class="token comment"># å…¨éƒ¨è·³å›åˆ°vue/index.htmlé¡µé¢ä¸­</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ³¨æ„ï¼Œ <code>/vue/</code>å®é™…ä¸Šä½ ä¸Šé¢é…çš„<code>root</code>ä¸‹çš„ vue æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ä½ çš„<code>root</code>æ˜¯<code>/app</code>ï¼Œ<code>location /vue/</code>å³ä¸º <code>location /app/vue/</code></p> <h3 id="iview-menu-ç»„ä»¶æ— æ³•é«˜äº®å±•å¼€é—®é¢˜"><a href="#iview-menu-ç»„ä»¶æ— æ³•é«˜äº®å±•å¼€é—®é¢˜" aria-hidden="true" class="header-anchor">#</a> iview menu ç»„ä»¶æ— æ³•é«˜äº®å±•å¼€é—®é¢˜</h3> <p>åœ¨ iview Menu ç»„ä»¶ä¸­ï¼Œå¦‚æœæ•°æ®æ˜¯å¼‚æ­¥è¯·æ±‚çš„ï¼ŒåŠ¨æ€è®¾ç½®<code>activeName</code>ã€<code>openNames</code>ä¼šä¸ç”Ÿæ•ˆï¼ŒåŸå› æ˜¯ activeNameã€æˆ–è€… openNames è¿™äº›ä¼˜å…ˆå‘Šè¯‰ Menu ç»„ä»¶äº†ï¼ŒæŒ‚è½½æ—¶(menuData è¿˜æ²¡è·å–åˆ°)å°±å·²ç»ç¡®å®šå¥½è¿™äº›çŠ¶æ€ï¼Œå°±ç®—æ˜¯ menuData è·å–åˆ°äº†ï¼Œä¹Ÿä¸ä¼šè§¦å‘ setter è¿›è¡Œé¡µé¢çŠ¶æ€æ›´æ–°</p> <p><strong>è§£å†³æ–¹æ¡ˆ</strong></p> <p>æ–¹æ¡ˆ 1ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ©ç”¨watch</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¼‚æ­¥è·å–æ•°æ®æ›´æ–°æ—¶ï¼Œéœ€è¦è¿›è¡Œé«˜äº®ã€å±•å¼€èŠ‚ç‚¹æ›´æ–°</span>
  <span class="token function">menuData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>menu<span class="token punctuation">.</span><span class="token function">updateActiveName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>menu<span class="token punctuation">.</span><span class="token function">updateOpened</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">activeName</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>menu<span class="token punctuation">.</span><span class="token function">updateActiveName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">openNames</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>menu<span class="token punctuation">.</span><span class="token function">updateOpened</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ–¹æ¡ˆ 2ï¼š</p> <p><code>&lt;Menu v-if=&quot;menuData.length !== 0&quot;/&gt;</code></p> <h3 id="æ»šåŠ¨è¿›åº¦æ¡æ ¸å¿ƒä»£ç "><a href="#æ»šåŠ¨è¿›åº¦æ¡æ ¸å¿ƒä»£ç " aria-hidden="true" class="header-anchor">#</a> æ»šåŠ¨è¿›åº¦æ¡æ ¸å¿ƒä»£ç </h3> <div class="custom-block tip"><p class="custom-block-title">åŸç†</p> <p>è§†å£æ»šåŠ¨çš„è·ç¦» / (æ–‡æ¡£æ€»é«˜åº¦ - è§†å£é«˜åº¦)</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// jq</span>
<span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>

<span class="token comment">// js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> scrollTop<span class="token punctuation">,</span> scrollHeight<span class="token punctuation">,</span> clientHeight <span class="token punctuation">}</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>scrollingElement<span class="token punctuation">;</span>
<span class="token punctuation">(</span>scrollTop <span class="token operator">/</span> <span class="token punctuation">(</span>scrollHeight <span class="token operator">-</span> clientHeight<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="äºŒæœˆ"><a href="#äºŒæœˆ" aria-hidden="true" class="header-anchor">#</a> äºŒæœˆ</h2> <h3 id="vue-jsx-ä½¿ç”¨å…¨å±€ç»„ä»¶"><a href="#vue-jsx-ä½¿ç”¨å…¨å±€ç»„ä»¶" aria-hidden="true" class="header-anchor">#</a> vue jsx ä½¿ç”¨å…¨å±€ç»„ä»¶</h3> <p>åœ¨ vue jsx ä¸­åªèƒ½ä½¿ç”¨<code>(kebab-case)</code>çš„å…¨å±€ç»„ä»¶ï¼Œä¸èƒ½ä½¿ç”¨<code>(PascalCase)</code>ï¼Œå¦‚æœè¦ä½¿ç”¨<code>(PascalCase)</code>ï¼Œå¯ä»¥è¿™ä¹ˆå†™</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">render</span> <span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> Tabs<span class="token punctuation">,</span> TabPane <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>components<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Tabs<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>TabPane<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TabPane<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Tabs<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="tomcat-å¼€å¯-gzip-é…ç½®"><a href="#tomcat-å¼€å¯-gzip-é…ç½®" aria-hidden="true" class="header-anchor">#</a> tomcat å¼€å¯ gzip é…ç½®</h3> <p>åœ¨<code>conf/server.xml</code>æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Connector</span>  <span class="token attr-name">port</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>8088<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">protocol</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>HTTP/1.1<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">connectionTimeout</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>20000<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">redirectPort</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>8443<span class="token punctuation">&quot;</span></span> <span class="token attr-name">URIEncoding</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span>
	          <span class="token attr-name">useSendfile</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">compression</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>on<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">compressionMinSize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>50<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">noCompressionUserAgents</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>gozilla,traviata<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">compressableMimeType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/html,text/xml,text/javascript,application/x-javascript,application/javascript,text/css,text/plain<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="vuecli3-å¼€å¯-gzip-é…ç½®"><a href="#vuecli3-å¼€å¯-gzip-é…ç½®" aria-hidden="true" class="header-anchor">#</a> vuecli3 å¼€å¯ gzip é…ç½®</h3> <p>å®‰è£… webpack æ’ä»¶</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add compression-webpack-plugin -D
</code></pre></div><p>é…ç½® vue.config.js</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  chainWebpack<span class="token punctuation">:</span> config <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&quot;CompressionPlugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>CompressionPlugin<span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          filename<span class="token punctuation">:</span> <span class="token string">&quot;[path].gz[query]&quot;</span><span class="token punctuation">,</span>
          algorithm<span class="token punctuation">:</span> <span class="token string">&quot;gzip&quot;</span><span class="token punctuation">,</span>
          test<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\.(js|css)$&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          threshold<span class="token punctuation">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
          minRatio<span class="token punctuation">:</span> <span class="token number">0.8</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ä¸‰æœˆ"><a href="#ä¸‰æœˆ" aria-hidden="true" class="header-anchor">#</a> ä¸‰æœˆ</h2> <h3 id="vue-v-model-ç»†èŠ‚"><a href="#vue-v-model-ç»†èŠ‚" aria-hidden="true" class="header-anchor">#</a> vue v-model ç»†èŠ‚</h3> <p><code>v-model</code> åœ¨å†…éƒ¨ä½¿ç”¨ä¸åŒçš„å±æ€§ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p> <ul><li>text å’Œ textarea å…ƒç´ ä½¿ç”¨ value å±æ€§å’Œ input äº‹ä»¶</li> <li>checkbox å’Œ radio ä½¿ç”¨ checked å±æ€§å’Œ change äº‹ä»¶</li> <li>select å­—æ®µå°† value ä½œä¸º prop å¹¶å°† change ä½œä¸ºäº‹ä»¶</li></ul> <h3 id="js-æ‰¾å‡ºæ•°ç»„æœ€å¤§æœ€å°å€¼"><a href="#js-æ‰¾å‡ºæ•°ç»„æœ€å¤§æœ€å°å€¼" aria-hidden="true" class="header-anchor">#</a> js æ‰¾å‡ºæ•°ç»„æœ€å¤§æœ€å°å€¼</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getMaxNumber</span> <span class="token operator">=</span> array <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getMinNumber</span> <span class="token operator">=</span> array <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vue-å¼ºè¿«é‡æ–°æ¸²æŸ“"><a href="#vue-å¼ºè¿«é‡æ–°æ¸²æŸ“" aria-hidden="true" class="header-anchor">#</a> vue å¼ºè¿«é‡æ–°æ¸²æŸ“</h3> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;comp&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;è¢«é‡æ–°æ¸²æŸ“äº†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç»„ä»¶&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    key<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
      <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;comp&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        key<span class="token punctuation">:</span> vm<span class="token punctuation">.</span>key
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">h</span><span class="token punctuation">(</span>
        <span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          on<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            click<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              vm<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;åˆ·æ–°&quot;</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vue-è·¯ç”±è·³è½¬é‡æ¸²æŸ“"><a href="#vue-è·¯ç”±è·³è½¬é‡æ¸²æŸ“" aria-hidden="true" class="header-anchor">#</a> vue è·¯ç”±è·³è½¬é‡æ¸²æŸ“</h3> <p>æ¯”å¦‚ï¼Œåœ¨ç‚¹å‡»èœå•åˆ‡æ¢ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ä¼šè¿›è¡Œ<code>$router.push({name: xxx, query: xxx})</code>åˆ‡æ¢å­è·¯ç”±é¡µé¢(åŒä¸€ä¸ªç»„ä»¶)ï¼Œå­è·¯ç”±é¡µé¢ä¼šè·å–ç›¸å…³è·¯ç”±å‚æ•°è¿›è¡Œæ•°æ®è¯·æ±‚ï¼Œä½†æ˜¯ vue-router ä¼šé»˜è®¤<strong>åŒä¸€ç»„ä»¶ä¸é‡å¤å®ä¾‹åŒ–</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ 2 ç§æ–¹æ³•ï¼š</p> <p>1ã€å­è·¯ç”±<code>watch: $route</code>ï¼Œç„¶åè¿›è¡Œç›¸å…³è¯·æ±‚é€»è¾‘</p> <p>2ã€æ¯æ¬¡è·³è½¬è·¯ç”±(å³ä½¿æ˜¯åŒä¸€ä¸ª)éƒ½å¼ºåˆ¶é‡åˆ·æ–°</p> <p>ç¬¬ä¸€ç§æ–¹æ³•ç»å¸¸ç”¨äº†ï¼Œè¿™é‡Œä¸å†è¯¦å™ã€‚æ ¹æ®ä¸Šä¸ªç¬”è®°çš„å¯å‘ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹å†™æ³•è½»æ¾å®ç°å¼ºåˆ¶ç»„ä»¶é‡æ¸²æŸ“</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$route.fullPath<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>æ³¨æ„ï¼Œç»„ä»¶æ¸²æŸ“é‡å°‘çš„è¯å¯ä»¥ä½¿ç”¨ï¼Œå¦‚æœç»„ä»¶å¾ˆé‡ï¼Œè¿˜æ˜¯å»ºè®®ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•</p> <h2 id="å››æœˆ"><a href="#å››æœˆ" aria-hidden="true" class="header-anchor">#</a> å››æœˆ</h2> <h3 id="echarts-å¹³å‡å€¼-tooltip-çš„é—®é¢˜"><a href="#echarts-å¹³å‡å€¼-tooltip-çš„é—®é¢˜" aria-hidden="true" class="header-anchor">#</a> echarts å¹³å‡å€¼ toolTip çš„é—®é¢˜</h3> <p>åœ¨ echarts é»˜è®¤å‡ºç°çš„ toolTip ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°<code>null</code>ç­‰å¥‡æ€ªçš„ä¸œè¥¿å‡ºæ¥ï¼Œéœ€è¦ç”¨ formatter è§£å†³</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
  tooltip<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">formatter</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// marker æ˜¯å°åœ†ç‚¹</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> color<span class="token punctuation">,</span> marker<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> params<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> color <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>marker<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vue-ä¸­-self-äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#vue-ä¸­-self-äº‹ä»¶ä¿®é¥°ç¬¦" aria-hidden="true" class="header-anchor">#</a> vue ä¸­ self äº‹ä»¶ä¿®é¥°ç¬¦</h3> <p><code>.self</code> äº‹ä»¶ä¿®é¥°ç¬¦å®é™…ç­‰äº <code>if (event.target !== event.currentTarget) return</code></p> <h3 id="æ­£åˆ™è¿‡æ»¤-index-js-æ–‡ä»¶"><a href="#æ­£åˆ™è¿‡æ»¤-index-js-æ–‡ä»¶" aria-hidden="true" class="header-anchor">#</a> æ­£åˆ™è¿‡æ»¤ &quot;./index.js&quot; æ–‡ä»¶</h3> <p><code>/\.\/(?!index\.)\w*\.js$/.test(&quot;./index.js&quot;)</code></p> <h3 id="form-è¡¨å•ä¸­-button-çš„å‘"><a href="#form-è¡¨å•ä¸­-button-çš„å‘" aria-hidden="true" class="header-anchor">#</a> form è¡¨å•ä¸­ button çš„å‘</h3> <p>åœ¨<code>form</code>è¡¨å•ä¸­ï¼Œå¦‚æœå«æœ‰<code>button</code>æŒ‰é’®æ ‡ç­¾ï¼Œç‚¹å‡»åˆ™ä¼šé‡è½½é¡µé¢ï¼ŒåŸå› æ˜¯å› ä¸ºåœ¨æµè§ˆå™¨ä¸­ï¼Œ<code>button</code>çš„<code>type</code>å±æ€§ä¼šæœ‰é»˜è®¤å€¼ï¼Œw3c æ ‡å‡†å¦‚ä¸‹ï¼š</p> <blockquote><p>è¯·å§‹ç»ˆä¸ºæŒ‰é’®è§„å®š type å±æ€§ã€‚Internet Explorer çš„é»˜è®¤ç±»å‹æ˜¯ &quot;button&quot;ï¼Œè€Œå…¶ä»–æµè§ˆå™¨ä¸­ï¼ˆåŒ…æ‹¬ W3C è§„èŒƒï¼‰çš„é»˜è®¤å€¼æ˜¯ &quot;submit&quot;ã€‚</p></blockquote> <p><code>type</code>å±æ€§ä¸º<code>submit</code>æ—¶ä¼šåœ¨è¡¨å•ä¸­è§¦å‘é‡è½½é¡µé¢ï¼Œæ‰€ä»¥æŒ‡å®š <code>type</code> å±æ€§ä¸º <code>button</code>å³å¯</p> <p>åœ¨ form è¡¨å•ä¸­ï¼Œåº”è¯¥ç”¨<code>input</code>æ ‡ç­¾æ¥åˆ›å»ºæŒ‰é’®</p> <h3 id="cached-å‡½æ•°"><a href="#cached-å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> cached å‡½æ•°</h3> <p>è¯¥å‡½æ•°ä¸€èˆ¬ç”¨äº<strong>ç¼“å­˜æ¯”è¾ƒè€—æ—¶</strong>çš„å‡½æ•°ï¼Œä¸»è¦åˆ©ç”¨é—­åŒ…è¿›è¡Œå®ç°</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">cached</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cache <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">cachedFn</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> hit <span class="token operator">=</span> cache<span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> hit <span class="token operator">||</span> <span class="token punctuation">(</span>cache<span class="token punctuation">[</span>str<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">cached</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;test1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2.9ms</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">&quot;test1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.005ms // ç¬¬ä¸€æ¬¡è¢«ç¼“å­˜ï¼Œæ‰€ä»¥éå¸¸å¿«</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">&quot;test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="yarn-å‡çº§æŒ‡å®šåŒ…"><a href="#yarn-å‡çº§æŒ‡å®šåŒ…" aria-hidden="true" class="header-anchor">#</a> yarn å‡çº§æŒ‡å®šåŒ…</h3> <p>yarn upgrade-interactive --latest</p> <h3 id="å…³äº-vue-button-ç»„ä»¶çš„å°å‘"><a href="#å…³äº-vue-button-ç»„ä»¶çš„å°å‘" aria-hidden="true" class="header-anchor">#</a> å…³äº vue button ç»„ä»¶çš„å°å‘</h3> <p>è‡ªå·±å°è£…äº†ä¸€ä¸ª<code>button</code>ç»„ä»¶</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Button'</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      on<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        click<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨</p> <Button>æŒ‰é’®</Button> <p>è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯ä¼šæŠ¥æ‰¾ä¸åˆ° Cannot read property 'stopPropagation' of undefined è¿™ç§é”™</p> <p>è§£å†³æ–¹æ¡ˆæ˜¯ æŠŠ event å¯¹è±¡ä¼ å‡ºå»å³å¯</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      on<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        click<span class="token punctuation">:</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="äº”æœˆ"><a href="#äº”æœˆ" aria-hidden="true" class="header-anchor">#</a> äº”æœˆ</h2> <h3 id="letã€constã€functionã€class-åœ¨-switch-ä¸­ä½œç”¨åŸŸé—®é¢˜"><a href="#letã€constã€functionã€class-åœ¨-switch-ä¸­ä½œç”¨åŸŸé—®é¢˜" aria-hidden="true" class="header-anchor">#</a> letã€constã€functionã€class åœ¨ switch ä¸­ä½œç”¨åŸŸé—®é¢˜</h3> <div class="custom-block tip"><p class="custom-block-title">åŸç†</p> <p>è¯æ³•å£°æ˜åœ¨æ•´ä¸ª switch è¯­å¥å—ä¸­æ˜¯å¯è§çš„ï¼Œä½†æ˜¯å®ƒåªæœ‰åœ¨è¿è¡Œåˆ°å®ƒå®šä¹‰çš„ case è¯­å¥æ—¶ï¼Œæ‰ä¼šè¿›è¡Œåˆå§‹åŒ–æ“ä½œ</p></div> <p>é”™è¯¯ç¤ºä¾‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>
    <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ­£ç¡®ç¤ºä¾‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>
    <span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è¾“å…¥æ¡†-inputã€change-äº‹ä»¶çš„åŒºåˆ«"><a href="#è¾“å…¥æ¡†-inputã€change-äº‹ä»¶çš„åŒºåˆ«" aria-hidden="true" class="header-anchor">#</a> è¾“å…¥æ¡† inputã€change äº‹ä»¶çš„åŒºåˆ«</h3> <div class="custom-block tip"><p class="custom-block-title">MDNæ–‡æ¡£</p> <blockquote><p>ä¸ input äº‹ä»¶ä¸åŒï¼Œchange äº‹ä»¶ä¸ä¸€å®šä¼šå¯¹å…ƒç´ å€¼çš„æ¯æ¬¡æ›´æ”¹è§¦å‘</p></blockquote></div> <p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¾“å…¥æ¡†<code>change</code>äº‹ä»¶æ˜¯åœ¨è¾“å…¥å€¼æ—¶å¤±å»ç„¦ç‚¹æˆ–è€…æŒ‰å›è½¦æ‰ä¼šè§¦å‘ï¼Œ<code>input</code>äº‹ä»¶åœ¨è¾“å…¥æ—¶å°±ä¼šè§¦å‘</p> <p>ä½†æ˜¯åœ¨<strong>react</strong>ä¸­ï¼Œè¿™ä¸¤è€…æ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥åœ¨è¿™çœ‹çœ‹<a href="https://stackoverflow.com/questions/38256332/in-react-whats-the-difference-between-onchange-and-oninput" target="_blank" rel="noopener noreferrer">åŸå› <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="webpack-hmr-åŸç†"><a href="#webpack-hmr-åŸç†" aria-hidden="true" class="header-anchor">#</a> webpack HMR åŸç†</h3> <p>æ­¥éª¤ï¼š</p> <ol><li>webpack å¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œ watch æ‰“åŒ…åˆ°å†…å­˜ä¸­</li> <li>devServer é€šçŸ¥æµè§ˆå™¨ç«¯æ–‡ä»¶å‘ç”Ÿæ”¹å˜</li> <li>webpack-dev-server/client æ¥æ”¶åˆ°æœåŠ¡ç«¯æ¶ˆæ¯åšå‡ºå“åº”</li> <li>webpack æ¥æ”¶åˆ°æœ€æ–° hash å€¼éªŒè¯å¹¶è¯·æ±‚æ¨¡å—ä»£ç </li> <li>HotModuleReplacement.runtime å¯¹æ¨¡å—è¿›è¡Œçƒ­æ›´æ–°</li> <li>ä¸šåŠ¡æ¨¡å—è°ƒç”¨ HMR çš„ accept æ–¹æ³•ï¼Œæ·»åŠ æ¨¡å—æ›´æ–°åçš„å›è°ƒå‡½æ•°</li></ol> <p>å‚è€ƒä¸€ä¸ªå¤§ä½¬å†™çš„<a href="https://zhuanlan.zhihu.com/p/30669007" target="_blank" rel="noopener noreferrer">æ–‡ç« <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="function-length"><a href="#function-length" aria-hidden="true" class="header-anchor">#</a> Function.length</h3> <p><code>Function.length</code> è¡¨ç¤ºå‡½æ•°å½¢å‚çš„ä¸ªæ•°</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><h3 id="js-å˜é‡ç§æœ‰åŒ–"><a href="#js-å˜é‡ç§æœ‰åŒ–" aria-hidden="true" class="header-anchor">#</a> js å˜é‡ç§æœ‰åŒ–</h3> <p>åˆ©ç”¨é—­åŒ…</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// nameå˜é‡ç§æœ‰åŒ–</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;l&quot;</span><span class="token punctuation">;</span>
  
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>newName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    name <span class="token operator">=</span> newName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// test</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;l&quot;</span>
</code></pre></div><h3 id="vuecli3-ä½¿ç”¨-webpack-bundle-analyzer"><a href="#vuecli3-ä½¿ç”¨-webpack-bundle-analyzer" aria-hidden="true" class="header-anchor">#</a> vuecli3 ä½¿ç”¨ webpack-bundle-analyzer</h3> <p>vue-config.js åŠ å…¥ä»¥ä¸‹å‡ å¥ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  chainWebpack<span class="token punctuation">:</span> config <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// npm xxx --report è¿™é‡Œ npm config ä¼šè¯†åˆ«åˆ°</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_config_report<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      config
        <span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'webpack-bundle-analyzer'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-bundle-analyzer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>BundleAnalyzerPlugin<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶å <code>npm run build --report</code> å³å¯</p> <p>æ³¨æ„ï¼Œå¦‚æœç”¨ <code>yarn</code> çš„è¯ <code>npm_config_report</code> ä¼šæ— æ³•è¯†åˆ«</p> <h3 id="babel-plugin-transform-runtime-ä½¿ç”¨"><a href="#babel-plugin-transform-runtime-ä½¿ç”¨" aria-hidden="true" class="header-anchor">#</a> @babel/plugin-transform-runtime ä½¿ç”¨</h3> <p>è¿™ä¸ªæ’ä»¶æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</p> <div class="custom-block tip"><p class="custom-block-title">æ–‡æ¡£åŸæ–‡</p> <blockquote><p>A plugin that enables the re-use of Babel's injected helper code to save on codesize.</p></blockquote></div> <p>ä¹Ÿå°±æ˜¯å¯ä»¥æŠŠé‡å¤çš„babel-helperä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œå‡å°‘é‡å¤çš„ä»£ç </p> <p>å®‰è£…</p> <div class="language-shell extra-class"><pre class="language-shell"><code>yarn add @babel/plugin-transform-runtime -D

yarn add @babel/runtime
</code></pre></div><p>ä½¿ç”¨ babel.config.js</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>ä½¿ç”¨æ’ä»¶å‰çš„ä»£ç æµ‹è¯•</strong></p> <p>æµ‹è¯• <code>async/await</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½¿ç”¨ <code>@babel/preset-env</code> åï¼Œä¸ºäº†æ”¯æŒ <code>async/await</code>ï¼Œä¼šåœ¨ä»£ç åŠ å…¥ä¸‹é¢å‡ ä¸ªå‡½æ•°</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">asyncGeneratorStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token comment">// å¾ˆé•¿ï¼Œçœç•¥</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_asyncToGenerator</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token comment">// å¾ˆé•¿ï¼Œçœç•¥</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¼€å§‹è½¬è¯‘ async/await ...</span>
</code></pre></div><p>è¿™äº›æ¯ä¸ªæœ‰ <code>async/await</code> çš„åœ°æ–¹ï¼Œéƒ½æœ‰ä¸Šé¢2ä¸ª helper å‡½æ•°å­˜åœ¨ï¼Œè¿™æ ·ä»£ç ä¼šéå¸¸å†—ä½™</p> <p><strong>ä½¿ç”¨æ’ä»¶åçš„æƒ…å†µ</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> _interopRequireDefault <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/runtime/helpers/interopRequireDefault&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> _regenerator <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/runtime/regenerator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> _asyncToGenerator2 <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/runtime/helpers/asyncToGenerator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ ·ï¼Œå¯ä»¥åšåˆ°é‡å¤åˆ©ç”¨ helper å‡½æ•°ï¼Œå‡å°‘å¤§é‡çš„é‡å¤ä»£ç </p> <h2 id="å…­æœˆ"><a href="#å…­æœˆ" aria-hidden="true" class="header-anchor">#</a> å…­æœˆ</h2> <h3 id="babel-å¼€å¯es7è£…é¥°è€…æ¨¡å¼"><a href="#babel-å¼€å¯es7è£…é¥°è€…æ¨¡å¼" aria-hidden="true" class="header-anchor">#</a> Babel å¼€å¯ES7è£…é¥°è€…æ¨¡å¼</h3> <p>å®‰è£…æ’ä»¶</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add @babel/plugin-proposal-decorators @babel/plugin-proposal-class-properties -D
</code></pre></div><p>å¢åŠ  <code>plugins</code> é…ç½®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> legacy<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> loose<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="new-æ„é€ å‡½æ•°èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆ"><a href="#new-æ„é€ å‡½æ•°èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆ" aria-hidden="true" class="header-anchor">#</a> new æ„é€ å‡½æ•°èƒŒåå‘ç”Ÿäº†ä»€ä¹ˆ</h3> <ul><li>ä»¥æ„é€ å™¨çš„ <code>prototype</code> å±æ€§ä¸ºåŸå‹ï¼Œåˆ›å»ºæ–°å¯¹è±¡</li> <li>å°†æ–°å¯¹è±¡ä¸º <code>this</code>ï¼Œè°ƒç”¨å‚æ•°ä¼ ç»™æ„é€ å™¨ï¼Œæ‰§è¡Œ</li> <li>å¦‚æœæ„é€ å™¨è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™è¿”å›ç¬¬ä¸€æ­¥åˆ›å»ºçš„å¯¹è±¡</li></ul> <p>å¦‚ä½•å®ç°ä¸€ä¸ª<code>new</code>å‡½æ•°å‘¢ï¼Ÿ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">_new</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> Constructor<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> res <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> res <span class="token punctuation">:</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="transitionend-äº‹ä»¶ç»†èŠ‚"><a href="#transitionend-äº‹ä»¶ç»†èŠ‚" aria-hidden="true" class="header-anchor">#</a> transitionend äº‹ä»¶ç»†èŠ‚</h3> <blockquote><p>å½“ transition å®Œæˆå‰ç§»é™¤ transition æ—¶ï¼Œæ¯”å¦‚ç§»é™¤ css çš„ <code>transition-property</code> å±æ€§ï¼Œäº‹ä»¶å°†ä¸ä¼šè¢«è§¦å‘ï¼Œè¿˜æœ‰åœ¨ transition å®Œæˆå‰è®¾ç½® <code>display: none</code>ï¼Œäº‹ä»¶åŒæ ·ä¸ä¼šè¢«è§¦å‘</p></blockquote> <h3 id="css-åŠ è½½ä¼šé€ æˆé˜»å¡å—ï¼Ÿ"><a href="#css-åŠ è½½ä¼šé€ æˆé˜»å¡å—ï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> css åŠ è½½ä¼šé€ æˆé˜»å¡å—ï¼Ÿ</h3> <p>çœ‹åˆ°ä¸€ç¯‡ä¸é”™çš„æ–‡ç« ï¼Œè¯·æˆ³ <a href="https://zhuanlan.zhihu.com/p/43282197" target="_blank" rel="noopener noreferrer">cssåŠ è½½ä¼šé€ æˆé˜»å¡å—<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>ç»“è®ºï¼š</p> <ul><li>cssåŠ è½½ä¸ä¼šé˜»å¡DOMæ ‘çš„è§£æ</li> <li>cssåŠ è½½ä¼šé˜»å¡DOMæ ‘çš„æ¸²æŸ“</li> <li>cssåŠ è½½ä¼šé˜»å¡åé¢jsè¯­å¥çš„æ‰§è¡Œ</li></ul> <h3 id="åœ¨-webpack-ä¸­-process-env-node-env-æ˜¯å¦‚ä½•ç”Ÿæ•ˆçš„"><a href="#åœ¨-webpack-ä¸­-process-env-node-env-æ˜¯å¦‚ä½•ç”Ÿæ•ˆçš„" aria-hidden="true" class="header-anchor">#</a> åœ¨ webpack ä¸­ process.env.NODE_ENV æ˜¯å¦‚ä½•ç”Ÿæ•ˆçš„</h3> <p>æœ€è¿‘åœ¨åšé¡¹ç›®æ—¶ï¼Œç»å¸¸ä¼šç”¨ <code>process.env.NODE_ENV</code> æ¥åŒºåˆ†ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒï¼Œåˆ†åˆ«è¿›è¡Œä¸åŒçš„é€»è¾‘ç¼–å†™ï¼Œè™½ç„¶ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ä¸çŸ¥é“èƒŒåæ˜¯æ€ä¹ˆå®ç°ã€‚æŠ±ç€è¿™ä»½å¥½å¥‡å¿ƒï¼Œä¾¿ç ”ç©¶äº†ä¸€ä¸‹ã€‚</p> <p>åœ¨ <code>node.js</code> ç¯å¢ƒä¸­ï¼Œ<code>process.env</code> åŒ…å«å½“å‰çš„ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯åœ¨ <code>webpack</code> æ‰“åŒ…å‡ºæ¥çš„ä»£ç æ˜¯æµè§ˆå™¨è¿è¡Œæ—¶çš„ï¼Œè·Ÿ <code>node.js</code> é‚£ç§æ— å…³ã€‚æ‰€ä»¥åœ¨ <code>webpack</code> ç¯å¢ƒä¸‹ï¼Œæ˜¯ç”¨äº†ä¸€ä¸ªåä¸º <code>DefinePlugin</code> çš„æ’ä»¶æ¥å®ç° <code>process.env</code> è¿™äº›åŠŸèƒ½çš„</p> <p>å…³äºè¿™ä¸ªæ’ä»¶ï¼Œå¯ä»¥çœ‹çœ‹è¿™é‡Œ <a href="https://webpack.js.org/plugins/define-plugin/#usage" target="_blank" rel="noopener noreferrer">https://webpack.js.org/plugins/define-plugin/#usage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>æˆ‘å½“å‰åšçš„é¡¹ç›®æ˜¯<code>vuecli3</code>æ„å»ºå‡ºæ¥çš„ï¼Œçœ‹äº†ä¸‹<code>webpack</code>é…ç½®ä¿¡æ¯ï¼Œè„šæ‰‹æ¶å¾ˆè´´å¿ƒå¸®æˆ‘ä»¬é…ç½®å¥½äº†ï¼Œç±»å‹è¿™ç§:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">DefinePlugin</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token string">'process.env'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token constant">NODE_ENV</span><span class="token punctuation">:</span> <span class="token string">'&quot;development&quot;'</span><span class="token punctuation">,</span>
      <span class="token constant">BASE_URL</span><span class="token punctuation">:</span> <span class="token string">'&quot;&quot;'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­å¯ä»¥è¿™ä¹ˆå†™</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isDev</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>ä½†æ˜¯ï¼Œé—®é¢˜åˆæ¥äº†ï¼Œæ¯”å¦‚ï¼Œæˆ‘åœ¨ç‚¹å‡»äº‹ä»¶ä¸­</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç‚¹å‡»åï¼Œæ§åˆ¶å°æ‰“å°å‡ºäº†ä¸Šé¢å®šä¹‰çš„å¯¹è±¡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token constant">NODE_ENV</span><span class="token punctuation">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  <span class="token constant">BASE_URL</span><span class="token punctuation">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¼€å§‹æˆ‘ä»¥ä¸º <code>process</code> è¿™å˜é‡æ˜¯æŒ‚åœ¨ <code>window</code> ä¸Šäº†ï¼Œåæ¥éªŒè¯äº†ä¸‹å¹¶ä¸æ˜¯ï¼Œä½†æ˜¯ <code>process.env</code> æ˜¯æ€ä¹ˆæ‰“å°å‡ºæ¥çš„å‘¢ï¼Ÿ</p> <p>åæ¥ï¼Œæˆ‘å»æŸ¥äº†ä¸‹æ‰“åŒ…åçš„ä»£ç ï¼Œå‘ç°åŸæ¥æ˜¯è¿™ä¹ˆå®ç°çš„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Object</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;NODE_ENV&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;BASE_URL&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>DefinePlugin</code> æ’ä»¶å¯ä»¥åœ¨ <code>webpack</code> ç¼–è¯‘æ—¶å°±æŠŠå®šä¹‰å¥½çš„å˜é‡ç›´æ¥è½¬è¯‘äº†ï¼ŒçœŸç›¸ç»ˆäºè¢«æ­æ™“äº†ã€‚</p> <h3 id="å…³äº-npm-åŒ…ç‰ˆæœ¬å·å‰ç¼€-å’Œ-åŒºåˆ«"><a href="#å…³äº-npm-åŒ…ç‰ˆæœ¬å·å‰ç¼€-å’Œ-åŒºåˆ«" aria-hidden="true" class="header-anchor">#</a> å…³äº npm åŒ…ç‰ˆæœ¬å·å‰ç¼€ ~ å’Œ ^ åŒºåˆ«</h3> <p>~ ä¼šåŒ¹é…å®‰è£…æœ€è¿‘çš„å°ç‰ˆæœ¬ä¾èµ–åŒ…ï¼Œæ¯”å¦‚~1.2.3ä¼šåŒ¹é…æ‰€æœ‰1.2.xç‰ˆæœ¬ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬1.3.0</p> <p>^ ä¼šåŒ¹é…å®‰è£…æœ€æ–°çš„å¤§ç‰ˆæœ¬ä¾èµ–åŒ…ï¼Œæ¯”å¦‚^1.2.3ä¼šåŒ¹é…æ‰€æœ‰1.x.xçš„åŒ…ï¼ŒåŒ…æ‹¬1.3.0ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬2.0.0</p> <h2 id="ä¸ƒæœˆ"><a href="#ä¸ƒæœˆ" aria-hidden="true" class="header-anchor">#</a> ä¸ƒæœˆ</h2> <h3 id="falsy-å’Œ-truthy"><a href="#falsy-å’Œ-truthy" aria-hidden="true" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy" target="_blank" rel="noopener noreferrer">Falsy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy" target="_blank" rel="noopener noreferrer">Truthy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <blockquote><p><strong>Falsy</strong>(è™šå€¼) æ˜¯åœ¨ Boolean ä¸Šä¸‹æ–‡(æ¡ä»¶è¯­å¥æˆ–è€…å¾ªç¯è¯­å¥ä¸­)ä¸­å·²è®¤å®šå¯è½¬æ¢ä¸º <strong>å‡</strong> çš„å€¼</p></blockquote> <p>ä¸‹é¢çš„éƒ½æ˜¯ <code>Falsy</code>ï¼š</p> <ul><li><code>undefined</code></li> <li><code>null</code></li> <li><code>NaN</code></li> <li><code>0</code></li> <li><code>''</code></li> <li><code>false</code></li> <li><code>document.all</code></li></ul> <blockquote><p><strong>Truthy</strong>(çœŸå€¼) æ˜¯æŒ‡çš„æ˜¯åœ¨å¸ƒå°”å€¼ä¸Šä¸‹æ–‡ä¸­ï¼Œè½¬æ¢åçš„å€¼ä¸ºçœŸçš„å€¼ï¼Œé™¤äº†ä¸Šé¢ <strong>Falsy</strong> ä»¥å¤–çš„å€¼éƒ½æ˜¯çœŸå€¼</p></blockquote> <h3 id="äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µæ˜¯ä»€ä¹ˆï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µæ˜¯ä»€ä¹ˆï¼Ÿ</h3> <p>Capturing &gt; Target &gt; Bubbling</p> <p>æ•è· &gt; ç›®æ ‡ &gt; å†’æ³¡</p> <h3 id="flex-é¡¹ç›®å±æ€§å€¼è®°å½•"><a href="#flex-é¡¹ç›®å±æ€§å€¼è®°å½•" aria-hidden="true" class="header-anchor">#</a> flex é¡¹ç›®å±æ€§å€¼è®°å½•</h3> <ul><li>order: <code>&lt;integer&gt;</code> é»˜è®¤ä¸º 0 (å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº)</li> <li>flex-grow: <code>&lt;number&gt;</code> é»˜è®¤ä¸º 0 (å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸ä¼¸å±•æ”¾å¤§)</li> <li>flex-shrink: <code>&lt;number&gt;</code> é»˜è®¤ä¸º 1 (å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†è¢«æŒ¤å‹ç¼©å°)</li> <li>flex-basis: <code>&lt;length&gt; | auto</code> (å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼Œauto ä¸ºé¡¹ç›®çš„æœ¬æ¥å¤§å°)</li> <li>flex: <code>none | [ &lt;'flex-grow'&gt; &lt;'flex-shrink'&gt;? || &lt;'flex-basis'&gt; ]</code></li></ul> <h3 id="å…³äº-è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#å…³äº-è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼" aria-hidden="true" class="header-anchor">#</a> å…³äº è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è§‚å¯Ÿè€…æ¨¡å¼</span>
<span class="token comment">// ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€ä»¥ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥</span>

<span class="token comment">// demo</span>
<span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token function">subscribe</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> cb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>sub <span class="token operator">=&gt;</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> ob1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ob2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ob3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ob2<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>ob1<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ob2 æ·»åŠ äº†å¯¹ ob1 çš„ä¾èµ–ï¼Œob1 é€šçŸ¥äº†æˆ‘ä¼šå“åº”'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

ob3<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>ob1<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ob3 æ·»åŠ äº†å¯¹ ob1 çš„ä¾èµ–ï¼Œob1 é€šçŸ¥äº†æˆ‘ä¼šå“åº”'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

ob1<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ob1 å‘é€šçŸ¥äº†</span>

<span class="token comment">// å‘å¸ƒ-è®¢é˜… </span>
<span class="token comment">// å‘å¸ƒ-è®¢é˜… æ˜¯è§‚å¯Ÿè€…çš„å‡çº§ç‰ˆ</span>
<span class="token comment">// å‘å¸ƒ-è®¢é˜… æ‹¥æœ‰ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒ</span>
<span class="token comment">// å¦‚æœç”¨ å‘å¸ƒ-è®¢é˜… ï¼Œä¸Šé¢ Observer ç±»çš„ subscribe å’Œ publish æ–¹æ³•éƒ½åœ¨ observer å¯¹è±¡(è°ƒåº¦ä¸­å¿ƒ) è¿›è¡Œç®¡ç†</span>

<span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token punctuation">{</span>
  subs<span class="token punctuation">:</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">subscribe</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> cb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">publish</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>cb <span class="token operator">=&gt;</span> cb<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'ob'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ob äº‹ä»¶è¢«è®¢é˜…äº†ï¼Œå¯ä»¥å‘å¸ƒ'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'obob'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obob äº‹ä»¶è¢«è®¢é˜…äº†ï¼Œå¯ä»¥å‘å¸ƒ'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

observer<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'ob'</span><span class="token punctuation">)</span>
observer<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'obob'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="js-è¯æ³•åˆ†æ"><a href="#js-è¯æ³•åˆ†æ" aria-hidden="true" class="header-anchor">#</a> js è¯æ³•åˆ†æ</h3> <p>js è¿è¡Œå‰ä¼šè¿›è¡Œè¯æ³•åˆ†æï¼Œä¸»è¦ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š</p> <ul><li><p>åˆ†æå‚æ•°</p></li> <li><p>åˆ†æå˜é‡çš„å£°æ˜</p></li> <li><p>åˆ†æå‡½æ•°çš„å£°æ˜</p></li></ul> <p>å°è¯•åˆ†æä¸‹é¢ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">function</span> <span class="token function">t1</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function age(){}</span>

  <span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 27</span>

  <span class="token keyword">function</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 27</span>

<span class="token punctuation">}</span>

<span class="token function">t1</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>å…·ä½“æ­¥éª¤ï¼š</p> <p>å‡½æ•°åœ¨è¿è¡Œçš„ç¬é—´ï¼Œç”Ÿæˆä¸€ä¸ªæ´»åŠ¨å¯¹è±¡ï¼ˆActive Objectï¼‰ï¼Œç®€ç§° AO</p> <p>ç¬¬ä¸€æ­¥ï¼šåˆ†æå‚æ•°ï¼š</p> <p>å‡½æ•°æ¥æ”¶å½¢å¼å‚æ•°ï¼Œæ·»åŠ åˆ° AO çš„å±æ€§ï¼Œå¹¶ä¸”è¿™ä¸ªæ—¶å€™ age å€¼ä¸º undefinedï¼Œå³ AO.age=undefined</p> <p>æ¥æ”¶å®å‚ï¼Œæ·»åŠ åˆ° AO çš„å±æ€§ï¼Œè¦†ç›–ä¹‹å‰çš„ undefined, AO.age = 3</p> <p>ç¬¬äºŒæ­¥ï¼šåˆ†æå˜é‡å£°æ˜ï¼šå¦‚ var name;æˆ– var name='mary'ï¼Œä»¥ä¸Šä»£ç å­˜åœ¨ var age = 27</p> <p>è¿™æ—¶å€™ AO ä¸Šé¢å·²ç»æœ‰ age å±æ€§äº†ï¼Œåˆ™ä¸ä½œä»»ä½•ä¿®æ”¹ï¼Œå¦åˆ™ï¼Œå¦åˆ™ AO çš„å±æ€§å€¼ä¸º undefined</p> <p>ç¬¬ä¸‰æ­¥ï¼šåˆ†æå‡½æ•°çš„å£°æ˜ï¼š</p> <p>function age(){}æŠŠå‡½æ•°èµ‹ç»™ AO.age ,è¦†ç›–ä¸Šä¸€æ­¥åˆ†æçš„å€¼</p> <p>AO.age = function age(){}</p> <h3 id="å…³äº-axios-æ— æ³•è¯·æ±‚-koa-å†™çš„æ¥å£çš„é—®é¢˜"><a href="#å…³äº-axios-æ— æ³•è¯·æ±‚-koa-å†™çš„æ¥å£çš„é—®é¢˜" aria-hidden="true" class="header-anchor">#</a> å…³äº axios æ— æ³•è¯·æ±‚ koa å†™çš„æ¥å£çš„é—®é¢˜</h3> <p>æˆ‘åœ¨å‰ç«¯é¡µé¢è¯•ç€ç”¨<code>axios</code>è¯·æ±‚ç”¨<code>koa</code>å†™çš„æ¥å£ï¼Œè¿™æ˜¯å‰ç«¯ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">axiosPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'shooter'</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3000/json'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ˜¯åç«¯æ¥å£ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/json'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">{</span>
    status<span class="token punctuation">:</span> <span class="token string">'200'</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>å‘ç°è¿™æ—¶å€™è¯·æ±‚æŠ¥äº†ä¸ªè·¨åŸŸçš„é”™è¯¯ï¼Œäºæ˜¯ï¼Œæˆ‘åœ¨ä¸Šé¢åŠ äº†è·¨åŸŸå¤„ç†</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// *ä»£è¡¨å…è®¸æ¥è‡ªæ‰€æœ‰åŸŸåè¯·æ±‚ï¼ŒåŒ…æ‹¬ OPTION è¯·æ±‚</span>
  ctx<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å‘ç°è¿˜æ˜¯æŠ¥äº†<code>has been blocked by CORS policy: Request header field content-type is not allowed by Access-Control-Allow-Headers in preflight response.</code>è¿™ä¸ªé”™è¯¯ã€‚ä»”ç»†çœ‹ä¸‹ï¼Œå…¶å®æ˜¯è¯·æ±‚å¤´<code>content-type</code>è¢«ä¿®æ”¹äº†ï¼Œä¸»è¦åŸå› æ˜¯<code>axios</code>postè¯·æ±‚çš„<code>content-type</code>é»˜è®¤ç”¨<code>application/json</code>ï¼Œç›¸å½“äº<code>xhr.setRequestHeader('Content-type', 'application/json;');</code>ï¼Œæ‰€ä»¥è§£å†³æ–¹æ¡ˆæ˜¯å…è®¸ä¿®æ”¹è¯·æ±‚å¤´ï¼Œè¿˜è¦åŠ å¤šä¸€è¡Œä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// *ä»£è¡¨å…è®¸æ¥è‡ªæ‰€æœ‰åŸŸåè¯·æ±‚ï¼ŒåŒ…æ‹¬ OPTION è¯·æ±‚</span>
  ctx<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;Access-Control-Allow-Headers&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ ·å°±å¯ä»¥äº†</p> <p>ä¸ºå†éªŒè¯ä¸‹ï¼Œæ‰‹å†™äº†ä¸ªåŸç”Ÿ<code>post</code>è¯·æ±‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">postJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'shooter'</span>
  <span class="token punctuation">}</span>
  xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token string">'http://localhost:3000/json'</span><span class="token punctuation">)</span>
  <span class="token comment">// ä¸è®¾è¿™ä¸ªï¼Œä¸Šé¢ä¸è®¾ ctx.set(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);ä¸æŠ¥é”™</span>
  <span class="token comment">// è®¾äº†è¿™ä¸ªï¼Œä¸Šé¢å°±è¦è®¾ Access-Control-Allow-Headers&quot;</span>
  xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Content-type'</span><span class="token punctuation">,</span> <span class="token string">'application/json;'</span><span class="token punctuation">)</span>
  xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>

  xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç”¨ä¸­é—´ä»¶ <a href="https://github.com/zadzbw/koa2-cors" target="_blank" rel="noopener noreferrer">koa2-cors<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ä¹Ÿå¯ä»¥è§£å†³è¿™ç±»é—®é¢˜</p> <h3 id="jenkins-å¸¸ç”¨çš„ç¯å¢ƒå˜é‡"><a href="#jenkins-å¸¸ç”¨çš„ç¯å¢ƒå˜é‡" aria-hidden="true" class="header-anchor">#</a> jenkins å¸¸ç”¨çš„ç¯å¢ƒå˜é‡</h3> <div class="language- extra-class"><pre class="language-text"><code>é¡¹ç›®åç§°ï¼šPROJECT_NAME

æ„å»ºç¼–å·ï¼šBUILD_NUMBER

æ„å»ºçŠ¶æ€ï¼šBUILD_STATUS

è§¦å‘åŸå› ï¼šCAUSE

æ„å»ºåœ°å€ï¼šBUILD_URL
</code></pre></div><h3 id="window-performance-è®¡ç®—é¦–å±æ—¶é—´"><a href="#window-performance-è®¡ç®—é¦–å±æ—¶é—´" aria-hidden="true" class="header-anchor">#</a> window.performance è®¡ç®—é¦–å±æ—¶é—´</h3> <ul><li>é¦–å±æ—¶é—´ = window.performance.timing.domContentLoadedEventEnd - window.performance.timing.domLoading</li> <li>ç™½å±æ—¶é—´ = window.performance.timing.domLoading - window.performance.timing.fetchStart</li></ul> <h3 id="æ‰“å°-dom-å¯¹è±¡å…·ä½“ä¿¡æ¯"><a href="#æ‰“å°-dom-å¯¹è±¡å…·ä½“ä¿¡æ¯" aria-hidden="true" class="header-anchor">#</a> æ‰“å° dom å¯¹è±¡å…·ä½“ä¿¡æ¯</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>div<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// ç”¨æ•°ç»„åŒ…ä¸€å±‚</span>
</code></pre></div><h2 id="å…«æœˆ"><a href="#å…«æœˆ" aria-hidden="true" class="header-anchor">#</a> å…«æœˆ</h2> <h3 id="å¦‚ä½•å‰åç«¯é…åˆè‡ªå®šä¹‰è¯·æ±‚å“åº”å¤´å­—æ®µ"><a href="#å¦‚ä½•å‰åç«¯é…åˆè‡ªå®šä¹‰è¯·æ±‚å“åº”å¤´å­—æ®µ" aria-hidden="true" class="header-anchor">#</a> å¦‚ä½•å‰åç«¯é…åˆè‡ªå®šä¹‰è¯·æ±‚å“åº”å¤´å­—æ®µ</h3> <p>å‰ç«¯å¦‚æœè¦è·å–<code>response header</code>é‡Œé¢çš„å€¼ï¼Œå¯ä»¥é€šè¿‡<code>XMLHttpRequest</code>å®ä¾‹çš„<code>getResponseHeader()</code>æ–¹æ³•è¿›è¡Œè·å–ï¼Œä½†æ˜¯æ ¹æ®<a href="https://www.w3.org/TR/2014/REC-cors-20140116/" target="_blank" rel="noopener noreferrer">w3c-corsæ ‡å‡†<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œå‚è€ƒ<strong>7.1.1</strong>ï¼Œå¯ä»¥çœ‹å‡ºä¸æ˜¯æ‰€æœ‰çš„è¯·æ±‚å¤´å­—æ®µéƒ½å¯ä»¥è·å–åˆ°ï¼Œåªæœ‰<code>simple-response-header</code>å’Œè®¾ç½®äº†<code>Access-Control-Expose-Headers</code>æŒ‡å®šå­—æ®µæ‰å¯ä»¥è¢«<code>getResponseHeader()</code>è·å–åˆ°ï¼Œå…³äº<code>simple-response-header</code>æœ‰ä»¥ä¸‹è¿™å‡ ç§ï¼š</p> <ul><li>Cache-Control</li> <li>Content-Language</li> <li>Content-Type</li> <li>Expires</li> <li>Last-Modified</li> <li>Pragma</li></ul> <p>è¿™å‡ ç§éƒ½å¯ä»¥è·å–åˆ°ã€‚</p> <p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘æƒ³è‡ªå®šä¹‰ä¸€ä¸ªå­—æ®µï¼Œå°±éœ€è¦å’Œåç«¯é…åˆ<code>Access-Control-Expose-Headers</code>æ¥å®ç°</p> <p>æ¯”å¦‚åœ¨<code>koa</code>ä¸­ï¼Œè®¾ç½®å¯¹åº”çš„å­—æ®µå³å¯ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/get'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'Access-Control-Expose-Headers'</span><span class="token punctuation">,</span> <span class="token string">'token'</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span>
  ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">'success'</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä½¿ç”¨<code>axios</code>è¯·æ±‚å°±èƒ½åœ¨è¿”å›çš„å¯¹è±¡<code>headers</code>å­—æ®µä¸­è·å–ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/get'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '123456'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="imgåœ¨å¤–å±‚divä½¿ç”¨-line-height-å±…ä¸­æ— æ•ˆï¼Ÿ"><a href="#imgåœ¨å¤–å±‚divä½¿ç”¨-line-height-å±…ä¸­æ— æ•ˆï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> imgåœ¨å¤–å±‚divä½¿ç”¨ line- height å±…ä¸­æ— æ•ˆï¼Ÿ</h3> <p>è§£å†³æ–¹æ¡ˆ1ï¼š</p> <p><code>img</code>å…ƒç´ ä½¿ç”¨ <code>vertical-align: middle</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>xxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div img</span> <span class="token punctuation">{</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è§£å†³æ–¹æ¡ˆ2ï¼š</p> <p>ä¸ç”¨<code>line-height</code>å±…ä¸­ï¼Œç›´æ¥ç”¨<code>flex + margin</code></p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div img</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="scss-extend"><a href="#scss-extend" aria-hidden="true" class="header-anchor">#</a> scss @extend</h3> <p>scss æä¾›çš„<code>@extend</code>å‡½æ•°éå¸¸æ–¹ä¾¿ï¼Œç”šè‡³ä¼ªç±»éƒ½å¯ä»¥è¢«ç»§æ‰¿:</p> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token selector">.item </span><span class="token punctuation">{</span>
  <span class="token selector"><span class="token parent important">&amp;</span>:hover </span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token selector"><span class="token parent important">&amp;</span>.active </span><span class="token punctuation">{</span>
    <span class="token keyword">@extend</span> <span class="token punctuation">:</span>hover<span class="token punctuation">;</span> <span class="token comment">// è¿™æ · .item.active ä¾¿å¯ç»§æ‰¿ .item:hover çš„æ ·å¼äº†</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æ¡¥æ¥-vue-ç»„ä»¶apiçš„æ–¹å¼"><a href="#æ¡¥æ¥-vue-ç»„ä»¶apiçš„æ–¹å¼" aria-hidden="true" class="header-anchor">#</a> æ¡¥æ¥ vue ç»„ä»¶apiçš„æ–¹å¼</h3> <p>ä½¿ç”¨ <code>v-bind</code> å±æ€§å’Œ <code>v-on</code> äº‹ä»¶å³å¯å®ç°ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppList</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$props<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$listeners<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- ... --&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AppList</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">import</span> AppList <span class="token keyword">from</span> <span class="token string">&quot;./AppList&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'SortableList'</span><span class="token punctuation">,</span>
    props<span class="token punctuation">:</span> AppList<span class="token punctuation">.</span>props<span class="token punctuation">,</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      AppList
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è¿™æ ·<code>SortableList</code>ç»„ä»¶çš„å±æ€§å’Œäº‹ä»¶å°±å’Œ<code>AppList</code>ç»„ä»¶ä¸€è‡´äº†</p> <h3 id="è·å–æœ€å¤–å±‚èŠ‚ç‚¹çš„-offsetleft"><a href="#è·å–æœ€å¤–å±‚èŠ‚ç‚¹çš„-offsetleft" aria-hidden="true" class="header-anchor">#</a> è·å–æœ€å¤–å±‚èŠ‚ç‚¹çš„ offsetLeft</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getElementLeft</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
ã€€<span class="token keyword">let</span> actualLeft <span class="token operator">=</span> element<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
ã€€<span class="token keyword">let</span> current <span class="token operator">=</span> element<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>

ã€€<span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
ã€€ã€€actualLeft <span class="token operator">+=</span> current<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
ã€€ã€€current <span class="token operator">=</span> current<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>
ã€€<span class="token punctuation">}</span>

ã€€<span class="token keyword">return</span> actualLeft<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="css-å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ•ˆæœ"><a href="#css-å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ•ˆæœ" aria-hidden="true" class="header-anchor">#</a> css å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ•ˆæœ</h3> <ul><li>å•è¡Œï¼š</li></ul> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
<span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
</code></pre></div><ul><li>å¤šè¡Œï¼š</li></ul> <p>ä»…å…¼å®¹webkitå†…æ ¸çš„æµè§ˆå™¨</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>
<span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>
<span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
<span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
</code></pre></div><ul><li>å…¼å®¹ï¼š</li></ul> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">p</span><span class="token punctuation">{</span><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">line-height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">max-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token selector">p::after</span><span class="token punctuation">{</span><span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span> <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span> <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">-webkit-linear-gradient</span><span class="token punctuation">(</span>left, transparent, #fff 55%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">-o-linear-gradient</span><span class="token punctuation">(</span>right, transparent, #fff 55%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">-moz-linear-gradient</span><span class="token punctuation">(</span>right, transparent, #fff 55%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right, transparent, #fff 55%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="http-çŠ¶æ€ç "><a href="#http-çŠ¶æ€ç " aria-hidden="true" class="header-anchor">#</a> http çŠ¶æ€ç </h3> <p>çŠ¶æ€ä»£ç æœ‰ä¸‰ä½æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªæ•°å­—å®šä¹‰äº†å“åº”çš„ç±»åˆ«ï¼Œå…±åˆ†äº”ç§ç±»åˆ«:</p> <ul><li>1xxï¼šæŒ‡ç¤ºä¿¡æ¯--è¡¨ç¤ºè¯·æ±‚å·²æ¥æ”¶ï¼Œç»§ç»­å¤„ç†</li> <li>2xxï¼šæˆåŠŸ--è¡¨ç¤ºè¯·æ±‚å·²è¢«æˆåŠŸæ¥æ”¶ã€ç†è§£ã€æ¥å—</li> <li>3xxï¼šé‡å®šå‘--è¦å®Œæˆè¯·æ±‚å¿…é¡»è¿›è¡Œæ›´è¿›ä¸€æ­¥çš„æ“ä½œ</li> <li>4xxï¼šå®¢æˆ·ç«¯é”™è¯¯--è¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç°</li> <li>5xxï¼šæœåŠ¡å™¨ç«¯é”™è¯¯--æœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚</li></ul> <h2 id="ä¹æœˆ"><a href="#ä¹æœˆ" aria-hidden="true" class="header-anchor">#</a> ä¹æœˆ</h2> <h3 id="vue-extend"><a href="#vue-extend" aria-hidden="true" class="header-anchor">#</a> Vue.extend</h3> <p>æ ¹æ®æ–‡æ¡£è§£é‡Šï¼š</p> <blockquote><p>ä½¿ç”¨åŸºç¡€ Vue æ„é€ å™¨ï¼Œåˆ›å»ºä¸€ä¸ªâ€œå­ç±»â€ã€‚å‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«ç»„ä»¶é€‰é¡¹çš„å¯¹è±¡ã€‚</p></blockquote> <p>å…¶å®å°±æ˜¯è¿”å›ä¸€ä¸ª<code>VueComponent</code>å‡½æ•°ï¼Œå’Œè°ƒç”¨<code>Vue.component</code>(é€‰é¡¹ä¸ä¸º<code>null</code>å‰æ)è¿”å›çš„ä¸€æ ·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">Sub</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">VueComponent</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_init</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> Sub<span class="token punctuation">;</span>
</code></pre></div><p>ä½¿ç”¨çš„è¯ï¼Œå¯ä»¥è¿™æ ·ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Ctor <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`&lt;div&gt;comp&lt;/div&gt;`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> 

<span class="token comment">// è¿™é‡Œè¿˜æ˜¯å¯ä»¥ä¼ å…¥ç»„ä»¶é€‰é¡¹çš„å¯¹è±¡</span>
<span class="token comment">// å®ä¾‹åŒ–ä¸€ä¸ªç»„ä»¶</span>
<span class="token keyword">const</span> comp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ctor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// ä½¿ç”¨</span>
comp<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>comp<span class="token punctuation">.</span>$el<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="empty-ä¼ªç±»"><a href="#empty-ä¼ªç±»" aria-hidden="true" class="header-anchor">#</a> :empty ä¼ªç±»</h3> <p><code>:empty</code>é€‰æ‹©å™¨é€‰æ‹©æ¯ä¸ªæ²¡æœ‰ä»»ä½•å­çº§çš„å…ƒç´ ï¼ŒåŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">div:empty</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="åˆ¤æ–­æµè§ˆå™¨äº‹ä»¶ä¾¦å¬å™¨æ˜¯å¦å…¼å®¹passive"><a href="#åˆ¤æ–­æµè§ˆå™¨äº‹ä»¶ä¾¦å¬å™¨æ˜¯å¦å…¼å®¹passive" aria-hidden="true" class="header-anchor">#</a> åˆ¤æ–­æµè§ˆå™¨äº‹ä»¶ä¾¦å¬å™¨æ˜¯å¦å…¼å®¹<code>passive</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> supportsPassive <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// é€šè¿‡ getter åˆ¤æ–­</span>
  <span class="token keyword">var</span> opts <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'passive'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> supportsPassive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œè§¦å‘ä¸Šé¢çš„ getterï¼Œå¦‚æœå¼‚å¸¸ï¼Œè¯´æ˜æµè§ˆå™¨ä¸æ”¯æŒ</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> opts<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> supportsPassive <span class="token operator">?</span> <span class="token punctuation">{</span> passive<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="é€—å·æ“ä½œç¬¦"><a href="#é€—å·æ“ä½œç¬¦" aria-hidden="true" class="header-anchor">#</a> é€—å·æ“ä½œç¬¦</h3> <p>é€—å·æ“ä½œç¬¦ç”¨å¾—å¾ˆå°‘ï¼Œåå†·é—¨ï¼Œä½†æ˜¯é¢è¯•å¯èƒ½ä¼šè¢«é—®åˆ°ï¼Œæ‰€ä»¥åœ¨æ­¤è®°å½•ä¸‹</p> <blockquote><p>é€—å·æ“ä½œç¬¦ï¼Œå¯¹å®ƒçš„æ¯ä¸ªæ“ä½œæ•°æ±‚å€¼ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼Œå¹¶è¿”å›æœ€åä¸€ä¸ªæ“ä½œæ•°çš„å€¼</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

x <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">++</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x &gt; 2</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>

arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// arr[2] &gt; 3</span>

</code></pre></div><h3 id="åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å·²æ»šåŠ¨åˆ°åº•éƒ¨"><a href="#åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å·²æ»šåŠ¨åˆ°åº•éƒ¨" aria-hidden="true" class="header-anchor">#</a> åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å·²æ»šåŠ¨åˆ°åº•éƒ¨</h3> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> scrollTop<span class="token punctuation">,</span> scrollHeight<span class="token punctuation">,</span> clientHeight <span class="token punctuation">}</span> <span class="token operator">=</span> document<span class="token punctuation">.</span>scrollingElement<span class="token punctuation">;</span>

  <span class="token comment">// æ»šåŠ¨é«˜åº¦ + è§†å£é«˜åº¦ &gt;= æ–‡æ¡£æ€»é«˜åº¦</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollTop <span class="token operator">+</span> clientHeight <span class="token operator">&gt;=</span> scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'åˆ°è¾¾åº•éƒ¨äº†~'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ä¸ºä»€ä¹ˆvueç»„ä»¶é€‰é¡¹ä¸­çš„dataå¿…é¡»æ˜¯ä¸ªå‡½æ•°ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆvueç»„ä»¶é€‰é¡¹ä¸­çš„dataå¿…é¡»æ˜¯ä¸ªå‡½æ•°ï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> ä¸ºä»€ä¹ˆvueç»„ä»¶é€‰é¡¹ä¸­çš„dataå¿…é¡»æ˜¯ä¸ªå‡½æ•°ï¼Ÿ</h3> <p>æ³¨å†Œç»„ä»¶çš„æœ¬è´¨å®é™…ä¸Šæ˜¯å»ºç«‹ä¸€ä¸ªç»„ä»¶æ„é€ å™¨çš„å¼•ç”¨ï¼Œåœ¨ä½¿ç”¨æ—¶æ‰ä¼šå»å®ä¾‹åŒ–ã€‚ä¹Ÿå°±æ˜¯ç”Ÿæˆä¸€ä¸ªfunctionã€‚</p> <p>ä¸‹é¢å°±å…³äºåŸå‹çš„çŸ¥è¯†äº†</p> <p>â€‹ç»„ä»¶dataå±æ€§å®é™…ä¸Šåœ¨æŒ‚è½½åˆ° æ„é€ å™¨function.prototypeä¸Šçš„ï¼Œæ¯”å¦‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Comp</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

Comp<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token operator">...</span>
</code></pre></div><p>â€‹å¦‚æœè¯¥åŸå‹ä¸‹çš„dataå±æ€§å€¼ä¸º<strong>å¯¹è±¡</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ›å»ºæ„é€ å™¨Comp</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'Comp'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">Comp</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç±»ä¼¼äºè¿™ç§</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç®€åŒ–åçš„ä»£ç å®é™…ä¸Šæ˜¯è¿™ä¸ª</span>
<span class="token comment">// å–åˆ°æ³¨å†Œå¯¹è±¡ data å±æ€§å¹¶æŒ‚è½½åˆ°æ„é€ å™¨åŸå‹ä¸Š</span>
Comp<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¦‚æœå¤šæ¬¡å®ä¾‹åŒ–</span>
<span class="token keyword">const</span> compA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> compB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

compA<span class="token punctuation">.</span>data <span class="token operator">===</span> compB<span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment">// true ä¸¤è€…å…±åŒæŒ‡å‘åŒä¸€åœ°å€</span>
compA<span class="token punctuation">.</span>data<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>compB<span class="token punctuation">.</span>data<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3 (è¿™æ ·å°±å®¹æ˜“å¼•èµ·éº»çƒ¦)</span>

</code></pre></div><p>ä¸ºäº†é¿å…å¼•å‘ä¸Šè¿°çš„éº»çƒ¦ï¼Œé€šè¿‡å‡½æ•°ç‹¬ç«‹ä½œç”¨åŸŸä¾¿å¯è§£å†³</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åˆ›å»ºæ„é€ å™¨Comp</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'Comp'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¯æ¬¡è°ƒç”¨éƒ½è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    	b<span class="token punctuation">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">Comp</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è°ƒç”¨åŸå‹ data å‡½æ•°ï¼Œæ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½æœ‰å„è‡ªçš„æ•°æ®å‰¯æœ¬ï¼Œé¿å…æ•°æ®äº’ç›¸å½±å“</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Comp<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">data</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> compA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> compB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

compA<span class="token punctuation">.</span>data <span class="token operator">===</span> compB<span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment">// false</span>

</code></pre></div><h2 id="åæœˆ"><a href="#åæœˆ" aria-hidden="true" class="header-anchor">#</a> åæœˆ</h2> <h3 id="tree-ç»„ä»¶åŠé€‰æ¡†çš„æ ¸å¿ƒé€»è¾‘"><a href="#tree-ç»„ä»¶åŠé€‰æ¡†çš„æ ¸å¿ƒé€»è¾‘" aria-hidden="true" class="header-anchor">#</a> tree ç»„ä»¶åŠé€‰æ¡†çš„æ ¸å¿ƒé€»è¾‘</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">indeterminate</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// é€’å½’è·å–è¯¥èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹</span>
  <span class="token keyword">const</span> leafNodes <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLeafNodes</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// indet ä¸ºåŠé€‰æ§åˆ¶</span>
    <span class="token comment">// å½“å­èŠ‚ç‚¹éå…¨éƒ¨é€‰ä¸­æ—¶å’Œè‡³å°‘æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹è¢«é€‰ä¸­ï¼Œæ‰ä¼šå‡ºç°åŠé€‰</span>
    indet<span class="token punctuation">:</span>
      <span class="token operator">!</span>leafNodes<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span>selected<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> leafNodes<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span>selected<span class="token punctuation">)</span><span class="token punctuation">,</span>
      value<span class="token punctuation">:</span> leafNodes<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>n <span class="token operator">=&gt;</span> n<span class="token punctuation">.</span>selected<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="vue-nexttick-æ¸²æŸ“æ—¶æœº"><a href="#vue-nexttick-æ¸²æŸ“æ—¶æœº" aria-hidden="true" class="header-anchor">#</a> Vue.nextTick æ¸²æŸ“æ—¶æœº</h3> <p>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// setTimeout æ¨¡æ‹Ÿè¯·æ±‚ï¼Œéƒ½æ˜¯task</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// è¿™é‡Œä¹Ÿæ˜¯æ‰§è¡Œ nextTick</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>$el<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span> <span class="token comment">// 1</span>
  Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span>$el<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span> <span class="token comment">// 2</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'å¡ä½çº¿ç¨‹ï¼Œé˜»å¡æ¸²æŸ“'</span><span class="token punctuation">)</span> <span class="token comment">// å¯ä»¥çœ‹åˆ°è§†å›¾ä¸Šè¿˜æ˜¯ 1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p><code>nextTick</code>æœ¬è´¨æ˜¯<strong>microtask</strong>ï¼Œæµè§ˆå™¨æ¸²æŸ“æ—¶åºæ˜¯</p> <blockquote><p>æ‰§è¡Œå½“å‰ macrotask -&gt; æ¸…ç©º microtask -&gt; render layout</p></blockquote> <p>è¿™ä¹Ÿæ˜¯<strong>eventloop</strong>çš„åŸºæœ¬ç‰¹å¾</p> <p>vueæ–‡æ¡£ä¸Šè¯´ï¼Œåªæœ‰åœ¨nextTickå›è°ƒä¸­æ‰èƒ½æ‹¿åˆ°æ›´æ–°åçš„å€¼ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿå®é™…ä¸Šæ˜¯ç”¨äºä¼˜åŒ–å‡å°‘domçš„æ“ä½œ</p> <p>ä½ ä¼šå‘ç°ï¼Œä¸Šè¿°ä»£ç ä¸­ï¼Œæ ¹æ®æ³¨é‡Šï¼Œåœ¨åŒä¸ªäº‹ä»¶å¾ªç¯ä¸­(ä¸Šé¢ä¸¤ä¸ª<code>nextTick</code>éš¶å±äºåŒä¸ªäº‹ä»¶å¾ªç¯)ï¼Œä¸ºä»€ä¹ˆåœ¨åé¢é‚£ä¸ª<code>nextTick</code>ä¸­èƒ½æ‹¿åˆ°æœ€æ–°çš„å€¼å‘¢ï¼Œæ¯•ç«Ÿè§†å›¾å¹¶æ²¡æœ‰æ›´æ–°ã€‚</p> <blockquote><p>jsè·å–è§†å›¾æ–°çš„èŠ‚ç‚¹å€¼ä¸ä¸€å®šè¦ç­‰åˆ°UIæ›´æ–°åæ‰èƒ½æ‹¿åˆ°</p></blockquote> <p>é€šè¿‡æ·»åŠ <code>alert</code>é˜»å¡è§†å›¾æ¸²æŸ“ï¼Œå°è¯äº†è¿™ä¸ªåŸç†ï¼Œåœ¨è§†å›¾æ²¡æ›´æ–°çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½æ‹¿åˆ°domèŠ‚ç‚¹çš„æœ€æ–°å€¼ã€‚</p> <h3 id="js-ä»€ä¹ˆæ—¶å€™ä¸€å®šè¦å†™åˆ†å·"><a href="#js-ä»€ä¹ˆæ—¶å€™ä¸€å®šè¦å†™åˆ†å·" aria-hidden="true" class="header-anchor">#</a> js ä»€ä¹ˆæ—¶å€™ä¸€å®šè¦å†™åˆ†å·</h3> <p>åœ¨ JavaScript ä¸­ï¼Œåˆ†å·é€šå¸¸æ˜¯å¯é€‰çš„ï¼Œå› ä¸ºä¼šè‡ªåŠ¨æ’å…¥åˆ†å·ï¼ˆASI)ã€‚ä½ å¯ä»¥ä½¿ç”¨ semi è§„åˆ™è¦æ±‚æˆ–ç¦æ­¢åˆ†å·ã€‚</p> <p>ASI çš„è§„åˆ™æ˜¯ç›¸å¯¹ç®€å•çš„ï¼šæ­£å¦‚ Isaac Schlueter æ›¾ç»æè¿°çš„é‚£æ ·ï¼Œä¸€ä¸ª \n å­—ç¬¦æ€»æ˜¯ä¸€ä¸ªè¯­å¥çš„ç»“å°¾(åƒåˆ†å·ä¸€æ ·)ï¼Œé™¤éä¸‹é¢ä¹‹ä¸€ä¸ºçœŸï¼š</p> <ul><li>è¯¥è¯­å¥æœ‰ä¸€ä¸ªæ²¡æœ‰é—­åˆçš„æ‹¬å·ï¼Œæ•°ç»„å­—é¢é‡æˆ–å¯¹è±¡å­—é¢é‡æˆ–å…¶ä»–æŸç§æ–¹å¼ï¼Œä¸æ˜¯æœ‰æ•ˆç»“æŸä¸€ä¸ªè¯­å¥çš„æ–¹å¼ã€‚ï¼ˆæ¯”å¦‚ï¼Œä»¥ . æˆ– , ç»“å°¾ï¼‰</li> <li>è¯¥è¡Œæ˜¯ -- æˆ– ++ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹å®ƒå°†å‡é‡/å¢é‡çš„ä¸‹ä¸€ä¸ªæ ‡è®°ï¼‰</li> <li>å®ƒæ˜¯ä¸ª for()ã€while()ã€doã€if() æˆ– elseï¼Œå¹¶ä¸”æ²¡æœ‰ {</li> <li>ä¸‹ä¸€è¡Œä»¥ [ã€(ã€+ã€*ã€/ã€-ã€,ã€. æˆ–ä¸€äº›å…¶å®ƒåœ¨å•ä¸ªè¡¨è¾¾å¼ä¸­ä¸¤ä¸ªæ ‡è®°ä¹‹é—´çš„äºŒå…ƒæ“ä½œç¬¦ã€‚</li></ul> <p>æ¢è¡Œä¸ç»“æŸè¯­å¥ï¼Œä¹¦å†™é”™è¯¯é—æ¼äº†åˆ†å·ï¼Œè¿™äº›å¼‚å¸¸ä¼šå¯¼è‡´ä¸¤ä¸ªä¸ç›¸å¹²çš„è¿ç»­çš„è¡Œè¢«è§£é‡Šä¸ºä¸€ä¸ªè¡¨è¾¾å¼</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> b
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™æ®µä»£ç å®é™…ä¸Šæ˜¯</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre></div><p>æ‰€ä»¥å¿…é¡»å†™æˆ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre></div><p>è¿™æ ·æ‰ä¸ä¼šè¿è¡Œé”™è¯¯!</p> <p>è¿˜æœ‰ï¼Œå‡½æ•°ç«‹å³æ‰§è¡Œ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">123</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>æœ‰æ²¡æœ‰çœ‹å‡ºé—®é¢˜ï¼Ÿè¿™æ®µä»£ç æ˜¯ä¼šè¿è¡ŒæŠ¥é”™çš„ï¼å› ä¸ºè¿™æ»¡è¶³äº†ä¸Šé¢æ–‡å­—ä¸­çš„ç¬¬4æ¡ï¼</p> <p>å®é™…ä¸Šè¿˜æ˜¯è¿™æ ·æ‰§è¡Œ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>æ‰€ä»¥è¦è¿™ä¹ˆå†™</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>æˆ–è€…</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">123</span>
<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>å¦‚æœä½ æœ¬äººæ˜¯æ‹’ç»åˆ†å·å…šï¼Œé‚£ä¹ˆå¼ºçƒˆå»ºè®®ä½ ç”¨<code>eslint</code>å¸®ä½ é¢„è­¦ï¼ä¸ç„¶è¿˜æ˜¯å›å½’åˆ°åˆ†å·å…šå§ï¼</p> <h3 id="å¦‚ä½•åŠ«æŒajaxè¯·æ±‚ï¼Ÿ"><a href="#å¦‚ä½•åŠ«æŒajaxè¯·æ±‚ï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> å¦‚ä½•åŠ«æŒajaxè¯·æ±‚ï¼Ÿ</h3> <p>æœ¬è´¨æ˜¯åŠ«æŒ<code>XMLHttpRequest</code>å®ä¾‹çš„<code>send</code>è¯·æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•è¿›è¡ŒåŠ«æŒï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">XML</span> <span class="token keyword">extends</span> <span class="token class-name">XMLHttpRequest</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">send</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hhhï¼Œè¢«æˆ‘å‘ç°äº†å§'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨çˆ¶ç±»æ–¹æ³•å¯ä»¥å‘é€è¯·æ±‚</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

XMLHttpRequest <span class="token operator">=</span> <span class="token constant">XML</span>

axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span> <span class="token comment">// å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„ console.log()</span>
</code></pre></div><h3 id="å¦‚ä½•åˆ¤æ–­è¯¥å‡½æ•°æ˜¯ä¸æ˜¯åŸç”Ÿå‡½æ•°"><a href="#å¦‚ä½•åˆ¤æ–­è¯¥å‡½æ•°æ˜¯ä¸æ˜¯åŸç”Ÿå‡½æ•°" aria-hidden="true" class="header-anchor">#</a> å¦‚ä½•åˆ¤æ–­è¯¥å‡½æ•°æ˜¯ä¸æ˜¯åŸç”Ÿå‡½æ•°</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isNative</span> <span class="token punctuation">(</span>Ctor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> Ctor <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> <span class="token regex">/native code/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>Ctor<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="åä¸€æœˆ"><a href="#åä¸€æœˆ" aria-hidden="true" class="header-anchor">#</a> åä¸€æœˆ</h2> <h3 id="text-overflow-ellipsis-ä¸ç”Ÿæ•ˆçš„åŸå› ï¼Ÿ"><a href="#text-overflow-ellipsis-ä¸ç”Ÿæ•ˆçš„åŸå› ï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> text-overflow: ellipsis ä¸ç”Ÿæ•ˆçš„åŸå› ï¼Ÿ</h3> <p>å¿…é¡»æ˜¯å—çº§å…ƒç´ ï¼Œ<code>display: flex</code> å½±å“ç”Ÿæ•ˆçš„åŸå› ä¹‹ä¸€ï¼Œ</p> <p>æ ¹æ®<code>MDNæ–‡æ¡£</code>ï¼Œ</p> <blockquote><p>è¿™ä¸ªå±æ€§åªå¯¹é‚£äº›åœ¨å—çº§å…ƒç´ æº¢å‡ºçš„å†…å®¹æœ‰æ•ˆï¼Œä½†æ˜¯å¿…é¡»è¦ä¸å—çº§å…ƒç´ å†…è”(inline)æ–¹å‘ä¸€è‡´ï¼ˆä¸¾ä¸ªåä¾‹ï¼šå†…å®¹åœ¨ç›’å­çš„ä¸‹æ–¹æº¢å‡ºã€‚æ­¤æ—¶å°±ä¸ä¼šç”Ÿæ•ˆï¼‰ã€‚æ–‡æœ¬å¯èƒ½åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æº¢å‡ºï¼šå½“å…¶å› ä¸ºæŸç§åŸå› è€Œæ— æ³•æ¢è¡Œ(ä¾‹å­ï¼šè®¾ç½®äº†&quot;white-space:nowrap&quot;)ï¼Œæˆ–è€…ä¸€ä¸ªå•è¯å› ä¸ºå¤ªé•¿è€Œä¸èƒ½åˆç†åœ°è¢«å®‰ç½®(fit)ã€‚</p></blockquote> <p>å‚è€ƒ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/text-overflow" target="_blank" rel="noopener noreferrer">è¿™é‡Œ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="æŠŠæ•°ç»„æŸä¸ªå€¼å¿«é€Ÿç½®åçš„æ–¹æ³•"><a href="#æŠŠæ•°ç»„æŸä¸ªå€¼å¿«é€Ÿç½®åçš„æ–¹æ³•" aria-hidden="true" class="header-anchor">#</a> æŠŠæ•°ç»„æŸä¸ªå€¼å¿«é€Ÿç½®åçš„æ–¹æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arr<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fn</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// arr =&gt; [1,3,2];</span>
</code></pre></div><h3 id="ä¸ºä»€ä¹ˆ-ä¸º-true"><a href="#ä¸ºä»€ä¹ˆ-ä¸º-true" aria-hidden="true" class="header-anchor">#</a> ä¸ºä»€ä¹ˆ [] == ![] ä¸º true ?</h3> <p><code>![]</code>å®é™…ä¸º<code>false</code>ï¼Œæ‰€ä»¥æ¯”è¾ƒçš„æ˜¯ <code>[] == false</code>ï¼Œä¸ºä»€ä¹ˆ <code>[] == false</code> ä¸º <code>true</code>ï¼Ÿ</p> <p>== ä¼šè§¦å‘éšå¼è½¬æ¢ï¼Œæœ‰ä¸ªå‡†åˆ™ï¼Œçœ‹ä¸€ä¸ªè¡¨æ ¼ï¼š</p> <table><thead><tr><th>ç±»å‹(x)</th> <th>ç±»å‹(y)</th> <th>ç»“æœ</th></tr></thead> <tbody><tr><td>null</td> <td>undefined</td> <td>true</td></tr> <tr><td>undefined</td> <td>null</td> <td>true</td></tr> <tr><td>æ•°å­—</td> <td>å­—ç¬¦ä¸²</td> <td>x == toNumber(y)</td></tr> <tr><td>å­—ç¬¦ä¸²</td> <td>æ•°å­—</td> <td>toNumber(x) == y</td></tr> <tr><td>å¸ƒå°”å€¼</td> <td>ä»»ä½•ç±»å‹</td> <td>toNumber(x) == y</td></tr> <tr><td>ä»»ä½•ç±»å‹</td> <td>å¸ƒå°”å€¼</td> <td>x == toNumber(y)</td></tr> <tr><td>å­—ç¬¦ä¸²æˆ–æ•°å­—</td> <td>å¯¹è±¡</td> <td>x == toPrimitive(y)</td></tr> <tr><td>å¯¹è±¡</td> <td>å­—ç¬¦ä¸²æˆ–æ•°å­—</td> <td>toPrimitive(x) == y</td></tr></tbody></table> <p>æ¥çœ‹ä¸‹ <code>[] == false</code> çš„åˆ¤æ–­æµç¨‹ï¼š</p> <p>1ã€æ ¹æ®è¡¨æ ¼ï¼Œ<strong>ä»»ä½•ç±»å‹ä¸å¸ƒå°”å€¼</strong>æ¯”è¾ƒï¼Œå…ˆè®©<code>false</code>è½¬æˆ<code>number</code>ï¼ŒNumber(fasle) =&gt; 0</p> <p>2ã€æ¥åˆ°äº†<code>[] == 0</code>æ¯”è¾ƒï¼Œå³<strong>å¯¹è±¡å’Œæ•°å­—æ¯”è¾ƒ</strong>ï¼ŒtoPrimitive([]) =&gt; [].valueOf() -&gt; è¿”å›çš„æ˜¯åŸå§‹ç±»å‹ ï¼Ÿ[].valueOf() : [].valueOf().toString()</p> <p>3ã€[].valueOf().toString() -&gt; &quot;&quot;</p> <p>4ã€æ¥åˆ°äº†<code>&quot;&quot; == 0</code>æ¯”è¾ƒï¼Œå³<strong>å­—ç¬¦ä¸²å’Œæ•°å­—æ¯”è¾ƒ</strong>ï¼ŒNumber(&quot;&quot;) -&gt; 0</p> <p>5ã€æ‰€ä»¥ï¼Œ<code>0 == 0</code> è¿˜ä¸æ˜¯ true å˜›</p> <h3 id="vue2-x-å“åº”å¼å®ç°è§‚å¯Ÿè€…æ¨¡å¼ç²¾ç®€ç‰ˆ"><a href="#vue2-x-å“åº”å¼å®ç°è§‚å¯Ÿè€…æ¨¡å¼ç²¾ç®€ç‰ˆ" aria-hidden="true" class="header-anchor">#</a> vue2.x å“åº”å¼å®ç°è§‚å¯Ÿè€…æ¨¡å¼ç²¾ç®€ç‰ˆ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å‘ watcher</span>

<span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token punctuation">{</span>
  subs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// æ”¶é›†ä¾èµ–</span>
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>sub <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      sub<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">addSubs</span><span class="token punctuation">(</span>watcher<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>watcher<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">.</span><span class="token function">addDep</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// watcher åˆ†ä¸ºä¸‰ç§</span>
<span class="token comment">// render-watcherã€computed-watcherã€user-watcher</span>
<span class="token keyword">const</span> watcher <span class="token operator">=</span> <span class="token punctuation">{</span>
  deps<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">addDep</span><span class="token punctuation">(</span>dep<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>deps<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>dep<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dep<span class="token punctuation">.</span><span class="token function">addSubs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

target <span class="token operator">=</span> watcher<span class="token punctuation">;</span>
dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ”¶é›†ä¾èµ–</span>
dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ´¾å‘æ›´æ–°</span>
</code></pre></div><h2 id="åäºŒæœˆ"><a href="#åäºŒæœˆ" aria-hidden="true" class="header-anchor">#</a> åäºŒæœˆ</h2> <h3 id="vue-jsx-click-native-å†™æ³•"><a href="#vue-jsx-click-native-å†™æ³•" aria-hidden="true" class="header-anchor">#</a> vue jsx @click.native å†™æ³•</h3> <p>å†™æ³•ä¸€ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>comp vOn<span class="token punctuation">:</span>click_native<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>xxx<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>comp<span class="token operator">&gt;</span>
</code></pre></div><p>å†™æ³•äºŒï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>comp nativeOnClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>xxx<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>comp<span class="token operator">&gt;</span>
</code></pre></div><h3 id="vue-router3-1-push-ç›¸åŒè·¯ç”±æŠ¥é”™çš„è§£å†³æ–¹æ³•"><a href="#vue-router3-1-push-ç›¸åŒè·¯ç”±æŠ¥é”™çš„è§£å†³æ–¹æ³•" aria-hidden="true" class="header-anchor">#</a> vue-router3.1 push ç›¸åŒè·¯ç”±æŠ¥é”™çš„è§£å†³æ–¹æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> originalPush <span class="token operator">=</span> VueRouter<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push<span class="token punctuation">;</span>
VueRouter<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">push</span><span class="token punctuation">(</span>location<span class="token punctuation">,</span> onResolve<span class="token punctuation">,</span> onReject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>onResolve <span class="token operator">||</span> onReject<span class="token punctuation">)</span>
    <span class="token keyword">return</span> originalPush<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> location<span class="token punctuation">,</span> onResolve<span class="token punctuation">,</span> onReject<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> originalPush<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> location<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=&gt;</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å…³äºajaxå‘é€cookieåˆ°æœåŠ¡ç«¯å‘ç”Ÿè·¨åŸŸçš„é—®é¢˜"><a href="#å…³äºajaxå‘é€cookieåˆ°æœåŠ¡ç«¯å‘ç”Ÿè·¨åŸŸçš„é—®é¢˜" aria-hidden="true" class="header-anchor">#</a> å…³äºajaxå‘é€cookieåˆ°æœåŠ¡ç«¯å‘ç”Ÿè·¨åŸŸçš„é—®é¢˜</h3> <p>å¦‚æœå‰ç«¯è¦å‘é€cookieåˆ°æœåŠ¡ç«¯ï¼Œéœ€è¦æŠŠxhrçš„<strong>withCredentials</strong>è®¾ç½®ä¸ºtrueï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'http://example.com/'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span>withCredentials <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æœåŠ¡ç«¯éœ€è¦æŠŠå“åº”å¤´çš„çš„<strong>Access-Control-Allow-Credentials</strong>è®¾ç½®ä¸ºtrueï¼Œæ¯”å¦‚<code>koa2-cors</code>å¯ä»¥è¿™ä¹ˆè®¾ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  credentials<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™ç§å¯ä»¥åœ¨åŒæºä¸­å®ç°cookieä¼ é€’ï¼Œå¦‚æœéåŒæºï¼Œä¼šæœ‰è·¨åŸŸé—®é¢˜ã€‚å¦‚ä½•è§£å†³ï¼Ÿ</p> <blockquote><p>Access-Control-Allow-Origin ä¸èƒ½è®¾ä¸ºæ˜Ÿå·ï¼Œå¿…é¡»æŒ‡å®šæ˜ç¡®çš„ã€ä¸è¯·æ±‚ç½‘é¡µä¸€è‡´çš„åŸŸåã€‚</p></blockquote> <p>å¹³å¸¸åç«¯è§£å†³è·¨åŸŸä¸€èˆ¬éƒ½æ˜¯æŠŠ<code>Access-Control-Allow-Origin</code>è®¾ä¸º<code>*</code>ï¼Œä½†æ˜¯è¦ä¼ cookieçš„è¯ï¼Œå°±éœ€è¦åç«¯åŠ¨æ€è¯»å–è¯·æ±‚åŸŸåç„¶ååŠ¨æ€è®¾ç½®äº†ã€‚</p> <h3 id="encodeuri-å’Œ-encodeuricomponent-çš„åŒºåˆ«"><a href="#encodeuri-å’Œ-encodeuricomponent-çš„åŒºåˆ«" aria-hidden="true" class="header-anchor">#</a> encodeURI() å’Œ encodeURIComponent() çš„åŒºåˆ«</h3> <ul><li>encodeURI</li></ul> <blockquote><p>encodeURI å‡½æ•°å¯æŠŠå­—ç¬¦ä¸²ä½œä¸º URI è¿›è¡Œç¼–ç </p></blockquote> <p>encodeURI() å‡½æ•°ä¸ä¼šå¯¹ ASCII å­—æ¯å’Œæ•°å­—è¿›è¡Œç¼–ç ï¼Œä¹Ÿä¸ä¼šå¯¹è¿™äº› ASCII æ ‡ç‚¹ç¬¦å·è¿›è¡Œç¼–ç : - _ . ! ~ * ' ( ) ã€‚</p> <p>è¯¥æ–¹æ³•çš„ç›®çš„æ˜¯å¯¹ URI è¿›è¡Œå®Œæ•´çš„ç¼–ç ï¼Œå› æ­¤å¯¹ä»¥ä¸‹åœ¨ URI ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„ ASCII æ ‡ç‚¹ç¬¦å·ï¼ŒencodeURI() å‡½æ•°æ˜¯ä¸ä¼šè¿›è¡Œè½¬ä¹‰çš„ï¼š<strong>;/?ğŸ˜¡&amp;=+$,#</strong></p> <p>å¦‚æœ URI ç»„ä»¶ä¸­å«æœ‰åˆ†éš”ç¬¦ï¼Œæ¯”å¦‚ ? å’Œ #ï¼Œåˆ™åº”å½“ä½¿ç”¨ encodeURIComponent() æ–¹æ³•åˆ†åˆ«å¯¹å„ç»„ä»¶è¿›è¡Œç¼–ç ã€‚</p> <ul><li>encodeURIComponent</li></ul> <blockquote><p>encodeURIComponent() å‡½æ•°å¯æŠŠå­—ç¬¦ä¸²ä½œä¸º URI ç»„ä»¶è¿›è¡Œç¼–ç </p></blockquote> <p>è¯¥æ–¹æ³•ä¸ä¼šå¯¹ ASCII å­—æ¯å’Œæ•°å­—è¿›è¡Œç¼–ç ï¼Œä¹Ÿä¸ä¼šå¯¹è¿™äº› ASCII æ ‡ç‚¹ç¬¦å·è¿›è¡Œç¼–ç ï¼š - _ . ! ~ * ' ( ) ã€‚</p> <p>å…¶ä»–å­—ç¬¦ï¼ˆæ¯”å¦‚ ï¼š;/?ğŸ˜¡&amp;=+$,# è¿™äº›ç”¨äºåˆ†éš” URI ç»„ä»¶çš„æ ‡ç‚¹ç¬¦å·ï¼‰ï¼Œéƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåå…­è¿›åˆ¶çš„è½¬ä¹‰åºåˆ—æ›¿æ¢çš„ã€‚</p> <p>æ‘˜è‡ª <a href="https://www.w3school.com.cn/jsref/jsref_encodeURIComponent.asp" target="_blank" rel="noopener noreferrer">w3c<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> é‡Œçš„ä¸€æ®µè¯ï¼š</p> <blockquote><p>è¯·æ³¨æ„ encodeURIComponent() å‡½æ•° ä¸ encodeURI() å‡½æ•°çš„åŒºåˆ«ä¹‹å¤„ï¼Œå‰è€…å‡å®šå®ƒçš„å‚æ•°æ˜¯ URI çš„ä¸€éƒ¨åˆ†ï¼ˆæ¯”å¦‚åè®®ã€ä¸»æœºåã€è·¯å¾„æˆ–æŸ¥è¯¢å­—ç¬¦ä¸²ï¼‰ã€‚å› æ­¤ encodeURIComponent() å‡½æ•°å°†è½¬ä¹‰ç”¨äºåˆ†éš” URI å„ä¸ªéƒ¨åˆ†çš„æ ‡ç‚¹ç¬¦å·ã€‚</p></blockquote> <p>æ¯”å¦‚ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> uri <span class="token operator">=</span> <span class="token string">'http://shooterblog.site/2019/07/09/ã€Vueæºç å­¦ä¹ ç³»åˆ—ã€‘è§£è¯»æ•°æ®å“åº”å¼å®ç°åŸç†/'</span>

<span class="token function">encodeURI</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span> <span class="token comment">// http://shooterblog.site/2019/07/09/%E3%80%90Vue%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%97%E3%80%91%E8%A7%A3%E8%AF%BB%E6%95%B0%E6%8D%AE%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/</span>

<span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span> <span class="token comment">// http%3A%2F%2Fshooterblog.site%2F2019%2F07%2F09%2F%E3%80%90Vue%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%97%E3%80%91%E8%A7%A3%E8%AF%BB%E6%95%B0%E6%8D%AE%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%2F</span>
</code></pre></div><p>encodeURI() å’Œ encodeURIComponent() å¯¹åº”çš„è§£ç æ–¹æ³•æ˜¯ decodeURI() å’Œ decodeURIComponent()</p> <div class="to-top"><svg t="1547627942927" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1955" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64" class="icon"><path d="M752.736 431.063C757.159 140.575 520.41 8.97 504.518 0.41V0l-0.45 0.205-0.41-0.205v0.41c-15.934 8.56-252.723 140.165-248.259 430.653-48.21 31.457-98.713 87.368-90.685 184.074 8.028 96.666 101.007 160.768 136.601 157.287 35.595-3.482 25.232-30.31 25.232-30.31l12.206-50.095s52.47 80.569 69.304 80.528c15.114-1.23 87-0.123 95.6 0h0.82c8.602-0.123 80.486-1.23 95.6 0 16.794 0 69.305-80.528 69.305-80.528l12.165 50.094s-10.322 26.83 25.272 30.31c35.595 3.482 128.574-60.62 136.602-157.286 8.028-96.665-42.475-152.617-90.685-184.074z m-248.669-4.26c-6.758-0.123-94.781-3.359-102.891-107.192 2.95-98.714 95.97-107.438 102.891-107.93 6.964 0.492 99.943 9.216 102.892 107.93-8.11 103.833-96.174 107.07-102.892 107.192z m-52.019 500.531c0 11.838-9.42 21.382-21.012 21.382a21.217 21.217 0 0 1-21.054-21.34V821.74c0-11.797 9.421-21.382 21.054-21.382 11.591 0 21.012 9.585 21.012 21.382v105.635z m77.333 57.222a21.504 21.504 0 0 1-21.34 21.626 21.504 21.504 0 0 1-21.34-21.626V827.474c0-11.96 9.543-21.668 21.299-21.668 11.796 0 21.38 9.708 21.38 21.668v157.082z m71.147-82.043c0 11.796-9.42 21.34-21.053 21.34a21.217 21.217 0 0 1-21.013-21.34v-75.367c0-11.755 9.421-21.299 21.013-21.299 11.632 0 21.053 9.544 21.053 21.3v75.366z" fill="#3eaf7c" p-id="1956"></path></svg></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/2/2020, 10:03:24 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/Notebook/dailyRecord/2020.html" class="prev">
        2020
      </a></span> <span class="next"><a href="/Notebook/dailyRecord/2018.html">
        2018
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.51035dcd.js" defer></script><script src="/Notebook/assets/js/21.b8066a1d.js" defer></script><script src="/Notebook/assets/js/6.f1072f55.js" defer></script><script src="/Notebook/assets/js/19.17673ac2.js" defer></script>
  </body>
</html>
