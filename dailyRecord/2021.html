<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2021 | RJW&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/Notebook/images/logo.png">
    <meta name="description" content="ğŸ“æ¯å¤©è®°å½•ä¸€ç‚¹ç‚¹">
    <link rel="preload" href="/Notebook/assets/css/0.styles.2568425a.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.51035dcd.js" as="script"><link rel="preload" href="/Notebook/assets/js/21.b8066a1d.js" as="script"><link rel="preload" href="/Notebook/assets/js/7.d4af47ef.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/2.f187326d.js"><link rel="prefetch" href="/Notebook/assets/js/3.c107e9cc.js"><link rel="prefetch" href="/Notebook/assets/js/4.195f4b4c.js"><link rel="prefetch" href="/Notebook/assets/js/5.c6e81d81.js"><link rel="prefetch" href="/Notebook/assets/js/6.f1072f55.js"><link rel="prefetch" href="/Notebook/assets/js/8.c5c9a92a.js"><link rel="prefetch" href="/Notebook/assets/js/9.6d199ed1.js"><link rel="prefetch" href="/Notebook/assets/js/10.88896875.js"><link rel="prefetch" href="/Notebook/assets/js/11.bcd53a24.js"><link rel="prefetch" href="/Notebook/assets/js/12.1b5a4e8c.js"><link rel="prefetch" href="/Notebook/assets/js/13.356cc3d0.js"><link rel="prefetch" href="/Notebook/assets/js/14.2c74c350.js"><link rel="prefetch" href="/Notebook/assets/js/15.b864e6b5.js"><link rel="prefetch" href="/Notebook/assets/js/16.30e2be76.js"><link rel="prefetch" href="/Notebook/assets/js/17.beaf0e2c.js"><link rel="prefetch" href="/Notebook/assets/js/18.13b949a3.js"><link rel="prefetch" href="/Notebook/assets/js/19.17673ac2.js"><link rel="prefetch" href="/Notebook/assets/js/20.5e336d91.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.2568425a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">RJW's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link router-link-active">
  ğŸ“æ—¥å¸¸è®°å½•
</a></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  ğŸ·ä¹¦ç­¾æ•´ç†
</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://shooterblog.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”§ä¸ªäººåšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/shooterRao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”—Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link router-link-active">
  ğŸ“æ—¥å¸¸è®°å½•
</a></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  ğŸ·ä¹¦ç­¾æ•´ç†
</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://shooterblog.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”§ä¸ªäººåšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/shooterRao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”—Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>æ—¥å¸¸è®°å½•</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/dailyRecord/" aria-current="page" class="sidebar-link">2022</a></li><li><a href="/Notebook/dailyRecord/2021.html" aria-current="page" class="active sidebar-link">2021</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ä¸€æœˆ" class="sidebar-link">ä¸€æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ts-éç©ºæ–­è¨€æ“ä½œç¬¦" class="sidebar-link">ts éç©ºæ–­è¨€æ“ä½œç¬¦</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ts-ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" class="sidebar-link">ts ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#nginx-ä¸­-root-å’Œ-alias-çš„åŒºåˆ«" class="sidebar-link">nginx ä¸­ root å’Œ alias çš„åŒºåˆ«</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#axios-ç½‘ç»œå¼‚å¸¸é‡å‘è¯·æ±‚ç®€å•å®ç°" class="sidebar-link">axios ç½‘ç»œå¼‚å¸¸é‡å‘è¯·æ±‚ç®€å•å®ç°</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ts-ä¸­-omit-çš„ç”¨æ³•" class="sidebar-link">ts ä¸­ omit çš„ç”¨æ³•</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#mac-å…³é—­ç«¯å£çš„æ–¹æ³•" class="sidebar-link">mac å…³é—­ç«¯å£çš„æ–¹æ³•</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ç§»åŠ¨ç«¯-1px-scss-å‡½æ•°" class="sidebar-link">ç§»åŠ¨ç«¯ 1px scss å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#vue-cli-é…ç½®-process-env-base-url-æ³¨æ„ç‚¹" class="sidebar-link">vue-cli é…ç½® process.env.BASE_URL æ³¨æ„ç‚¹</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#å»é™¤ç§»åŠ¨ç«¯-webkit-å†…æ ¸æµè§ˆå™¨ç‚¹å‡»èƒŒæ™¯é˜´å½±" class="sidebar-link">å»é™¤ç§»åŠ¨ç«¯ webkit å†…æ ¸æµè§ˆå™¨ç‚¹å‡»èƒŒæ™¯é˜´å½±</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#å®‰å“è¾“å…¥æ³•å¼¹èµ·åº•éƒ¨è§£å†³æ–¹æ¡ˆ" class="sidebar-link">å®‰å“è¾“å…¥æ³•å¼¹èµ·åº•éƒ¨è§£å†³æ–¹æ¡ˆ</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#äºŒæœˆ" class="sidebar-link">äºŒæœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#fixed-å¸ƒå±€" class="sidebar-link">fixed å¸ƒå±€</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ä¿®æ”¹-browserlist-ä¸ç”Ÿæ•ˆçš„é—®é¢˜" class="sidebar-link">ä¿®æ”¹ .browserlist ä¸ç”Ÿæ•ˆçš„é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ts-è·å–æšä¸¾çš„-key" class="sidebar-link">ts è·å–æšä¸¾çš„ key</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ä¸‰æœˆ" class="sidebar-link">ä¸‰æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#é€‚é…-iphonex-åº•éƒ¨å®‰å…¨è·ç¦»" class="sidebar-link">é€‚é… iphonex+åº•éƒ¨å®‰å…¨è·ç¦»</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ç‚¹å‡»-iframe-å†…éƒ¨æ— æ³•è§¦å‘å¤–éƒ¨äº‹ä»¶çš„è§£å†³æ–¹æ¡ˆ" class="sidebar-link">ç‚¹å‡» iframe å†…éƒ¨æ— æ³•è§¦å‘å¤–éƒ¨äº‹ä»¶çš„è§£å†³æ–¹æ¡ˆ</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#å››æœˆ" class="sidebar-link">å››æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#è·¨ç«™" class="sidebar-link">è·¨ç«™</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#äº”æœˆ" class="sidebar-link">äº”æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#å‰ç«¯å¼‚å¸¸æ•è·æ–¹å¼" class="sidebar-link">å‰ç«¯å¼‚å¸¸æ•è·æ–¹å¼</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ç”¨-nginx-ä»£ç†-onpremise-éƒ¨ç½²çš„-sentry-ä¸ŠæŠ¥æ¥å£-https" class="sidebar-link">ç”¨ nginx ä»£ç† onpremise éƒ¨ç½²çš„ sentry ä¸ŠæŠ¥æ¥å£(https)</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#å…­æœˆ" class="sidebar-link">å…­æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#vue-class-component-åˆå§‹åŒ–-data-å±æ€§çš„å‘" class="sidebar-link">vue-class-component åˆå§‹åŒ– data å±æ€§çš„å‘</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#å¤„ç†å¤šä¸ªæ¡ä»¶ç®€æ´å†™æ³•" class="sidebar-link">å¤„ç†å¤šä¸ªæ¡ä»¶ç®€æ´å†™æ³•</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ä¸ƒæœˆ" class="sidebar-link">ä¸ƒæœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ä½¿ç”¨-word-spacing-å¢åŠ æ–‡å­—é—´è·" class="sidebar-link">ä½¿ç”¨ word-spacing å¢åŠ æ–‡å­—é—´è·</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#æ›¿æ¢æ–‡æœ¬æŒ‡å®šä½ç½®å‡½æ•°" class="sidebar-link">æ›¿æ¢æ–‡æœ¬æŒ‡å®šä½ç½®å‡½æ•°</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#å…«æœˆ" class="sidebar-link">å…«æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#package-json-ç‰ˆæœ¬é—®é¢˜" class="sidebar-link">package.json ç‰ˆæœ¬é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ç¼“å†²ä»»åŠ¡é˜Ÿåˆ—å‡½æ•°" class="sidebar-link">ç¼“å†²ä»»åŠ¡é˜Ÿåˆ—å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#å¦‚ä½•æŒ‰éœ€æŒ‡å®š-node-modules-types-ä¸‹çš„å£°æ˜æ–‡ä»¶" class="sidebar-link">å¦‚ä½•æŒ‰éœ€æŒ‡å®š node_modules/@types ä¸‹çš„å£°æ˜æ–‡ä»¶</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#ä¹æœˆ" class="sidebar-link">ä¹æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#yarn-link-yarn-global-add" class="sidebar-link">yarn link / yarn global add</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#keydown-enter-é—®é¢˜" class="sidebar-link">keydown enter é—®é¢˜</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#åæœˆ" class="sidebar-link">åæœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#emoji-è½¬-unicode-å­—ç¬¦ä¸²" class="sidebar-link">emoji è½¬ Unicode å­—ç¬¦ä¸²</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#åä¸€æœˆ" class="sidebar-link">åä¸€æœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#rust-cargo-build-å¾ˆæ…¢é—®é¢˜" class="sidebar-link">rust cargo build å¾ˆæ…¢é—®é¢˜</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#åäºŒæœˆ" class="sidebar-link">åäºŒæœˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2021.html#è§£å†³ä¸­æ–‡ç¬¦å·æº¢å‡ºä¸æ¢è¡Œé—®é¢˜" class="sidebar-link">è§£å†³ä¸­æ–‡ç¬¦å·æº¢å‡ºä¸æ¢è¡Œé—®é¢˜</a></li></ul></li></ul></li><li><a href="/Notebook/dailyRecord/2020.html" class="sidebar-link">2020</a></li><li><a href="/Notebook/dailyRecord/2019.html" class="sidebar-link">2019</a></li><li><a href="/Notebook/dailyRecord/2018.html" class="sidebar-link">2018</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>interview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/dailyRecord/interview.html" class="sidebar-link">é¢è¯•å¤ä¹ </a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2021"><a href="#_2021" aria-hidden="true" class="header-anchor">#</a> 2021</h1> <h2 id="ä¸€æœˆ"><a href="#ä¸€æœˆ" aria-hidden="true" class="header-anchor">#</a> ä¸€æœˆ</h2> <h3 id="ts-éç©ºæ–­è¨€æ“ä½œç¬¦"><a href="#ts-éç©ºæ–­è¨€æ“ä½œç¬¦" aria-hidden="true" class="header-anchor">#</a> ts éç©ºæ–­è¨€æ“ä½œç¬¦</h3> <p>åœ¨ ts ä¸­ï¼Œä½¿ç”¨<code>!</code>å¯ä»¥ç”¨äºæ–­è¨€æ“ä½œå¯¹è±¡æ˜¯é<code>null</code>å’Œé<code>undefined</code>ç±»å‹</p> <p>ä¸¾ä¸ªä¾‹å­</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>bar<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> undefined <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> str<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> bar<span class="token punctuation">;</span> <span class="token comment">// æŠ¥é”™</span>
  <span class="token keyword">const</span> str1<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> bar<span class="token operator">!</span><span class="token punctuation">;</span> <span class="token comment">// è§£å†³</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token function-variable function">GenString</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">genString</span><span class="token punctuation">(</span>fn<span class="token punctuation">:</span> GenString <span class="token operator">|</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> str1 <span class="token operator">=</span> fn<span class="token operator">!</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿˜æœ‰ä¸€ç§ç¡®å®šèµ‹å€¼æ–­è¨€</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> x<span class="token operator">!</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¦‚æœä¸Šé¢xä¸åŠ  ! å°±ä¼šerror;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ts-ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"><a href="#ts-ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" aria-hidden="true" class="header-anchor">#</a> ts ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</h3> <p>ts ä½¿ç”¨<code>??</code>ä½œä¸ºç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼Œå½“å·¦ä¾§æ“ä½œæ•°ä¸º null æˆ– undefined æ—¶ï¼Œåˆ™è¿”å›å³ä¾§çš„æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§çš„æ“ä½œæ•°</p> <p>è¿™æ˜¯ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µ</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token keyword">const</span> falsy <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="nginx-ä¸­-root-å’Œ-alias-çš„åŒºåˆ«"><a href="#nginx-ä¸­-root-å’Œ-alias-çš„åŒºåˆ«" aria-hidden="true" class="header-anchor">#</a> nginx ä¸­ root å’Œ alias çš„åŒºåˆ«</h3> <p><code>root</code>å’Œ<code>alias</code>æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯å¦‚ä½•è§£æ<strong>location</strong>åé¢çš„<strong>url</strong></p> <p><code>alias</code>ä»…ç”¨äºç›®å½•åˆ«åçš„å®šä¹‰ï¼Œä»…èƒ½ç”¨äº<strong>location</strong>ä¸Šä¸‹æ–‡ï¼Œ<code>root</code>åˆ™å¯ä»¥ç”¨äºæœ€ä¸Šå±‚ç›®å½•çš„å®šä¹‰</p> <p>æ¯”å¦‚å®šä¹‰ä¸€ä¸ª<strong>location</strong></p> <div class="language- extra-class"><pre class="language-text"><code>location /nginx {
  root /data/www;
  index index.html
}
</code></pre></div><p>è¿™æ ·å½“ä½ è®¿é—®<code>http://location/nginx</code>ï¼Œnginx ä¼šå»<code>/data/www/nginx</code>å»æ‰¾<code>index.html</code>ï¼Œå³<code>/data/www/nginx/index.html</code></p> <p>å¦‚æœä½¿ç”¨ alias</p> <div class="language- extra-class"><pre class="language-text"><code>location /nginx {
  alias /data/www;
  index index.html
}
</code></pre></div><p>å½“è®¿é—®<code>http://location/nginx</code>ï¼Œnginx ä¼šå»<code>/data/www</code>å»æ‰¾<code>index.html</code>ï¼Œå³<code>/data/www/index.html</code></p> <h3 id="axios-ç½‘ç»œå¼‚å¸¸é‡å‘è¯·æ±‚ç®€å•å®ç°"><a href="#axios-ç½‘ç»œå¼‚å¸¸é‡å‘è¯·æ±‚ç®€å•å®ç°" aria-hidden="true" class="header-anchor">#</a> axios ç½‘ç»œå¼‚å¸¸é‡å‘è¯·æ±‚ç®€å•å®ç°</h3> <p>åœ¨ä½¿ç”¨ axios æ—¶ï¼Œç½‘ç»œè¯·æ±‚å‘ç”Ÿå¼‚å¸¸ï¼Œæˆ–è€…è¯´ç½‘ç»œçªç„¶æ–­çº¿çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•å®ç°é‡å‘è¯·æ±‚å‘¢ï¼Ÿ</p> <p>å¯ä»¥ç”¨ axios çš„æ‹¦æˆªå™¨è¿›è¡Œç®€å•å®ç°ï¼Œä¸‹é¢æ˜¯å®ç°è¿‡ç¨‹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> namespace <span class="token operator">=</span> <span class="token string">'retry'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> retryOpts <span class="token operator">=</span> <span class="token punctuation">{</span>
  retryCount<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// æ–­çº¿é‡è¿æ¬¡æ•°</span>
  delay<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token comment">// å»¶è¿Ÿæ—¶é—´</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æ¯ä¸ªè¯·æ±‚configéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠä¸€äº›å‚æ•°ç¼“å­˜åˆ°configé‡Œé¢</span>
<span class="token keyword">function</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> currentState <span class="token operator">=</span> config<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  currentState<span class="token punctuation">.</span>retryCount <span class="token operator">=</span> currentState<span class="token punctuation">.</span>retryCount <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
  config<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span> <span class="token operator">=</span> currentState<span class="token punctuation">;</span>
  <span class="token keyword">return</span> currentState<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">retry</span><span class="token punctuation">(</span>axios<span class="token punctuation">,</span> options <span class="token operator">=</span> retryOpts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> currentState <span class="token operator">=</span> <span class="token function">getCurrentState</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState<span class="token punctuation">.</span>lastRequestTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> config<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> config <span class="token punctuation">}</span> <span class="token operator">=</span> error<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span><span class="token punctuation">.</span>retryCount <span class="token operator">&lt;</span> options<span class="token punctuation">.</span>retryCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      config<span class="token punctuation">[</span>namespace<span class="token punctuation">]</span><span class="token punctuation">.</span>retryCount <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token comment">// é‡å‘è¯·æ±‚</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">axios</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>delay<span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">retry</span><span class="token punctuation">(</span>client<span class="token punctuation">)</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'http://localhost:3000/get'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>errConfig<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>errConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ts-ä¸­-omit-çš„ç”¨æ³•"><a href="#ts-ä¸­-omit-çš„ç”¨æ³•" aria-hidden="true" class="header-anchor">#</a> ts ä¸­ omit çš„ç”¨æ³•</h3> <p>omit ä¸»è¦æ˜¯ç”¨äºçœç•¥å¯¹è±¡çš„æŸäº› key</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> OmitUser <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>User<span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// ç›¸å½“äº type OmitUser = { age: number; name: string; }</span>
</code></pre></div><h3 id="mac-å…³é—­ç«¯å£çš„æ–¹æ³•"><a href="#mac-å…³é—­ç«¯å£çš„æ–¹æ³•" aria-hidden="true" class="header-anchor">#</a> mac å…³é—­ç«¯å£çš„æ–¹æ³•</h3> <p>æ¯”å¦‚è¦å…³é—­æœ¬åœ° 9000 ç«¯å£</p> <div class="language- extra-class"><pre class="language-text"><code>lsof -i :9000
</code></pre></div><p>æŸ¥åˆ° PID</p> <p>ç„¶åå…³é—­ç«¯å£</p> <div class="language- extra-class"><pre class="language-text"><code>kill -9 PID
</code></pre></div><h3 id="ç§»åŠ¨ç«¯-1px-scss-å‡½æ•°"><a href="#ç§»åŠ¨ç«¯-1px-scss-å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> ç§»åŠ¨ç«¯ 1px scss å‡½æ•°</h3> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token comment">/**
 * è§£å†³ç§»åŠ¨ç«¯1pxé—®é¢˜
*/</span>
<span class="token keyword">@mixin</span> <span class="token function">mobileThinBorder</span><span class="token punctuation">(</span>
  <span class="token property"><span class="token variable">$directionMaps</span></span><span class="token punctuation">:</span> bottom,
  <span class="token property"><span class="token variable">$color</span></span><span class="token punctuation">:</span> <span class="token variable">$m-color-4</span>,
  <span class="token property"><span class="token variable">$position</span></span><span class="token punctuation">:</span> after
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ˜¯å¦åªæœ‰ä¸€ä¸ªæ–¹å‘</span>
  <span class="token property"><span class="token variable">$isOnlyOneDir</span></span><span class="token punctuation">:</span> string==<span class="token function">type-of</span><span class="token punctuation">(</span><span class="token variable">$directionMaps</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">@if</span> <span class="token punctuation">(</span><span class="token variable">$isOnlyOneDir</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$directionMaps</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token variable">$directionMaps</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">@each</span> <span class="token selector"><span class="token variable">$directionMap</span> in <span class="token variable">$directionMaps</span> </span><span class="token punctuation">{</span>
    <span class="token property">border-<span class="token variable">#{$directionMap}</span></span><span class="token punctuation">:</span> 1px solid <span class="token variable">$color</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token atrule"><span class="token rule">@media</span> only screen <span class="token operator">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-min-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token selector"><span class="token parent important">&amp;</span> </span><span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>

      <span class="token comment">// åˆ é™¤1åƒç´ å¯†åº¦æ¯”ä¸‹çš„è¾¹æ¡†</span>
      <span class="token keyword">@each</span> <span class="token selector"><span class="token variable">$directionMap</span> in <span class="token variable">$directionMaps</span> </span><span class="token punctuation">{</span>
        <span class="token property">border-<span class="token variable">#{$directionMap}</span></span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token parent important">&amp;</span>:<span class="token variable">#{$position}</span> </span><span class="token punctuation">{</span>
      <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
      <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
      <span class="token property">transform-origin</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span>
      <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 0 solid <span class="token variable">$color</span><span class="token punctuation">;</span>

      <span class="token keyword">@each</span> <span class="token selector"><span class="token variable">$directionMap</span> in <span class="token variable">$directionMaps</span> </span><span class="token punctuation">{</span>
        <span class="token property">border-<span class="token variable">#{$directionMap}</span>-width</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token atrule"><span class="token rule">@media</span> only screen <span class="token operator">and</span> <span class="token punctuation">(</span><span class="token property">min-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span>,
    <span class="token punctuation">(</span><span class="token property">-webkit-min-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token selector"><span class="token parent important">&amp;</span>:<span class="token variable">#{$position}</span> </span><span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 300%<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 300%<span class="token punctuation">;</span>
      <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.333333<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="vue-cli-é…ç½®-process-env-base-url-æ³¨æ„ç‚¹"><a href="#vue-cli-é…ç½®-process-env-base-url-æ³¨æ„ç‚¹" aria-hidden="true" class="header-anchor">#</a> vue-cli é…ç½® process.env.BASE_URL æ³¨æ„ç‚¹</h3> <p>æ™®é€š<code>vue-router</code>é…ç½®æ–¹å¼</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
  base<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>
  routes<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>é‡Œé¢çš„<code>process.env.BASE_URL</code>æ˜¯ä»€ä¹ˆï¼Ÿ</p> <p>å¦‚æœä½ ä¸åœ¨<code>vue.config.js</code>ä¸­æŒ‡å®š<code>publicPath</code>ï¼Œå°±æ˜¯é»˜è®¤<code>/</code>ï¼Œå¦åˆ™å°±ä¼šæ‹¿<code>publicPath</code>çš„å€¼æ³¨å…¥åˆ°<code>process.env.BASE_URL</code>é‡Œ</p> <h3 id="å»é™¤ç§»åŠ¨ç«¯-webkit-å†…æ ¸æµè§ˆå™¨ç‚¹å‡»èƒŒæ™¯é˜´å½±"><a href="#å»é™¤ç§»åŠ¨ç«¯-webkit-å†…æ ¸æµè§ˆå™¨ç‚¹å‡»èƒŒæ™¯é˜´å½±" aria-hidden="true" class="header-anchor">#</a> å»é™¤ç§»åŠ¨ç«¯ webkit å†…æ ¸æµè§ˆå™¨ç‚¹å‡»èƒŒæ™¯é˜´å½±</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å®‰å“è¾“å…¥æ³•å¼¹èµ·åº•éƒ¨è§£å†³æ–¹æ¡ˆ"><a href="#å®‰å“è¾“å…¥æ³•å¼¹èµ·åº•éƒ¨è§£å†³æ–¹æ¡ˆ" aria-hidden="true" class="header-anchor">#</a> å®‰å“è¾“å…¥æ³•å¼¹èµ·åº•éƒ¨è§£å†³æ–¹æ¡ˆ</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ua <span class="token operator">=</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isAndroid <span class="token operator">=</span> <span class="token regex">/android/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ua<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> originHeight <span class="token operator">=</span>
  document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">'resize'</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> resizeHeight <span class="token operator">=</span>
      document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>resizeHeight <span class="token operator">&lt;</span> originHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Android é”®ç›˜å¼¹èµ·...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// åº•éƒ¨è¢«é¡¶èµ·äº†ï¼Œè§†å£é«˜åº¦å˜å°ï¼Œåšäº›ä»€ä¹ˆ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Android é”®ç›˜æ”¶èµ·...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è§†å£é«˜åº¦æ¢å¤æ­£å¸¸ï¼Œåšäº›ä»€ä¹ˆ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="äºŒæœˆ"><a href="#äºŒæœˆ" aria-hidden="true" class="header-anchor">#</a> äºŒæœˆ</h2> <h3 id="fixed-å¸ƒå±€"><a href="#fixed-å¸ƒå±€" aria-hidden="true" class="header-anchor">#</a> fixed å¸ƒå±€</h3> <p>åœ¨åšé¡¹ç›®çš„æ—¶å€™ï¼Œä½¿ç”¨äº† fixed å¸ƒå±€ï¼Œè®¾ç½® top ä¸º 0ï¼Œbottom ä¸º 0 æ—¶ï¼Œé«˜åº¦æ²¡æœ‰å æ»¡ï¼Œå»çœ‹äº†ä¸‹ MDN æ–‡æ¡£ï¼Œå‘ç°æœ‰ä¸ªç»†èŠ‚</p> <blockquote><p>å…ƒç´ ä¼šè¢«ç§»å‡ºæ­£å¸¸æ–‡æ¡£æµï¼Œå¹¶ä¸ä¸ºå…ƒç´ é¢„ç•™ç©ºé—´ï¼Œè€Œæ˜¯é€šè¿‡æŒ‡å®šå…ƒç´ ç›¸å¯¹äºå±å¹•è§†å£ï¼ˆviewportï¼‰çš„ä½ç½®æ¥æŒ‡å®šå…ƒç´ ä½ç½®ã€‚å…ƒç´ çš„ä½ç½®åœ¨å±å¹•æ»šåŠ¨æ—¶ä¸ä¼šæ”¹å˜ã€‚æ‰“å°æ—¶ï¼Œå…ƒç´ ä¼šå‡ºç°åœ¨çš„æ¯é¡µçš„å›ºå®šä½ç½®ã€‚fixed å±æ€§ä¼šåˆ›å»ºæ–°çš„å±‚å ä¸Šä¸‹æ–‡ã€‚å½“å…ƒç´ ç¥–å…ˆçš„ transform, perspective æˆ– filter å±æ€§é none æ—¶ï¼Œå®¹å™¨ç”±è§†å£æ”¹ä¸ºè¯¥ç¥–å…ˆã€‚</p></blockquote> <p>çœ‹æœ€åä¸€å¥è¯ï¼Œå¾ˆé‡è¦ï¼ŒåŸæ¥ fixed å¸ƒå±€ä¹Ÿä¼šæ”¹å˜å®¹å™¨çš„å¯¹è±¡ï¼Œå› ä¸ºåœ¨é¡¹ç›®ä¸­ï¼Œfixed å…ƒç´ çš„çˆ¶å…ƒç´ ä½¿ç”¨äº† transformï¼Œæ”¹å˜äº†å®¹å™¨å¯¹è±¡ï¼Œæ‰€ä»¥é«˜åº¦æ²¡æœ‰å æ»¡çª—å£</p> <h3 id="ä¿®æ”¹-browserlist-ä¸ç”Ÿæ•ˆçš„é—®é¢˜"><a href="#ä¿®æ”¹-browserlist-ä¸ç”Ÿæ•ˆçš„é—®é¢˜" aria-hidden="true" class="header-anchor">#</a> ä¿®æ”¹ .browserlist ä¸ç”Ÿæ•ˆçš„é—®é¢˜</h3> <p>åœ¨ vuecli é¡¹ç›®ä¸­ä¿®æ”¹äº†<code>.browserlist</code>æ–‡ä»¶ï¼Œé‡æ–°ç¼–è¯‘å‘ç°ä½“ç§¯å˜æ›´ä¸å¤ªæ˜æ˜¾ï¼Œæ˜¯å› ä¸º<code>cache-loader</code>çš„åŸå› ï¼Œåœ¨<code>node_modules</code>ä¸­åˆ é™¤<code>.cache</code>æ–‡ä»¶ï¼Œå†é‡æ–°ç¼–è¾‘å³å¯</p> <h3 id="ts-è·å–æšä¸¾çš„-key"><a href="#ts-è·å–æšä¸¾çš„-key" aria-hidden="true" class="header-anchor">#</a> ts è·å–æšä¸¾çš„ key</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> ColorsEnum <span class="token punctuation">{</span>
  white <span class="token operator">=</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span>
  black <span class="token operator">=</span> <span class="token string">'#000000'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Colors <span class="token operator">=</span> keyof <span class="token keyword">typeof</span> ColorsEnum<span class="token punctuation">;</span>

<span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>ColorsEnum<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>keyof <span class="token keyword">typeof</span> ColorsEnum<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> colorLiteral<span class="token punctuation">:</span> Colors<span class="token punctuation">;</span>
colorLiteral <span class="token operator">=</span> <span class="token string">'white'</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
colorLiteral <span class="token operator">=</span> <span class="token string">'black'</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
colorLiteral <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span> <span class="token comment">// Error...</span>
</code></pre></div><h2 id="ä¸‰æœˆ"><a href="#ä¸‰æœˆ" aria-hidden="true" class="header-anchor">#</a> ä¸‰æœˆ</h2> <h3 id="é€‚é…-iphonex-åº•éƒ¨å®‰å…¨è·ç¦»"><a href="#é€‚é…-iphonex-åº•éƒ¨å®‰å…¨è·ç¦»" aria-hidden="true" class="header-anchor">#</a> é€‚é… iphonex+åº•éƒ¨å®‰å…¨è·ç¦»</h3> <p>å¦‚ä½•é€‚é… iphone æ‰‹æœºåº•éƒ¨å®‰å…¨è·ç¦»ï¼Ÿ</p> <p>ä¾‹å¦‚ä¸€ä¸ªæµ®åŠ¨çš„æŒ‰é’®ï¼Œåœ¨ä½¿ç”¨äº†ç»å¯¹å®šä½æˆ–è€…å›ºå®šå®šä½ï¼Œéœ€è¦åŠ ä¸Šä»¥ä¸‹å±æ€§</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.btn</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 56px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 56px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 94px<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">constant</span><span class="token punctuation">(</span>safe-area-inset-bottom<span class="token punctuation">)</span> + 94px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-bottom<span class="token punctuation">)</span> + 94px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœæ˜¯å®šä½åº•éƒ¨çš„ï¼Œä¾‹å¦‚ footer è¿™ç±»çš„å…ƒç´ </p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.footer</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe-area-inset-bottom<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* iOS 11.0 */</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-bottom<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* iOS 11.2 */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿˜æœ‰ï¼Œè®°å¾—åœ¨ html æ–‡ä»¶åŠ ä¸Š</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport-fit=cover<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="ç‚¹å‡»-iframe-å†…éƒ¨æ— æ³•è§¦å‘å¤–éƒ¨äº‹ä»¶çš„è§£å†³æ–¹æ¡ˆ"><a href="#ç‚¹å‡»-iframe-å†…éƒ¨æ— æ³•è§¦å‘å¤–éƒ¨äº‹ä»¶çš„è§£å†³æ–¹æ¡ˆ" aria-hidden="true" class="header-anchor">#</a> ç‚¹å‡» iframe å†…éƒ¨æ— æ³•è§¦å‘å¤–éƒ¨äº‹ä»¶çš„è§£å†³æ–¹æ¡ˆ</h3> <p>ç°åœ¨æœ‰ä¸ª dropdown ç»„ä»¶ï¼Œå‘ˆæ‰“å¼€çŠ¶æ€ï¼Œå¦‚æœç‚¹å‡»å¤–éƒ¨åŒºåŸŸå°±ä¼šè‡ªåŠ¨æ”¶èµ·ï¼Œä½†æ˜¯ç‚¹å‡» iframe ä¹‹åï¼Œæ— æ³•è‡ªåŠ¨æ”¶èµ·ï¼ŒåŸå› æ˜¯ç‚¹å‡» iframe æ— æ³•è§¦å‘å¤–éƒ¨å±‚çº§çš„<code>document.mousedown</code>äº‹ä»¶</p> <p>å¦‚ä½•è§£å†³ï¼Ÿå¯ä»¥ä½¿ç”¨<code>window.blur</code>æˆ–è€…ç»™ iframe çš„<code>contentWindow.document</code>æ·»åŠ ç‚¹å‡»äº‹ä»¶(ä»…é™äºåŒæºæƒ…å†µ)</p> <p>window.blur æ–¹æ¡ˆ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">onWinBlur</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>activeElement <span class="token operator">===</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'office-iframe'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dropdown <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dropdownRef<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dropdown<span class="token punctuation">.</span>visible<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dropdown<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'blur'</span><span class="token punctuation">,</span> onWinBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="å››æœˆ"><a href="#å››æœˆ" aria-hidden="true" class="header-anchor">#</a> å››æœˆ</h2> <h3 id="è·¨ç«™"><a href="#è·¨ç«™" aria-hidden="true" class="header-anchor">#</a> è·¨ç«™</h3> <blockquote><p>Cookie å‘é€éµå®ˆçš„åŒç«™ç­–ç•¥ï¼Œå¹¶ä¸æ˜¯åŒæºç­–ç•¥ï¼ŒSameSite è®¾ä¸º None åˆ™æ”¯æŒè·¨ç«™å‘é€(å‰ææ˜¯å¼€å¯ Secure+htttps)</p></blockquote> <p>ä»€ä¹ˆæ˜¯åŒç«™ï¼Ÿ</p> <p>eTLD+1 ç›¸åŒå³æ˜¯åŒç«™</p> <p>eTLD: (effective top-level domain) æœ‰æ•ˆé¡¶çº§åŸŸåï¼Œæ³¨å†Œäº Mozilla ç»´æŠ¤çš„å…¬å…±åç¼€åˆ—è¡¨ï¼ˆPublic Suffix Listï¼‰ä¸­,å¦‚.comã€.co.ukã€.github.io,.top ç­‰</p> <p>eTLD+1: æœ‰æ•ˆé¡¶çº§åŸŸå+äºŒçº§åŸŸåï¼Œå¦‚ taobao.com,baidu.com(é¡¶çº§åŸŸåæ˜¯.comï¼ŒäºŒçº§åŸŸåæ˜¯ taobaoã€baidu)</p> <h2 id="äº”æœˆ"><a href="#äº”æœˆ" aria-hidden="true" class="header-anchor">#</a> äº”æœˆ</h2> <h3 id="å‰ç«¯å¼‚å¸¸æ•è·æ–¹å¼"><a href="#å‰ç«¯å¼‚å¸¸æ•è·æ–¹å¼" aria-hidden="true" class="header-anchor">#</a> å‰ç«¯å¼‚å¸¸æ•è·æ–¹å¼</h3> <p>1ã€try catch</p> <p>æ— æ³•æ•è·å¼‚æ­¥é”™è¯¯</p> <p>2ã€window.onerror</p> <p>å¯ä»¥æ•è·å¼‚æ­¥å’ŒåŒæ­¥å¼‚å¸¸ï¼Œé™¤äº† promise</p> <p>3ã€unhandledrejection</p> <p>æ•è·æœªå¤„ç†çš„ promise</p> <p>4ã€ajax å¼‚å¸¸</p> <p>é‡å†™ XMLHttpRequest.prototype ç›¸å…³æ–¹æ³•</p> <h3 id="ç”¨-nginx-ä»£ç†-onpremise-éƒ¨ç½²çš„-sentry-ä¸ŠæŠ¥æ¥å£-https"><a href="#ç”¨-nginx-ä»£ç†-onpremise-éƒ¨ç½²çš„-sentry-ä¸ŠæŠ¥æ¥å£-https" aria-hidden="true" class="header-anchor">#</a> ç”¨ nginx ä»£ç† onpremise éƒ¨ç½²çš„ sentry ä¸ŠæŠ¥æ¥å£(https)</h3> <p>å› ä¸ºç”¨ onpremise éƒ¨ç½²çš„ sentryï¼Œåªæä¾›äº† http æ¥å£ï¼Œå¦‚æœåœ¨ https åº”ç”¨é‡Œè°ƒç”¨ http æ¥å£ä¼šæŠ¥<code>Mixed Content</code>é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦ç”¨ nginx å¢åŠ ä¸€å±‚æ¥å£è½¬å‘ï¼Œnginx ç›¸å…³é…ç½®</p> <p>'https://xxx/sentry/api/xxx'è½¬å‘åˆ°'http://xxx:9000/api/xxx'å³å¯</p> <div class="language-conf extra-class"><pre class="language-text"><code># å¿½ç•¥sslç›¸å…³é…ç½®
# ä¸»è¦æ˜¯ä¸‹é¢è½¬å‘é…ç½®
location /sentry/api/store/ {
  proxy_pass http://xxx:9000/api/store/;
}

location ~ /sentry/(api/[1-9]+/.*) {
  rewrite /sentry/(api/[1-9]+/.*) /$1 break;
  proxy_pass http://xxx:9000;
}
</code></pre></div><h2 id="å…­æœˆ"><a href="#å…­æœˆ" aria-hidden="true" class="header-anchor">#</a> å…­æœˆ</h2> <h3 id="vue-class-component-åˆå§‹åŒ–-data-å±æ€§çš„å‘"><a href="#vue-class-component-åˆå§‹åŒ–-data-å±æ€§çš„å‘" aria-hidden="true" class="header-anchor">#</a> vue-class-component åˆå§‹åŒ– data å±æ€§çš„å‘</h3> <p>å¦‚æœç”¨ vue-class-component æ¥å†™ vue ç»„ä»¶ï¼Œåˆå§‹åŒ–å“åº”å¼ data é‡Œé¢æœ‰å€¼å¦‚æœæ˜¯ undefinedï¼Œè¿™ä¸ªå€¼å°†ä¼šè¢«è¿‡æ»¤ï¼Œä¸ä¼šäº¤ç»™ vue çš„ data ä¸­ï¼Œä¾‹å¦‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Component <span class="token keyword">from</span> <span class="token string">'vue-class-component'</span><span class="token punctuation">;</span>

@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token comment">// message ä¸æ˜¯å“åº”å¼çš„</span>
  message <span class="token operator">=</span> undefined<span class="token punctuation">;</span>

  <span class="token comment">// message1æ˜¯å“åº”å¼çš„</span>
  message1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>çœ‹äº†ä¸‹æºç ï¼Œå‘ç° vue-class-component é‡Œé¢åŠ äº†è¿™æ®µé€»è¾‘</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// create plain data object</span>
<span class="token keyword">const</span> plainData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    plainData<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ‰€æœ‰ undefined çš„å€¼éƒ½è¢«è¿‡æ»¤äº†ï¼Œæ‰€ä»¥ä¸æ˜¯ vue è¿‡æ»¤äº† undefined å€¼ï¼Œè€Œæ˜¯ vue-class-component</p> <p>github ç›¸å…³è®¨è®ºï¼šhttps://github.com/vuejs/vue-class-component/issues/39</p> <h3 id="å¤„ç†å¤šä¸ªæ¡ä»¶ç®€æ´å†™æ³•"><a href="#å¤„ç†å¤šä¸ªæ¡ä»¶ç®€æ´å†™æ³•" aria-hidden="true" class="header-anchor">#</a> å¤„ç†å¤šä¸ªæ¡ä»¶ç®€æ´å†™æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">someFunction</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;someValue1&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;someValue2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç®€æ´çš„å†™æ³•ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">someFunction</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> conditions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;someValue1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;someValue2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> conditions<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>condition <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ä¸ƒæœˆ"><a href="#ä¸ƒæœˆ" aria-hidden="true" class="header-anchor">#</a> ä¸ƒæœˆ</h2> <h3 id="ä½¿ç”¨-word-spacing-å¢åŠ æ–‡å­—é—´è·"><a href="#ä½¿ç”¨-word-spacing-å¢åŠ æ–‡å­—é—´è·" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨ word-spacing å¢åŠ æ–‡å­—é—´è·</h3> <p>å¦‚æœæƒ³è®©'ä½ å¥½'å±•ç¤ºæˆ'ä½  å¥½'ï¼Œå¯ä»¥ä½¿ç”¨ word-spacing</p> <p>æ³¨æ„ï¼Œword-spacing å¯¹ä¸­æ–‡æ— æ•ˆï¼Œæ‰€ä»¥éœ€è¦å¸¦ä¸Šä¸€ä¸ªç©ºæ ¼å¯ä»¥å¼ºè¡Œè®©å®ƒç”Ÿæ•ˆï¼Œæ¯”å¦‚'ä½  å¥½'</p> <h3 id="æ›¿æ¢æ–‡æœ¬æŒ‡å®šä½ç½®å‡½æ•°"><a href="#æ›¿æ¢æ–‡æœ¬æŒ‡å®šä½ç½®å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> æ›¿æ¢æ–‡æœ¬æŒ‡å®šä½ç½®å‡½æ•°</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token function-variable function">replaceRangeString</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  text<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  end<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  replacetext<span class="token punctuation">:</span> <span class="token builtin">string</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> text<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span> <span class="token operator">+</span> replacetext <span class="token operator">+</span> text<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="å…«æœˆ"><a href="#å…«æœˆ" aria-hidden="true" class="header-anchor">#</a> å…«æœˆ</h2> <h3 id="package-json-ç‰ˆæœ¬é—®é¢˜"><a href="#package-json-ç‰ˆæœ¬é—®é¢˜" aria-hidden="true" class="header-anchor">#</a> package.json ç‰ˆæœ¬é—®é¢˜</h3> <p>å®‰è£…äº†ä¸ª ui åº“ï¼Œé‡Œé¢ä¾èµ–äº†é¥¿äº†ä¹ˆ uiï¼Œæœ¬åœ°å¼€å‘ä¹Ÿå®‰è£…äº†é¥¿äº†ä¹ˆ uiï¼Œå¦‚æœå¸Œæœ›è¿™ä¸ª ui ç”¨çš„æ˜¯æœ¬åœ°ä¾èµ–çš„é¥¿äº†ä¹ˆ uiï¼Œæœ¬åœ°çš„é¥¿äº†ä¹ˆç‰ˆæœ¬å·éœ€è¦å’Œ ui åº“çš„ä¾èµ–ç‰ˆæœ¬ä¸€è‡´</p> <p>ui/package.json -&gt; element-ui(^2.15.0)
æœ¬åœ°/package.json -&gt; element-ui(^2.15.0)</p> <p>è¿™æ ·å°±å¯ä»¥å…±ç”¨ä¸€å¥—é¥¿äº†ä¹ˆ ui äº†ï¼Œå¦åˆ™ï¼Œui åº“ä¸‹é¢çš„ node_modules ä¼šå¤šå‡ºä¸ª element-ui</p> <h3 id="ç¼“å†²ä»»åŠ¡é˜Ÿåˆ—å‡½æ•°"><a href="#ç¼“å†²ä»»åŠ¡é˜Ÿåˆ—å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> ç¼“å†²ä»»åŠ¡é˜Ÿåˆ—å‡½æ•°</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> isFlushing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">queueJob</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span><span class="token punctuation">)</span> queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>job<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isFlushing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    isFlushing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> fn<span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>fn <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">log1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">log2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">queueJob</span><span class="token punctuation">(</span>log1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">queueJob</span><span class="token punctuation">(</span>log1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">queueJob</span><span class="token punctuation">(</span>log1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">queueJob</span><span class="token punctuation">(</span>log2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">queueJob</span><span class="token punctuation">(</span>log2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">queueJob</span><span class="token punctuation">(</span>log2<span class="token punctuation">)</span><span class="token punctuation">;</span>

isFlushing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å¦‚ä½•æŒ‰éœ€æŒ‡å®š-node-modules-types-ä¸‹çš„å£°æ˜æ–‡ä»¶"><a href="#å¦‚ä½•æŒ‰éœ€æŒ‡å®š-node-modules-types-ä¸‹çš„å£°æ˜æ–‡ä»¶" aria-hidden="true" class="header-anchor">#</a> å¦‚ä½•æŒ‰éœ€æŒ‡å®š node_modules/@types ä¸‹çš„å£°æ˜æ–‡ä»¶</h3> <p>ä¸€èˆ¬æ¥è¯´ï¼Œnode_modules/@types ä¸‹çš„å£°æ˜æ–‡ä»¶ä¼šè¢«è‡ªåŠ¨æå–ï¼Œä½†æ˜¯å¦‚æœæƒ³æŒ‰éœ€æŒ‡å®šï¼Œå¯ä»¥è¿™ä¹ˆå†™</p> <p>tsconfig.json</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jest&quot;</span><span class="token punctuation">]</span> // ä»… node å’Œ jest ä¸‹çš„å£°æ˜æ–‡ä»¶ç”Ÿæ•ˆ
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ä¹æœˆ"><a href="#ä¹æœˆ" aria-hidden="true" class="header-anchor">#</a> ä¹æœˆ</h2> <h3 id="yarn-link-yarn-global-add"><a href="#yarn-link-yarn-global-add" aria-hidden="true" class="header-anchor">#</a> yarn link / yarn global add</h3> <p>åœ¨ mac ç¯å¢ƒä¸­ï¼Œyarn link / yarn global add ä¼šæŠŠ bin æ–‡ä»¶è½¯é“¾æ¥åˆ° /usr/local/bin é‡Œé¢</p> <h3 id="keydown-enter-é—®é¢˜"><a href="#keydown-enter-é—®é¢˜" aria-hidden="true" class="header-anchor">#</a> keydown enter é—®é¢˜</h3> <p>åœ¨ input æ¡†ä¸­é”®å…¥å›è½¦çš„æ—¶å€™ï¼Œåˆ¤æ–­å›è½¦é”®äº‹ä»¶æ¥å“åº”ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è¡¨å•æäº¤ï¼Œå¦‚æœç”¨<code>event.key</code>æ¥åˆ¤æ–­<code>Enter</code>çš„è¯ï¼Œä¼šæœ‰äº›é—®é¢˜</p> <p>åœ¨ vue ä¸­è¿™ä¹ˆå†™</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@keydown.enter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleSubmit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>åœ¨ä¸­æ–‡è¾“å…¥æ³•ä¸­ï¼Œé”®å…¥çš„æ—¶ç›´æ¥æŒ‰å›è½¦ï¼Œä¼šè§¦å‘ handleSubmit äº‹ä»¶</p> <p>æ”¹æˆè¿™ç§å°±å¯ä»¥è§£å†³</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">@keydown.13</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleSubmit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>åŸå› ï¼Œä¸­æ–‡è¾“å…¥æ³•æ”¹å†™äº† keydown å›è½¦é”®çš„ keyCodeï¼Œæ”¹æˆäº† 229ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘<code>@keydown.13</code>äº‹ä»¶</p> <h2 id="åæœˆ"><a href="#åæœˆ" aria-hidden="true" class="header-anchor">#</a> åæœˆ</h2> <h3 id="emoji-è½¬-unicode-å­—ç¬¦ä¸²"><a href="#emoji-è½¬-unicode-å­—ç¬¦ä¸²" aria-hidden="true" class="header-anchor">#</a> emoji è½¬ Unicode å­—ç¬¦ä¸²</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">toUnicode</span><span class="token punctuation">(</span>emoji<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> unicode <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> emoji<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> ele <span class="token operator">=</span> <span class="token string">'\\u'</span> <span class="token operator">+</span> emoji<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    unicode <span class="token operator">+=</span> ele<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> unicode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">toUnicode</span><span class="token punctuation">(</span><span class="token string">'ğŸ˜€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '\ud83d\ude00'</span>
</code></pre></div><h2 id="åä¸€æœˆ"><a href="#åä¸€æœˆ" aria-hidden="true" class="header-anchor">#</a> åä¸€æœˆ</h2> <h3 id="rust-cargo-build-å¾ˆæ…¢é—®é¢˜"><a href="#rust-cargo-build-å¾ˆæ…¢é—®é¢˜" aria-hidden="true" class="header-anchor">#</a> rust cargo build å¾ˆæ…¢é—®é¢˜</h3> <p>æ›¿æ¢ä¸ºå›½å†…é•œåƒæº</p> <div class="language- extra-class"><pre class="language-text"><code># ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦
RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static
RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup

# æ¸…åå¤§å­¦
$ echo 'export RUSTUP_UPDATE_ROOT=https://mirrors.tuna.tsinghua.edu.cn/rustup/rustup'
$ echo 'export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup'
</code></pre></div><p>å°†å¦‚ä¸‹é…ç½®å†™å…¥ /.cargo/config æ–‡ä»¶ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>[source.crates-io]
registry = &quot;https://github.com/rust-lang/crates.io-index&quot;

# æ›¿æ¢æˆä½ åå¥½çš„é•œåƒæº
replace-with = 'sjtu'

# æ¸…åå¤§å­¦
[source.tuna]
registry = &quot;https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git&quot;

# ä¸Šæµ·äº¤é€šå¤§å­¦
[source.sjtu]
registry = &quot;https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index&quot;
</code></pre></div><p>å¦‚æœå‘ç°æ”¹äº†é•œåƒæºè¿˜æ˜¯æ‹‰å–å¾ˆæ…¢ï¼Œåˆ äº† /.cargo/.package-cache é‡æ–° build å³å¯</p> <h2 id="åäºŒæœˆ"><a href="#åäºŒæœˆ" aria-hidden="true" class="header-anchor">#</a> åäºŒæœˆ</h2> <h3 id="è§£å†³ä¸­æ–‡ç¬¦å·æº¢å‡ºä¸æ¢è¡Œé—®é¢˜"><a href="#è§£å†³ä¸­æ–‡ç¬¦å·æº¢å‡ºä¸æ¢è¡Œé—®é¢˜" aria-hidden="true" class="header-anchor">#</a> è§£å†³ä¸­æ–‡ç¬¦å·æº¢å‡ºä¸æ¢è¡Œé—®é¢˜</h3> <p>æ·»åŠ  css å±æ€§</p> <p><code>word-break: break-word;</code> // å°†è¢«å¼ƒç”¨</p> <p>ä½¿ç”¨ <code>overflow-wrap: anywhere;</code></p> <p><code>word-break: break-word</code> ä¸º <code>word-break: normal</code> å’Œ <code>overflow-wrap: anywhere</code> çš„åˆ</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/22/2022, 11:18:19 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/Notebook/dailyRecord/" class="prev router-link-active">
        2022
      </a></span> <span class="next"><a href="/Notebook/dailyRecord/2020.html">
        2020
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.51035dcd.js" defer></script><script src="/Notebook/assets/js/21.b8066a1d.js" defer></script><script src="/Notebook/assets/js/7.d4af47ef.js" defer></script>
  </body>
</html>
