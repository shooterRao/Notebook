<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2018 | RJW&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/Notebook/images/logo.png">
    <meta name="description" content="📝每天记录一点点">
    <link rel="preload" href="/Notebook/assets/css/0.styles.2568425a.css" as="style"><link rel="preload" href="/Notebook/assets/js/app.51035dcd.js" as="script"><link rel="preload" href="/Notebook/assets/js/21.b8066a1d.js" as="script"><link rel="preload" href="/Notebook/assets/js/10.88896875.js" as="script"><link rel="preload" href="/Notebook/assets/js/19.17673ac2.js" as="script"><link rel="prefetch" href="/Notebook/assets/js/2.f187326d.js"><link rel="prefetch" href="/Notebook/assets/js/3.c107e9cc.js"><link rel="prefetch" href="/Notebook/assets/js/4.195f4b4c.js"><link rel="prefetch" href="/Notebook/assets/js/5.c6e81d81.js"><link rel="prefetch" href="/Notebook/assets/js/6.f1072f55.js"><link rel="prefetch" href="/Notebook/assets/js/7.d4af47ef.js"><link rel="prefetch" href="/Notebook/assets/js/8.c5c9a92a.js"><link rel="prefetch" href="/Notebook/assets/js/9.6d199ed1.js"><link rel="prefetch" href="/Notebook/assets/js/11.bcd53a24.js"><link rel="prefetch" href="/Notebook/assets/js/12.1b5a4e8c.js"><link rel="prefetch" href="/Notebook/assets/js/13.356cc3d0.js"><link rel="prefetch" href="/Notebook/assets/js/14.2c74c350.js"><link rel="prefetch" href="/Notebook/assets/js/15.b864e6b5.js"><link rel="prefetch" href="/Notebook/assets/js/16.30e2be76.js"><link rel="prefetch" href="/Notebook/assets/js/17.beaf0e2c.js"><link rel="prefetch" href="/Notebook/assets/js/18.13b949a3.js"><link rel="prefetch" href="/Notebook/assets/js/20.5e336d91.js">
    <link rel="stylesheet" href="/Notebook/assets/css/0.styles.2568425a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Notebook/" class="home-link router-link-active"><!----> <span class="site-name">RJW's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link router-link-active">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://shooterblog.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/shooterRao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔗Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Notebook/dailyRecord/" class="nav-link router-link-active">
  📝日常记录
</a></div><div class="nav-item"><a href="/Notebook/bookmark/" class="nav-link">
  🏷书签整理
</a></div><div class="nav-item"><a href="/Notebook/lint/" class="nav-link">
  ✔️编码规范&amp;协同开发
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  📖知识脑图
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://shooterblog.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔧个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/shooterRao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🔗Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>日常记录</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/dailyRecord/" aria-current="page" class="sidebar-link">2022</a></li><li><a href="/Notebook/dailyRecord/2021.html" class="sidebar-link">2021</a></li><li><a href="/Notebook/dailyRecord/2020.html" class="sidebar-link">2020</a></li><li><a href="/Notebook/dailyRecord/2019.html" class="sidebar-link">2019</a></li><li><a href="/Notebook/dailyRecord/2018.html" aria-current="page" class="active sidebar-link">2018</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#八月" class="sidebar-link">八月</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#加载-blob-流图片" class="sidebar-link">加载 blob 流图片</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#含义" class="sidebar-link">!!含义</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#获取返回头部的-contenttype" class="sidebar-link">获取返回头部的 contentType</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#判断问题" class="sidebar-link">判断问题</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#根据数组里面对象某个字段值进行排序" class="sidebar-link">根据数组里面对象某个字段值进行排序</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#页数计算方法" class="sidebar-link">页数计算方法</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#cookie-通用方法" class="sidebar-link">cookie 通用方法</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#umd-模块通用写法" class="sidebar-link">UMD 模块通用写法</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#关于-webpack-打包-umd-模块的一些小坑" class="sidebar-link">关于 webpack 打包 umd 模块的一些小坑</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#css-background-img-中-center-属性很方便" class="sidebar-link">css-background-img 中 center 属性很方便</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#nodelist-转-array-的多种方法" class="sidebar-link">NodeList 转 Array 的多种方法</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#一个-tap-技巧" class="sidebar-link">一个 tap 技巧</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#_123-tostring-为什么会报错" class="sidebar-link">123.toString()为什么会报错</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#用promise模拟dojo里的deferred函数" class="sidebar-link">用Promise模拟Dojo里的Deferred函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#九月" class="sidebar-link">九月</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#promise-finaly-实现方法" class="sidebar-link">Promise.finaly 实现方法</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#merge-对象" class="sidebar-link">Merge 对象</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#event-lop" class="sidebar-link">Event lop</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#解析-url-参数" class="sidebar-link">解析 url 参数</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#eslint" class="sidebar-link">ESlint</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vscode-小技巧" class="sidebar-link">vscode 小技巧</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#关于-es6-的-class" class="sidebar-link">关于 ES6 的 class</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#git-常用合并命令" class="sidebar-link">git 常用合并命令</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#git-更新文件冲突解决方案" class="sidebar-link">git 更新文件冲突解决方案</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#关于-weakmap" class="sidebar-link">关于 weakmap</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#ajax-并发请求" class="sidebar-link">ajax 并发请求</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#bash-一个小坑" class="sidebar-link">bash 一个小坑</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#元素节点中的-children-和-childnodes-的区别" class="sidebar-link">元素节点中的 children 和 childNodes 的区别</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#element-matches-polyfill" class="sidebar-link">Element.matches--polyfill</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#关于-delete-注意点" class="sidebar-link">关于 delete 注意点</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#canvas-todataurl-image-png-跨域报错的解决方案" class="sidebar-link">canvas.toDataURL('image/png') 跨域报错的解决方案</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#git-创建独立的分支" class="sidebar-link">git 创建独立的分支</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vim-底线命令" class="sidebar-link">vim 底线命令</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#一些-ss-的命令" class="sidebar-link">一些 ss 的命令</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-svg-icon-方案" class="sidebar-link">vue svg-icon 方案</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-native-修饰符" class="sidebar-link">vue .native 修饰符</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#export-注意的" class="sidebar-link">export 注意的</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#tree-ignore" class="sidebar-link">tree ignore</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#gitignore" class="sidebar-link">gitignore</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#sass-calc-取值" class="sidebar-link">sass calc 取值</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-transition-组件-mode" class="sidebar-link">vue-transition 组件 mode</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#array-fill-小坑" class="sidebar-link">Array.fill 小坑</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#十月" class="sidebar-link">十月</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-的v-model" class="sidebar-link">vue 的v-model</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-子组件改变-props-的方法" class="sidebar-link">vue 子组件改变 props 的方法</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#生成-uuid" class="sidebar-link">生成 uuid</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#事件代理的优点" class="sidebar-link">事件代理的优点</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#array-chunk" class="sidebar-link">Array-chunk</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-组件-style" class="sidebar-link">Vue 组件 style</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#深度扁平化数组" class="sidebar-link">深度扁平化数组</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#找出两个数组中不同的值" class="sidebar-link">找出两个数组中不同的值</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#关于浏览器全屏-api" class="sidebar-link">关于浏览器全屏 API</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#三角函数" class="sidebar-link">三角函数</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-data-属性不被代理的方法" class="sidebar-link">vue data 属性不被代理的方法</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#event-currenttarget" class="sidebar-link">event.currentTarget</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vuecli3-传递全局变量" class="sidebar-link">vuecli3 传递全局变量</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-render-函数用组件的-v-model" class="sidebar-link">vue render 函数用组件的 v-model</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#十一月" class="sidebar-link">十一月</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#为什么不用-for-in-遍历数组" class="sidebar-link">为什么不用 for-in 遍历数组</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-模板解析报错" class="sidebar-link">vue 模板解析报错</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#eslint-行禁用" class="sidebar-link">eslint 行禁用</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-router-为-history-时请求本地-static-的小坑" class="sidebar-link">vue-router 为 history 时请求本地 static 的小坑</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#axios-请求图片流" class="sidebar-link">axios 请求图片流</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#文本溢出出现省略号…的方法" class="sidebar-link">文本溢出出现省略号…的方法</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#简洁的对象合并-polyfill" class="sidebar-link">简洁的对象合并 polyfill</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#注册所有-vue-全局组件方式" class="sidebar-link">注册所有 vue 全局组件方式</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#用-vue-jsx-渲染简单的-tree" class="sidebar-link">用 vue jsx 渲染简单的 tree</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#foreach-无法跳出循环" class="sidebar-link">forEach 无法跳出循环</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#一个有用的-range-函数" class="sidebar-link">一个有用的 range 函数</a></li></ul></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#十二月" class="sidebar-link">十二月</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vscode-开启别名路径提示" class="sidebar-link">vscode 开启别名路径提示</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-组件命名" class="sidebar-link">vue 组件命名</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#mac-命名行开启xcode虚拟机" class="sidebar-link">mac 命名行开启xcode虚拟机</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#本地仓库设置config" class="sidebar-link">本地仓库设置config</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#修改上一个-commit-的描述" class="sidebar-link">修改上一个 commit 的描述</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-动态组件-is-的值" class="sidebar-link">vue 动态组件 :is 的值</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#console-log-调试注意的" class="sidebar-link">console.log 调试注意的</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#vue-高级动态组件" class="sidebar-link">vue 高级动态组件</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#只能用-new-来调用函数" class="sidebar-link">只能用 new 来调用函数</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#关于-proto" class="sidebar-link">关于 _proto_</a></li><li class="sidebar-sub-header"><a href="/Notebook/dailyRecord/2018.html#命令行大法好" class="sidebar-link">命令行大法好</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>interview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Notebook/dailyRecord/interview.html" class="sidebar-link">面试复习</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2018"><a href="#_2018" aria-hidden="true" class="header-anchor">#</a> 2018</h1> <h2 id="八月"><a href="#八月" aria-hidden="true" class="header-anchor">#</a> 八月</h2> <h3 id="加载-blob-流图片"><a href="#加载-blob-流图片" aria-hidden="true" class="header-anchor">#</a> 加载 blob 流图片</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_blob<span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取图片原始尺寸 （IE9+）</span>
  <span class="token keyword">const</span> imgWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>naturalWidth<span class="token punctuation">;</span>
  <span class="token keyword">const</span> imgHeight <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>naturalHeight<span class="token punctuation">;</span>
  window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="含义"><a href="#含义" aria-hidden="true" class="header-anchor">#</a> !!含义</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">!</span><span class="token operator">!</span><span class="token string">&quot;false&quot;</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span>
<span class="token operator">!</span><span class="token operator">!</span>undefined <span class="token operator">=&gt;</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token number">123</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token operator">!</span>’abc’ <span class="token operator">=&gt;</span> <span class="token boolean">true</span>
<span class="token operator">!</span><span class="token operator">!</span>是转Boolean的一个技巧，可以得到这个值真正对应的布尔值
</code></pre></div><h3 id="获取返回头部的-contenttype"><a href="#获取返回头部的-contenttype" aria-hidden="true" class="header-anchor">#</a> 获取返回头部的 contentType</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> contentType <span class="token operator">=</span> xhr<span class="token punctuation">.</span><span class="token function">getResponseHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="判断问题"><a href="#判断问题" aria-hidden="true" class="header-anchor">#</a> 判断问题</h3> <p>有一个现象，就是当 A 对象没有<code>name</code>属性时，去判断<code>A.name !== XXX</code>是返回<code>true</code>的，如果没有<code>name</code>属性，必须先判断<code>A.name</code>是否存在，再去判断它是否不等于 XXX
所以说，像这种写法<code>if(node.data.topicitem.isFavorite)</code>，是错误的, 应该改成<code>if(node.data &amp;&amp; node.data.topicitem &amp;&amp; node.data.topicitem.isFavorite)</code></p> <h3 id="根据数组里面对象某个字段值进行排序"><a href="#根据数组里面对象某个字段值进行排序" aria-hidden="true" class="header-anchor">#</a> 根据数组里面对象某个字段值进行排序</h3> <div class="language-js extra-class"><pre class="language-js"><code>sortUp<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> <span class="token function-variable function">sort</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>objectN<span class="token punctuation">,</span> objectM<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> valueN <span class="token operator">=</span> objectN<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
      <span class="token keyword">var</span> valueM <span class="token operator">=</span> objectM<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>valueN <span class="token operator">&lt;</span> valueM<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>valueN <span class="token operator">&gt;</span> valueM<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
    data<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">sort</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Tips: 在 sort 函数里面，a &lt; b return 1（降序）
a &lt; b return -1（升序)</p> <h3 id="页数计算方法"><a href="#页数计算方法" aria-hidden="true" class="header-anchor">#</a> 页数计算方法</h3> <p><code>const totalPages = Math.ceil(总条数/展示的条数)</code></p> <h3 id="cookie-通用方法"><a href="#cookie-通用方法" aria-hidden="true" class="header-anchor">#</a> cookie 通用方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> cookieuUtil <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 设置cookie方法</span>
  setCookie<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> val<span class="token punctuation">,</span> time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取当前时间</span>
    <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 将date设置为n天以后的时间</span>
    <span class="token keyword">const</span> expiresDays <span class="token operator">=</span> time<span class="token punctuation">;</span>
    <span class="token comment">// 格式化为cookie识别的时间</span>
    date<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> expiresDays <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置cookie</span>
    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> key <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> val <span class="token operator">+</span> <span class="token string">&quot;;expires=&quot;</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">toGMTString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 获取cookie</span>
  getCookie<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      arr2 <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> arr2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 删除cookie</span>
  delCookie<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="umd-模块通用写法"><a href="#umd-模块通用写法" aria-hidden="true" class="header-anchor">#</a> UMD 模块通用写法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>global<span class="token punctuation">,</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// webpack处理</span>
  <span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> module <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">:</span> <span class="token comment">// amd</span>
    <span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd
    <span class="token operator">?</span> <span class="token function">define</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span>
    <span class="token punctuation">:</span> <span class="token comment">// window</span>
      <span class="token punctuation">(</span>global<span class="token punctuation">.</span>xxx <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// do something...</span>
  <span class="token keyword">var</span> xxx <span class="token operator">=</span> <span class="token template-string"><span class="token string">`your export module`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> xxx<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="关于-webpack-打包-umd-模块的一些小坑"><a href="#关于-webpack-打包-umd-模块的一些小坑" aria-hidden="true" class="header-anchor">#</a> 关于 webpack 打包 umd 模块的一些小坑</h3> <p>首先，如果想把一个模块通过<code>&lt;script src&gt;</code>方式引入，挂载到 window 变量上，需要配置 webpack 打包成<code>umd</code></p> <p>在导出模块时，如果用了 es6 的<code>export default</code>写法，会有点小坑，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">export</span> defaule foo<span class="token punctuation">;</span>
</code></pre></div><p>打包后引入，发现 window 上没有挂载上 foo 变量，研究了打包后的源码，总结下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// export defaule foo 是把一个对象export出来</span>
  Module<span class="token punctuation">{</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>，
    __esModule<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>所以<code>foo</code>变量实际上是挂载到了<code>window.default</code>上，只能通过<code>window.default()</code>进行调用</p> <p><strong>解决办法</strong></p> <p>推荐这种形式</p> <p><code>export default xxx</code></p> <div class="language-js extra-class"><pre class="language-js"><code>output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
  libraryExport<span class="token punctuation">:</span> <span class="token string">'default'</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> foo <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 内部Module对象实际上是</span>
  Module<span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>，
    __esModule<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>如果用<code>module.exports = foo</code>这种方法导出则不会有问题，不过需要这么配置</p> <div class="language-js extra-class"><pre class="language-js"><code>output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
  library<span class="token punctuation">:</span> <span class="token string">'foo'</span> <span class="token comment">// 比esmodule加多这项</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="css-background-img-中-center-属性很方便"><a href="#css-background-img-中-center-属性很方便" aria-hidden="true" class="header-anchor">#</a> css-background-img 中 center 属性很方便</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url(&quot;./loading-icon.gif&quot;)</span> no-repeat center<span class="token punctuation">;</span>
</code></pre></div><h3 id="nodelist-转-array-的多种方法"><a href="#nodelist-转-array-的多种方法" aria-hidden="true" class="header-anchor">#</a> NodeList 转 Array 的多种方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 方法一</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> NodeList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 方法二</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>NodeList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 方法三</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>NodeList<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="一个-tap-技巧"><a href="#一个-tap-技巧" aria-hidden="true" class="header-anchor">#</a> 一个 tap 技巧</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">tap</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> x <span class="token operator">=&gt;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> <span class="token function">tap</span><span class="token punctuation">(</span>v <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> <span class="token function">tap</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// tap对于函数式编程很有帮助</span>
</code></pre></div><h3 id="_123-tostring-为什么会报错"><a href="#_123-tostring-为什么会报错" aria-hidden="true" class="header-anchor">#</a> 123.toString()为什么会报错</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">123.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>相当于<span class="token number">123.0</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 解决一</span>
<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 解决二</span>
<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">123.</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">123.0</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="用promise模拟dojo里的deferred函数"><a href="#用promise模拟dojo里的deferred函数" aria-hidden="true" class="header-anchor">#</a> 用<code>Promise</code>模拟<code>Dojo</code>里的<code>Deferred</code>函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Deferred</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> def <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  def<span class="token punctuation">.</span>promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    def<span class="token punctuation">.</span>resolve <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
    def<span class="token punctuation">.</span>reject <span class="token operator">=</span> reject<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> def<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// use</span>
<span class="token keyword">const</span> dojoDef <span class="token operator">=</span> <span class="token function">Deferred</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dojoDef<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;dojo-deferred-done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dojoDef<span class="token punctuation">.</span>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="#%E5%85%AB%E6%9C%88">八月</a></p> <h2 id="九月"><a href="#九月" aria-hidden="true" class="header-anchor">#</a> 九月</h2> <h3 id="promise-finaly-实现方法"><a href="#promise-finaly-实现方法" aria-hidden="true" class="header-anchor">#</a> <code>Promise.finaly</code> 实现方法</h3> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">finally</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token constant">P</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    value <span class="token operator">=&gt;</span> <span class="token constant">P</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value<span class="token punctuation">)</span><span class="token punctuation">,</span>
    reason <span class="token operator">=&gt;</span>
      <span class="token constant">P</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> reason<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// use</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="merge-对象"><a href="#merge-对象" aria-hidden="true" class="header-anchor">#</a> <code>Merge</code> 对象</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 合并对象（不会覆盖对象已有的属性）</span>
<span class="token keyword">function</span> <span class="token function">merge</span><span class="token punctuation">(</span>obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> defaults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> has <span class="token operator">=</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>hasOwnProperty<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> defaults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 确保不会合并default原型链上的属性</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>has<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>defaults<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> defaults<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="event-lop"><a href="#event-lop" aria-hidden="true" class="header-anchor">#</a> Event lop</h3> <p>微任务包括 <code>process.nextTick</code> ，<code>promise</code> ，<code>Object.observe</code> ，<code>MutationObserver</code></p> <p>宏任务包括 <code>script</code> ， <code>setTimeout</code> ，<code>setInterval</code> ，<code>setImmediate</code> ，<code>I/O</code> ，<code>UI rendering</code></p> <ol><li>执行一个宏任务（栈中没有就从事件队列中获取)</li> <li>执行过程中如果遇到微任务，就将它添加到微任务的任务队列中</li> <li>宏任务执行完毕后，立即执行当前微任务队列中的所有微任务（依次执行)</li> <li>当前宏任务执行完毕，开始检查渲染，然后 GUI 线程接管渲染</li> <li>渲染完毕后，JS 线程继续接管，开始下一个宏任务（从事件队列中获取）</li></ol> <h3 id="解析-url-参数"><a href="#解析-url-参数" aria-hidden="true" class="header-anchor">#</a> 解析 url 参数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 解析url参数
 * @example ?id=123&amp;a=b
 * @return Object {id:123, a:b}
 *
 */</span>
<span class="token keyword">function</span> <span class="token function">urlParse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">;</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/[?&amp;][^?&amp;]+=[^?&amp;]+/g</span><span class="token punctuation">;</span> <span class="token comment">// ？/&amp;开头 + 非？&amp;至少一个 = + 非？&amp;至少一个</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> tempArr <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>tempArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>tempArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="eslint"><a href="#eslint" aria-hidden="true" class="header-anchor">#</a> ESlint</h3> <p><a href="http://eslint.cn/docs/rules/" target="_blank" rel="noopener noreferrer">Eslint 规则配置参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language- extra-class"><pre class="language-text"><code>&quot;off&quot; or &quot;0&quot;：表示这个规则关闭，
&quot;warn&quot; or &quot;1&quot;：表示这个规则是一个警告处理
&quot;error&quot; or &quot;2&quot;：表示这个规则是一个错误处理
</code></pre></div><h3 id="vscode-小技巧"><a href="#vscode-小技巧" aria-hidden="true" class="header-anchor">#</a> vscode 小技巧</h3> <p>跳回之前的位置</p> <blockquote><p>control + -</p></blockquote> <p>跳到当前光标的位置</p> <blockquote><p>option + ←</p></blockquote> <h3 id="关于-es6-的-class"><a href="#关于-es6-的-class" aria-hidden="true" class="header-anchor">#</a> 关于 ES6 的 class</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// super代表父类的构造函数的constructor</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 相当于A.call(this)</span>
    <span class="token comment">// 只有调用super()之后，才能使用this，因为子类实例的构建，是基于对父类实例加工，执行super方法才返回父类实例</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 派生类上可以忽略constructor,它是等效于上面的写法</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token comment">// B函数内super执行时，super内的this指向b，A.prototype.constructor.call(this)</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Object.getPrototypeOf方法可以用来从子类上获取父类</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Function：A</span>

<span class="token comment">// 一些原型链的指向</span>
b<span class="token punctuation">.</span>_proto__ <span class="token operator">=&gt;</span> <span class="token constant">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=&gt;</span> <span class="token constant">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">=&gt;</span> <span class="token constant">A</span><span class="token punctuation">.</span>prototype <span class="token operator">=&gt;</span>  <span class="token constant">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span>prototype <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">=&gt;</span> <span class="token keyword">null</span>

<span class="token comment">// ES5模拟ES6类的继承实现</span>
<span class="token keyword">function</span> <span class="token constant">A</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token constant">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Object.create</span>
<span class="token constant">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  constructor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token constant">B</span><span class="token punctuation">,</span>
    enumerable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    writable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="git-常用合并命令"><a href="#git-常用合并命令" aria-hidden="true" class="header-anchor">#</a> git 常用合并命令</h3> <p>稳妥点合并</p> <ul><li>git fetch origin xxx</li> <li>git diff xxx</li> <li>git merge origin/xxx</li></ul> <p>暴力合并</p> <ul><li>git pull origin xxx</li></ul> <h3 id="git-更新文件冲突解决方案"><a href="#git-更新文件冲突解决方案" aria-hidden="true" class="header-anchor">#</a> git 更新文件冲突解决方案</h3> <p>如果工作区还没有 add 和 commit，直接 git pull 会产生以下提示：</p> <blockquote><p>Please,commit your changes or stash them before you can merge.</p></blockquote> <p>解决方案有 2 种：</p> <ol><li>保留本地修改，不被新的修改覆盖</li></ol> <ul><li>git stash (保留本地修改，还没有 add 和 commit)</li> <li>git pull (更新)</li> <li>git stash pop (回到本地更改)</li></ul> <ol start="2"><li>如果想让远程代码完全覆盖本地代码的修改</li></ol> <ul><li>git reset -hard</li> <li>git pull</li></ul> <h3 id="关于-weakmap"><a href="#关于-weakmap" aria-hidden="true" class="header-anchor">#</a> 关于 weakmap</h3> <blockquote><p>weak map 是只包含对象键的特殊 map。和 weak set 类似，键的是弱对象引用，因此当其为仅存的某个对象的引用时，垃圾回收不会被阻止。当键被垃圾回收器清理之后，所关联的值也一并销毁。当想要将额外的信息附加到生命周期可由外部代码控制的对象上时，带有内存管理的 weak map 类型是唯一适合的。</p></blockquote> <p>使用 weakmap 模拟实例对象私有变量</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> Widget <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> privateData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">Widget</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    privateData<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  Widget<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getId</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> privateData<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> Widget<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Widget</span><span class="token punctuation">(</span><span class="token string">&quot;123456789&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
w<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '123456789';</span>
w <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// privateData解除对w的引用，id(值)会一并被销毁</span>
</code></pre></div><h3 id="ajax-并发请求"><a href="#ajax-并发请求" aria-hidden="true" class="header-anchor">#</a> ajax 并发请求</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// async/await</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">asyncGetUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> promise2 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> res1 <span class="token operator">=</span> <span class="token keyword">await</span> promise1<span class="token punctuation">;</span>
  <span class="token keyword">const</span> res2 <span class="token operator">=</span> <span class="token keyword">await</span> promise2<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">,</span> res2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// promise all</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">allGetUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> promise2 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>res1<span class="token punctuation">,</span> res2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span> promise2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">,</span> res2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="bash-一个小坑"><a href="#bash-一个小坑" aria-hidden="true" class="header-anchor">#</a> bash 一个小坑</h3> <p>今天打算写个 shell 脚本来发布到 github 上，commit 的信息就定为当前时间，于是就这么写了</p> <div class="language-bash extra-class"><pre class="language-bash"><code>time<span class="token operator">=</span><span class="token string">&quot;📝&quot;</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +<span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token variable">)</span></span>

<span class="token function">git</span> add <span class="token keyword">.</span>
<span class="token function">git</span> commit -m <span class="token variable">$time</span>
<span class="token function">git</span> push origin master
</code></pre></div><p>然后发现报错无法进行，于是直接把<code>echo &quot;📝&quot;$(date +&quot;%Y-%m-%d %H:%M:%S&quot;)</code>这句话丢到 zsh 上跑，发现又没问题，觉得很奇怪，为什么取变量遇到<strong>空格</strong>就中断了呢？？</p> <p>谷歌了很久，终于在一本在线书籍上找到答案</p> <div class="language-bash extra-class"><pre class="language-bash"><code>a<span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> -l<span class="token variable">`</span></span>
<span class="token keyword">echo</span> <span class="token variable">$a</span>           <span class="token comment"># 不带引号，移除所有的制表符与分行符</span>
<span class="token keyword">echo</span> <span class="token string">&quot;<span class="token variable">$a</span>&quot;</span>         <span class="token comment"># 带引号，会保留空白符</span>
</code></pre></div><p>所以，以上问题得到解决</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> commit -m <span class="token string">&quot;<span class="token variable">$time</span>&quot;</span>
</code></pre></div><h3 id="元素节点中的-children-和-childnodes-的区别"><a href="#元素节点中的-children-和-childnodes-的区别" aria-hidden="true" class="header-anchor">#</a> 元素节点中的 children 和 childNodes 的区别</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.el'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// children只包含元素节点</span>
el<span class="token punctuation">.</span>children

<span class="token comment">// childNodes包含元素节点和文本节点(空白的text也算)</span>
el<span class="token punctuation">.</span>childNodes

<span class="token comment">// 如果想在childNodes中判断非文本节点</span>
xxx<span class="token punctuation">.</span>nodeType <span class="token operator">!=</span> <span class="token number">3</span>

<span class="token comment">// 关于nodeType值</span>
nodeType<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token number">1</span><span class="token punctuation">:</span> 元素节点<span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">:</span> 属性节点<span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token punctuation">:</span> 文本节点
<span class="token punctuation">}</span>
</code></pre></div><h3 id="element-matches-polyfill"><a href="#element-matches-polyfill" aria-hidden="true" class="header-anchor">#</a> Element.matches--polyfill</h3> <blockquote><p>matches 可用于事件代理进行元素判断</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>matches<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>matches <span class="token operator">=</span>
    Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>matchesSelector <span class="token operator">||</span>
    Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>mozMatchesSelector <span class="token operator">||</span>
    Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>msMatchesSelector <span class="token operator">||</span>
    Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>oMatchesSelector <span class="token operator">||</span>
    Element<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>webkitMatchesSelector <span class="token operator">||</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> matches <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>document <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ownerDocument<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span>
        i <span class="token operator">=</span> matches<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">--</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> matches<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token keyword">return</span> i <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="关于-delete-注意点"><a href="#关于-delete-注意点" aria-hidden="true" class="header-anchor">#</a> 关于 delete 注意点</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// delete无法删除已经声明的变量</span>
<span class="token comment">/* 通过变量声明生成全局对象的属性，拥有DontDelete */</span>
<span class="token keyword">delete</span> a<span class="token punctuation">;</span> <span class="token comment">// false</span>

a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">/* 通过未声明的变量赋值生成全局对象的属性，没有DontDelete */</span>
<span class="token keyword">delete</span> a<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="canvas-todataurl-image-png-跨域报错的解决方案"><a href="#canvas-todataurl-image-png-跨域报错的解决方案" aria-hidden="true" class="header-anchor">#</a> canvas.toDataURL('image/png') 跨域报错的解决方案</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 在chrome68浏览器中，如果设src在设crossOrigin属性之前，同样会报错</span>
<span class="token comment">// 所以先设crossOrigin属性，解决跨域，再设src</span>
img<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;crossOrigin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;anonymous&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="git-创建独立的分支"><a href="#git-创建独立的分支" aria-hidden="true" class="header-anchor">#</a> git 创建独立的分支</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> checkout --orphan 新分支名 <span class="token operator">&lt;</span>start_point<span class="token operator">&gt;</span>

<span class="token comment">## 删除此分支中的索引及索引中的所有文件</span>
<span class="token function">git</span> <span class="token function">rm</span> -rf <span class="token keyword">.</span>
</code></pre></div><h3 id="vim-底线命令"><a href="#vim-底线命令" aria-hidden="true" class="header-anchor">#</a> vim 底线命令</h3> <div class="language- extra-class"><pre class="language-text"><code>q 不保存,直接退出
q! 不保存，并强制退出
e! 放弃所有修改，从上次保存文件开始再编辑
w 保存文件,但不退出
w! 强制保存，不退出
wq或x 保存，并退出
wq! 强制保存，并退出
</code></pre></div><h3 id="一些-ss-的命令"><a href="#一些-ss-的命令" aria-hidden="true" class="header-anchor">#</a> 一些 ss 的命令</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">## 登录ssh</span>
<span class="token function">ssh</span> root@xxx

<span class="token comment">## 安装ss</span>
yum <span class="token function">install</span> epel-release
yum <span class="token function">install</span> python-pip
yum <span class="token function">install</span> python-setuptools m2crypto supervisor
pip <span class="token function">install</span> shadowsocks

<span class="token comment">## 配置ss</span>
<span class="token function">mkdir</span> /etc/shadowsocks
vim /etc/shadowsocks/config.json

<span class="token punctuation">{</span>
  <span class="token string">&quot;server&quot;</span><span class="token keyword">:</span><span class="token string">&quot;0.0.0.0&quot;</span>,
  <span class="token string">&quot;server_port&quot;</span>:1000,
  <span class="token string">&quot;local_address&quot;</span><span class="token keyword">:</span> <span class="token string">&quot;127.0.0.1&quot;</span>,
  <span class="token string">&quot;local_port&quot;</span>:1080,
  <span class="token string">&quot;password&quot;</span><span class="token keyword">:</span><span class="token string">&quot;123456&quot;</span>,
  <span class="token string">&quot;timeout&quot;</span>:300,
  <span class="token string">&quot;method&quot;</span><span class="token keyword">:</span><span class="token string">&quot;aes-256-cfb&quot;</span>,
  <span class="token string">&quot;fast_open&quot;</span><span class="token keyword">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>

<span class="token comment">## 开启ss</span>
ssserver -c /etc/shadowsocks/config.json -d start
<span class="token comment">## 关闭ss</span>
ssserver -c /etc/shadowsocks/config.json -d stop

<span class="token comment">## 开机启动</span>
<span class="token function">vi</span> /etc/rc.local
<span class="token comment">## 添加启动命令</span>
ssserver -c /etc/shadowsocks/config.json -d start

<span class="token comment">## bbr加速</span>
<span class="token function">wget</span> –no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh
<span class="token function">chmod</span> +x bbr.sh
./bbr.sh

<span class="token comment">## 重启</span>
</code></pre></div><h3 id="vue-svg-icon-方案"><a href="#vue-svg-icon-方案" aria-hidden="true" class="header-anchor">#</a> vue svg-icon 方案</h3> <p>安装 <code>svg-sprite-loader</code></p> <blockquote><p>yarn add svg-sprite-loader --dev</p></blockquote> <p>添加 webpack 配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// vuecli3</span>
chainWebpack<span class="token punctuation">:</span> config <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// use svg</span>
  <span class="token keyword">const</span> svgRule <span class="token operator">=</span> config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span>
  svgRule<span class="token punctuation">.</span>uses<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  svgRule
    <span class="token punctuation">.</span>include
    <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/icons/svg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'svg-sprite-loader'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'svg-sprite-loader'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      symbolId<span class="token punctuation">:</span> <span class="token string">'icon-[name]'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// image exclude svg</span>
  <span class="token keyword">const</span> imagesRule <span class="token operator">=</span> config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'images'</span><span class="token punctuation">)</span>
    imagesRule
    <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex">/\.(png|jpe?g|gif|webp|svg)(\?.*)?$/</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>exclude
    <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/icons/svg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// vuecli2</span>
<span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.svg$/</span><span class="token punctuation">,</span>
  loader<span class="token punctuation">:</span> <span class="token string">'svg-sprite-loader'</span><span class="token punctuation">,</span>
  include<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/icons'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    symbolId<span class="token punctuation">:</span> <span class="token string">'icon-[name]'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment">// 注册全局组件</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> SvgIcon <span class="token keyword">from</span> <span class="token string">'@/components/SvgIcon'</span><span class="token comment">// svg组件</span>

<span class="token comment">// register globally</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'svg-icon'</span><span class="token punctuation">,</span> SvgIcon<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">requireAll</span> <span class="token operator">=</span> requireContext <span class="token operator">=&gt;</span> requireContext<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>requireContext<span class="token punctuation">)</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./svg'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token regex">/\.svg$/</span><span class="token punctuation">)</span>
<span class="token function">requireAll</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
</code></pre></div><p>SvgIcon</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span>
    <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">svgColor</span><span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>currentColor<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>svgClass<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name">:xlink:href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>iconName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;svg-icon&quot;</span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    iconClass<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
      required<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    className<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> String
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> String
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">iconName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`#icon-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>iconClass<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">svgClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>className<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;svg-icon &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>className<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;svg-icon&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">svgColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          color<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
<span class="token selector">.svg-icon</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> -0.15em<span class="token punctuation">;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="vue-native-修饰符"><a href="#vue-native-修饰符" aria-hidden="true" class="header-anchor">#</a> vue <code>.native</code> 修饰符</h3> <blockquote><p>现在在组件上使用 v-on 只会监听自定义事件 (组件用 $emit 触发的事件)。如果要监听根元素的原生事件，可以使用 .native 修饰符
相当于把组件监听原生 dom 事件的方式</p></blockquote> <h3 id="export-注意的"><a href="#export-注意的" aria-hidden="true" class="header-anchor">#</a> export 注意的</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token number">123</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> foo <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token punctuation">{</span> foo <span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span> foo <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> foo <span class="token comment">// 其实导出的是模块的default属性</span>
<span class="token comment">// 一般来说，不建议使用export default { xxx } 这种写法</span>
</code></pre></div><h3 id="tree-ignore"><a href="#tree-ignore" aria-hidden="true" class="header-anchor">#</a> tree ignore</h3> <p><code>tree -I &quot;node_modules|bower_components&quot;</code></p> <h3 id="gitignore"><a href="#gitignore" aria-hidden="true" class="header-anchor">#</a> gitignore</h3> <p>.gitignore 只能忽略那些原来没有被 track 的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore 是无效的。那么解决方法就是先把本地缓存删除（改变成未 track 状态），然后再提交。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">rm</span> -r --cached <span class="token keyword">.</span>
<span class="token function">git</span> add <span class="token keyword">.</span>
<span class="token function">git</span> commit -m <span class="token string">'update .gitignore'</span>
</code></pre></div><h3 id="sass-calc-取值"><a href="#sass-calc-取值" aria-hidden="true" class="header-anchor">#</a> sass calc 取值</h3> <div class="language-scss extra-class"><pre class="language-scss"><code><span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% <span class="token operator">-</span> #<span class="token punctuation">{</span><span class="token variable">$headerHeight</span> <span class="token operator">+</span> <span class="token variable">$stepHeight</span> <span class="token operator">+</span> <span class="token variable">$footerHeight</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vue-transition-组件-mode"><a href="#vue-transition-组件-mode" aria-hidden="true" class="header-anchor">#</a> vue-transition 组件 mode</h3> <ul><li><p>in-out：新元素先进行过渡，完成之后当前元素过渡离开。</p></li> <li><p>out-in：当前元素先进行过渡，完成之后新元素过渡进入。</p></li></ul> <h3 id="array-fill-小坑"><a href="#array-fill-小坑" aria-hidden="true" class="header-anchor">#</a> Array.fill 小坑</h3> <p>有个需求，我要往一个新数组里的全部对象加个`index</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    v<span class="token punctuation">.</span>index <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> v<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>然而你会发现</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token punctuation">{</span>index<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>index<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span> <span class="token comment">// 所有index都是同一个值</span>
</code></pre></div><p>查阅 MDN 文档</p> <blockquote><p>当一个对象被传递给 fill 方法的时候, 填充数组的是这个对象的引用</p></blockquote> <p>所以，所有后面对象 index 值的改变，都会改变前面的值</p> <p><a href="#%E4%B9%9D%E6%9C%88">九月</a></p> <h2 id="十月"><a href="#十月" aria-hidden="true" class="header-anchor">#</a> 十月</h2> <h3 id="vue-的v-model"><a href="#vue-的v-model" aria-hidden="true" class="header-anchor">#</a> vue 的<code>v-model</code></h3> <blockquote><p><code>v-model</code>是<code>v-bind:value</code>和<code>v-on:input</code>和语法糖</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value = $event.target.value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>其中，custom-input 的写法</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;custom-input&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;input
      :value=&quot;value&quot;
      @input=&quot;$emit('input', $event.target.value)&quot;
    &gt;
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vue-子组件改变-props-的方法"><a href="#vue-子组件改变-props-的方法" aria-hidden="true" class="header-anchor">#</a> vue 子组件改变 props 的方法</h3> <p>由于 vue 遵循单向数据流，不建议在子组件里面直接改变 props 的值，一般通过 2 种方法</p> <ul><li><p>通过<code>$emit</code>父组件事件来改变父组件传给子组件的值，然后在子组件里面<code>watch</code>props 的值，状态变化时触发相关反应</p></li> <li><p>给 props 加个对象字段，如：</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'state'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

template<span class="token punctuation">:</span> <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>someData<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>

<span class="token comment">// 改</span>
js<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>someData<span class="token punctuation">.</span>value <span class="token operator">=</span> xxx<span class="token punctuation">;</span> <span class="token comment">// 直接改变了父组件的data值</span>
</code></pre></div><h3 id="生成-uuid"><a href="#生成-uuid" aria-hidden="true" class="header-anchor">#</a> 生成 uuid</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">guid</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[xy]/g</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">,</span>
      v <span class="token operator">=</span> c <span class="token operator">==</span> <span class="token string">&quot;x&quot;</span> <span class="token operator">?</span> r <span class="token punctuation">:</span> <span class="token punctuation">(</span>r <span class="token operator">&amp;</span> <span class="token number">0x3</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token number">0x8</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="事件代理的优点"><a href="#事件代理的优点" aria-hidden="true" class="header-anchor">#</a> 事件代理的优点</h3> <ul><li><p>动态生成的节点如果是绑定同一事件，应该把事件注册到动态节点的父节点上，这样就不需要对子节点逐一进行注销操作了</p></li> <li><p>节省内存</p></li></ul> <h3 id="array-chunk"><a href="#array-chunk" aria-hidden="true" class="header-anchor">#</a> Array-chunk</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">chunk</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arr<span class="token punctuation">,</span> size<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token punctuation">:</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> size<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>v<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i <span class="token operator">*</span> size<span class="token punctuation">,</span> i <span class="token operator">*</span> size <span class="token operator">+</span> size<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// chunk([1,2,3,4,5],2) =&gt; [[1,2],[3,4,5]]</span>
</code></pre></div><h3 id="vue-组件-style"><a href="#vue-组件-style" aria-hidden="true" class="header-anchor">#</a> Vue 组件 style</h3> <p>在使用 vue 组件时，如果想给该组件加个行内 style，需要<code>:style=&quot;{}&quot;</code>这种写法，直接写<code>style</code>不会生效</p> <h3 id="深度扁平化数组"><a href="#深度扁平化数组" aria-hidden="true" class="header-anchor">#</a> 深度扁平化数组</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">deepFlatten</span> <span class="token operator">=</span> arr <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">deepFlatten</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">:</span> v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">deepFlatten</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="找出两个数组中不同的值"><a href="#找出两个数组中不同的值" aria-hidden="true" class="header-anchor">#</a> 找出两个数组中不同的值</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">differenceWith</span> <span class="token operator">=</span> <span class="token punctuation">(</span>arr<span class="token punctuation">,</span> val<span class="token punctuation">,</span> comp<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>a <span class="token operator">=&gt;</span> val<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>b <span class="token operator">=&gt;</span> <span class="token function">comp</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">differenceWith</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">1.9</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 1.2]</span>
</code></pre></div><h3 id="关于浏览器全屏-api"><a href="#关于浏览器全屏-api" aria-hidden="true" class="header-anchor">#</a> 关于浏览器全屏 API</h3> <p>通过一个元素<code>requestFullscreen</code>和<code>exitFullscreen</code>(需要加上浏览器前缀)进行触发，还有通过监听 document 的<code>fullscreenchange</code>事件来进行相关操作</p> <p>参考
<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API" target="_blank" rel="noopener noreferrer">MDN 文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://github.com/rafrex/fscreen/blob/master/src/index.js" target="_blank" rel="noopener noreferrer">fscreen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，源码写得很优雅</p> <h3 id="三角函数"><a href="#三角函数" aria-hidden="true" class="header-anchor">#</a> 三角函数</h3> <p>弧度 = 角度 * Math.PI / 180</p> <p>角度 = 弧度 * 180 / Math.PI</p> <h3 id="vue-data-属性不被代理的方法"><a href="#vue-data-属性不被代理的方法" aria-hidden="true" class="header-anchor">#</a> vue data 属性不被代理的方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    _app<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    $ppa<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 以上_app,$ppa都不会被代理，只要加了_和$开头的属性都不会被vue代理</span>
</code></pre></div><h3 id="event-currenttarget"><a href="#event-currenttarget" aria-hidden="true" class="header-anchor">#</a> event.currentTarget</h3> <blockquote><p>当事件遍历 DOM 时，标识事件的当前目标。它总是引用事件处理程序附加到的元素，而不是 event.target，event.target 标识事件发生的元素。</p></blockquote> <blockquote><p>简单来说，就是指向绑定 addEventListener 的那个元素</p></blockquote> <blockquote><p>当将相同的事件处理程序附加到多个元素时，event.currentTarget 非常实用</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 点击box</span>
<span class="token comment">// 分别打印 body元素、box元素</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handle<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 点击box</span>
<span class="token comment">// 分别打印 box元素、box元素</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handle<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vuecli3-传递全局变量"><a href="#vuecli3-传递全局变量" aria-hidden="true" class="header-anchor">#</a> vuecli3 传递全局变量</h3> <p>文档实例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  css<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loaderOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 给 sass-loader 传递选项</span>
      sass<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// @/ 是 src/ 的别名</span>
        <span class="token comment">// 所以这里假设你有 `src/variables.scss` 这个文件</span>
        data<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`@import &quot;@/variables.scss&quot;;`</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><em>注意</em>: 如果第一个加载的 vue 组件，<code>&lt;style&gt;</code>处声明了<code>scoped</code>，那么上面传递的全局变量也会被前缀处理</p> <p>解决方法：</p> <p>第一个组件(通常 App.vue)style 处声明<code>lang='scss'</code>且不能声明<code>scoped</code></p> <h3 id="vue-render-函数用组件的-v-model"><a href="#vue-render-函数用组件的-v-model" aria-hidden="true" class="header-anchor">#</a> vue render 函数用组件的 v-model</h3> <p>比如，<code>iview</code>的<code>Poptip</code>组件有用到<code>v-model</code>，如果在外面<code>render</code>函数里，是无法使用<code>v-model</code>的，所以，需要以下这种写法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'render'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      visible<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token comment">// 其实是把v-model拆成value和oninput</span>
    <span class="token comment">// 这样就可以用this.visible控制Poptip是否显示</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>
      <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'Poptip'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          value<span class="token punctuation">:</span> vm<span class="token punctuation">.</span>visible
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        on<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          input<span class="token punctuation">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>visible <span class="token operator">=</span> e
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="#%E5%8D%81%E6%9C%88">十月</a></p> <h2 id="十一月"><a href="#十一月" aria-hidden="true" class="header-anchor">#</a> 十一月</h2> <h3 id="为什么不用-for-in-遍历数组"><a href="#为什么不用-for-in-遍历数组" aria-hidden="true" class="header-anchor">#</a> 为什么不用 for-in 遍历数组</h3> <p>MDN 文档上的解析</p> <p><img src="https://img-1257816861.cos.ap-guangzhou.myqcloud.com/for-in%E6%95%B0%E7%BB%84.png" alt="MDN"></p> <p>比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  enumerable<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 只会打印 1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 只会打印 2</span>
<span class="token punctuation">}</span>

<span class="token comment">// 用 for of</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1、2 均可打印</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="vue-模板解析报错"><a href="#vue-模板解析报错" aria-hidden="true" class="header-anchor">#</a> vue 模板解析报错</h3> <blockquote><p>[Vue warn]: You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.</p></blockquote> <p><code>vue.config.js</code>增加别名：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  configureWebpack<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'vue$'</span><span class="token punctuation">:</span> <span class="token string">'vue/dist/vue.esm.js'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="eslint-行禁用"><a href="#eslint-行禁用" aria-hidden="true" class="header-anchor">#</a> eslint 行禁用</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// eslint-disable-line</span>

<span class="token comment">// eslint-disable-next-line</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* eslint-disable-next-line */</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* eslint-disable-line */</span>
</code></pre></div><h3 id="vue-router-为-history-时请求本地-static-的小坑"><a href="#vue-router-为-history-时请求本地-static-的小坑" aria-hidden="true" class="header-anchor">#</a> vue-router 为 history 时请求本地 static 的小坑</h3> <p>如果<code>vue-router</code>使用<code>history</code>模式，比如在<code>http://localhost:8080/about/home</code>页面下，发起本地 json 文件<code>ajax</code>请求</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;static/foo.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这时控制台会发出 404 报错，<code>GET http://localhost:8080/about/static/foo.json 404 (Not Found)</code></p> <p>问题在于发起的请求地址是错的，应该是<code>http://localhost:8080/static/foo.json</code>才对</p> <p>对这种问题，有 2 种方法</p> <ol><li><p><code>static</code>前面加个<code>/</code>，<code>this.$http.get('/static/foo.json')</code>，但这种情况打包路径要额外处理(建议使用绝对路径)</p></li> <li><p>vue-router 模式改为<code>hash</code>模式</p></li></ol> <h3 id="axios-请求图片流"><a href="#axios-请求图片流" aria-hidden="true" class="header-anchor">#</a> axios 请求图片流</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  method<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  responseType<span class="token punctuation">:</span> <span class="token string">&quot;blob&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="文本溢出出现省略号…的方法"><a href="#文本溢出出现省略号…的方法" aria-hidden="true" class="header-anchor">#</a> 文本溢出出现省略号…的方法</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
<span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
</code></pre></div><h3 id="简洁的对象合并-polyfill"><a href="#简洁的对象合并-polyfill" aria-hidden="true" class="header-anchor">#</a> 简洁的对象合并 polyfill</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">__assign</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  __assign <span class="token operator">=</span>
    Object<span class="token punctuation">.</span>assign <span class="token operator">||</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> s<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        s <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> p <span class="token keyword">in</span> s<span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>hasOwnProperty<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">)</span> t<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> t<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> __assign<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="注册所有-vue-全局组件方式"><a href="#注册所有-vue-全局组件方式" aria-hidden="true" class="header-anchor">#</a> 注册所有 vue 全局组件方式</h3> <p>关于<code>require.context()</code>方法：</p> <ul><li>要搜索的文件夹目录，如 '.', './componets'</li> <li>是否还应该搜索它的子目录</li> <li>以及一个匹配文件的正则表达式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 检索目录下的模块</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex">/\.vue$/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// require.context模块导出（返回）一个（require）函数，这个函数可以接收一个参数</span>

<span class="token comment">/* ƒ webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
*/</span>

req<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>fileName <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// require模块</span>
  <span class="token keyword">const</span> componentConfig <span class="token operator">=</span> <span class="token function">req</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span>
    fileName<span class="token punctuation">.</span>name <span class="token operator">||</span>
    fileName
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^\.\/.*\//</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\.vue$/</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> componentConfig<span class="token punctuation">.</span><span class="token keyword">default</span> <span class="token operator">||</span> componentConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="用-vue-jsx-渲染简单的-tree"><a href="#用-vue-jsx-渲染简单的-tree" aria-hidden="true" class="header-anchor">#</a> 用 vue jsx 渲染简单的 tree</h3> <div class="language-js extra-class"><pre class="language-js"><code>methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">createdNode</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> listItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> level <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span>children <span class="token operator">&amp;&amp;</span> v<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        listItems<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tree-node&quot;</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>paddingLeft<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>level<span class="token operator">*</span><span class="token number">16</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px`</span></span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tree-node-arrow&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span>v<span class="token punctuation">.</span>label<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createdNode</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>children<span class="token punctuation">,</span> listItems<span class="token punctuation">,</span> level <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      listItems<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tree-node&quot;</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>paddingLeft<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>level<span class="token operator">*</span><span class="token number">16</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px`</span></span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>v<span class="token punctuation">.</span>label<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> listItems<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tree&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createdNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="foreach-无法跳出循环"><a href="#foreach-无法跳出循环" aria-hidden="true" class="header-anchor">#</a> forEach 无法跳出循环</h3> <blockquote><p>没有办法中止或者跳出 forEach 循环，除了抛出一个异常。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// 只会结束本次回调</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>取而代之的方法是使用普通的 for 循环或者 some，every</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// some</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// every</span>
arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>v <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="一个有用的-range-函数"><a href="#一个有用的-range-函数" aria-hidden="true" class="header-anchor">#</a> 一个有用的 range 函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">range</span> <span class="token operator">=</span> <span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token punctuation">:</span> end <span class="token operator">-</span> start <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span>x<span class="token punctuation">,</span>i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i <span class="token operator">+</span> start<span class="token punctuation">)</span>

<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
</code></pre></div><p><a href="#%E5%8D%81%E4%B8%80%E6%9C%88">十一月</a></p> <h2 id="十二月"><a href="#十二月" aria-hidden="true" class="header-anchor">#</a> 十二月</h2> <h3 id="vscode-开启别名路径提示"><a href="#vscode-开启别名路径提示" aria-hidden="true" class="header-anchor">#</a> vscode 开启别名路径提示</h3> <p>一般上了<code>webpack</code>的项目都会进行别名配置，比如用<code>@</code>映射<code>src</code>，vscode 默认是不会开启别名路径提示的，需要手动配置</p> <p>首先在项目根目录下加个<code>jsconfig.json</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;compilerOptions&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;baseUrl&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;paths&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;@/*&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/*&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;target&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ES6&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;module&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;allowSyntheticDefaultImports&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;include&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/**/*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;exclude&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果想在<code>.vue</code>文件中生效，需要：</p> <p>安装<code>path-intellisense</code>插件，在<code>setting.json</code>中加上</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;path-intellisense.mappings&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;@&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;${workspaceRoot}/src&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样就可以在普通<code>js</code>文件，和<code>.vue</code>文件里面都会有别名的路径提示和自动补全了</p> <h3 id="vue-组件命名"><a href="#vue-组件命名" aria-hidden="true" class="header-anchor">#</a> vue 组件命名</h3> <blockquote><p>单文件组件的文件名应该要么始终是单词大写开头 (PascalCase)，要么始终是横线连接 (kebab-case)。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// (PascalCase)方式命名一个组件</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'NrLayCom'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`&lt;div&gt;123&lt;/div&gt;`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>调用方法：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 方式一 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NrLayCom</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NrLayCom</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 方式二 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nr-lay-com</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nr-lay-com</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>用<strong>PascalCase</strong>方式命名的组件，可以用<strong>kebab-case</strong>方式进行调用，
但是，用<strong>kebab-case</strong>命名的组件，则不能用<strong>PascalCase</strong>方式进行调用</p> <p>开发时，<strong>建议统一只用一种方式，不要两者混用</strong></p> <h3 id="mac-命名行开启xcode虚拟机"><a href="#mac-命名行开启xcode虚拟机" aria-hidden="true" class="header-anchor">#</a> mac 命名行开启xcode虚拟机</h3> <p>查看可用虚拟机</p> <div class="language-bash extra-class"><pre class="language-bash"><code>xcrun instruments -s
</code></pre></div><p>开启指定虚拟机</p> <div class="language-bash extra-class"><pre class="language-bash"><code>xcrun instruments -w <span class="token string">&quot;iPhone X (12.1)&quot;</span>
</code></pre></div><h3 id="本地仓库设置config"><a href="#本地仓库设置config" aria-hidden="true" class="header-anchor">#</a> 本地仓库设置config</h3> <p>展示config：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> config --local --list <span class="token punctuation">(</span>当前目录<span class="token punctuation">)</span>
<span class="token function">git</span> config --global --list <span class="token punctuation">(</span>全局<span class="token punctuation">)</span>
</code></pre></div><p>修改：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> config user.name xxxx
<span class="token function">git</span> config user.email xxxx@xxx.com
</code></pre></div><h3 id="修改上一个-commit-的描述"><a href="#修改上一个-commit-的描述" aria-hidden="true" class="header-anchor">#</a> 修改上一个 commit 的描述</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> commit --amend
</code></pre></div><h3 id="vue-动态组件-is-的值"><a href="#vue-动态组件-is-的值" aria-hidden="true" class="header-anchor">#</a> vue 动态组件 :is 的值</h3> <p><code>component :is</code>里面的值，可以是组件对象，或者函数(返回<code>Promise</code>)，或者是字符串(已经注册的组件的<code>name</code>)</p> <h3 id="console-log-调试注意的"><a href="#console-log-调试注意的" aria-hidden="true" class="header-anchor">#</a> console.log 调试注意的</h3> <p>由于<code>console.log</code>机制，调试对象时是指向同一个地址，所以涉及到异步更新时，执行时和打印时的结果不一致，需要这么处理</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="vue-高级动态组件"><a href="#vue-高级动态组件" aria-hidden="true" class="header-anchor">#</a> vue 高级动态组件</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 高级动态组件</span>
<span class="token comment">// 返回一个对象，在component选项里面返回promise(resolve)</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;hcom&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
  <span class="token comment">// 异步组件加载时使用的组件</span>
    loading<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;loading&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 加载失败时使用的组件</span>
    error<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 展示加载时组件的延时时间。默认值是 200 (毫秒)</span>
    delay<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token function">render</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;高级动态组件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="只能用-new-来调用函数"><a href="#只能用-new-来调用函数" aria-hidden="true" class="header-anchor">#</a> 只能用 new 来调用函数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot call a class as a function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token constant">P</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'P'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Cannot call a class as a function&quot;</span>
</code></pre></div><h3 id="关于-proto"><a href="#关于-proto" aria-hidden="true" class="header-anchor">#</a> 关于 <strong>proto</strong></h3> <p><code>__proto__</code>是用来获取对象的原型，现在推荐使用<code>Object.getPrototypeOf()</code>来获取</p> <h3 id="命令行大法好"><a href="#命令行大法好" aria-hidden="true" class="header-anchor">#</a> 命令行大法好</h3> <p><code>open -a xxx</code> 打开软件</p> <p><code>open -e</code></p> <p>详情请看 <code>open --help</code></p> <p><a href="#%E5%8D%81%E4%BA%8C%E6%9C%88">十二月</a></p> <div class="to-top"><svg t="1547627942927" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1955" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64" class="icon"><path d="M752.736 431.063C757.159 140.575 520.41 8.97 504.518 0.41V0l-0.45 0.205-0.41-0.205v0.41c-15.934 8.56-252.723 140.165-248.259 430.653-48.21 31.457-98.713 87.368-90.685 184.074 8.028 96.666 101.007 160.768 136.601 157.287 35.595-3.482 25.232-30.31 25.232-30.31l12.206-50.095s52.47 80.569 69.304 80.528c15.114-1.23 87-0.123 95.6 0h0.82c8.602-0.123 80.486-1.23 95.6 0 16.794 0 69.305-80.528 69.305-80.528l12.165 50.094s-10.322 26.83 25.272 30.31c35.595 3.482 128.574-60.62 136.602-157.286 8.028-96.665-42.475-152.617-90.685-184.074z m-248.669-4.26c-6.758-0.123-94.781-3.359-102.891-107.192 2.95-98.714 95.97-107.438 102.891-107.93 6.964 0.492 99.943 9.216 102.892 107.93-8.11 103.833-96.174 107.07-102.892 107.192z m-52.019 500.531c0 11.838-9.42 21.382-21.012 21.382a21.217 21.217 0 0 1-21.054-21.34V821.74c0-11.797 9.421-21.382 21.054-21.382 11.591 0 21.012 9.585 21.012 21.382v105.635z m77.333 57.222a21.504 21.504 0 0 1-21.34 21.626 21.504 21.504 0 0 1-21.34-21.626V827.474c0-11.96 9.543-21.668 21.299-21.668 11.796 0 21.38 9.708 21.38 21.668v157.082z m71.147-82.043c0 11.796-9.42 21.34-21.053 21.34a21.217 21.217 0 0 1-21.013-21.34v-75.367c0-11.755 9.421-21.299 21.013-21.299 11.632 0 21.053 9.544 21.053 21.3v75.366z" fill="#3eaf7c" p-id="1956"></path></svg></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/11/2019, 2:23:22 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Notebook/dailyRecord/2019.html" class="prev">
        2019
      </a></span> <span class="next"><a href="/Notebook/dailyRecord/interview.html">
        面试复习
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Notebook/assets/js/app.51035dcd.js" defer></script><script src="/Notebook/assets/js/21.b8066a1d.js" defer></script><script src="/Notebook/assets/js/10.88896875.js" defer></script><script src="/Notebook/assets/js/19.17673ac2.js" defer></script>
  </body>
</html>
