# 2021

## ä¸€æœˆ

### ts éç©ºæ–­è¨€æ“ä½œç¬¦

åœ¨ ts ä¸­ï¼Œä½¿ç”¨`!`å¯ä»¥ç”¨äºæ–­è¨€æ“ä½œå¯¹è±¡æ˜¯é`null`å’Œé`undefined`ç±»å‹

ä¸¾ä¸ªä¾‹å­

```ts
function foo(bar: string | undefined | null) {
  const str: string = bar; // æŠ¥é”™
  const str1: string = bar!; // è§£å†³
}

type GenString = () => string;

function genString(fn: GenString | undefined) {
  const str = fn();
  const str1 = fn!();
}
```

è¿˜æœ‰ä¸€ç§ç¡®å®šèµ‹å€¼æ–­è¨€

```ts
let x!: number;
init();

// å¦‚æœä¸Šé¢xä¸åŠ  ! å°±ä¼šerror;
console.log(x);

function init() {
  x = 100;
}
```

### ts ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦

ts ä½¿ç”¨`??`ä½œä¸ºç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼Œå½“å·¦ä¾§æ“ä½œæ•°ä¸º null æˆ– undefined æ—¶ï¼Œåˆ™è¿”å›å³ä¾§çš„æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§çš„æ“ä½œæ•°

è¿™æ˜¯ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µ

```ts
const foo = 0 || 1; // 1
const bar = 0 ?? 1; // 0
const falsy = false ?? true; // false
```

### nginx ä¸­ root å’Œ alias çš„åŒºåˆ«

`root`å’Œ`alias`æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯å¦‚ä½•è§£æ**location**åé¢çš„**url**

`alias`ä»…ç”¨äºç›®å½•åˆ«åçš„å®šä¹‰ï¼Œä»…èƒ½ç”¨äº**location**ä¸Šä¸‹æ–‡ï¼Œ`root`åˆ™å¯ä»¥ç”¨äºæœ€ä¸Šå±‚ç›®å½•çš„å®šä¹‰

æ¯”å¦‚å®šä¹‰ä¸€ä¸ª**location**

```
location /nginx {
  root /data/www;
  index index.html
}
```

è¿™æ ·å½“ä½ è®¿é—®`http://location/nginx`ï¼Œnginx ä¼šå»`/data/www/nginx`å»æ‰¾`index.html`ï¼Œå³`/data/www/nginx/index.html`

å¦‚æœä½¿ç”¨ alias

```
location /nginx {
  alias /data/www;
  index index.html
}
```

å½“è®¿é—®`http://location/nginx`ï¼Œnginx ä¼šå»`/data/www`å»æ‰¾`index.html`ï¼Œå³`/data/www/index.html`

### axios ç½‘ç»œå¼‚å¸¸é‡å‘è¯·æ±‚ç®€å•å®ç°

åœ¨ä½¿ç”¨ axios æ—¶ï¼Œç½‘ç»œè¯·æ±‚å‘ç”Ÿå¼‚å¸¸ï¼Œæˆ–è€…è¯´ç½‘ç»œçªç„¶æ–­çº¿çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•å®ç°é‡å‘è¯·æ±‚å‘¢ï¼Ÿ

å¯ä»¥ç”¨ axios çš„æ‹¦æˆªå™¨è¿›è¡Œç®€å•å®ç°ï¼Œä¸‹é¢æ˜¯å®ç°è¿‡ç¨‹

```js
const namespace = 'retry';

const retryOpts = {
  retryCount: 3, // æ–­çº¿é‡è¿æ¬¡æ•°
  delay: 200, // å»¶è¿Ÿæ—¶é—´
};

// æ¯ä¸ªè¯·æ±‚configéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠä¸€äº›å‚æ•°ç¼“å­˜åˆ°configé‡Œé¢
function getCurrentState(config) {
  const currentState = config[namespace] || {};
  currentState.retryCount = currentState.retryCount || 0;
  config[namespace] = currentState;
  return currentState;
}

function retry(axios, options = retryOpts) {
  axios.interceptors.request.use((config) => {
    const currentState = getCurrentState(config);
    currentState.lastRequestTime = Date.now();
    return config;
  });

  axios.interceptors.response.use(null, (error) => {
    const { config } = error;

    if (config[namespace].retryCount < options.retryCount) {
      config[namespace].retryCount += 1;
      // é‡å‘è¯·æ±‚
      return new Promise((resolve) =>
        setTimeout(() => resolve(axios(config)), options.delay)
      );
    }

    return Promise.reject(error.config);
  });
}

const client = axios.create();
retry(client);

client.get('http://localhost:3000/get').catch((errConfig) => {
  console.log(errConfig);
});
```

### ts ä¸­ omit çš„ç”¨æ³•

omit ä¸»è¦æ˜¯ç”¨äºçœç•¥å¯¹è±¡çš„æŸäº› key

```ts
interface User {
  id: number;
  age: number;
  name: string;
}

type OmitUser = Omit<User, 'id'>;

// ç›¸å½“äº type OmitUser = { age: number; name: string; }
```

### mac å…³é—­ç«¯å£çš„æ–¹æ³•

æ¯”å¦‚è¦å…³é—­æœ¬åœ° 9000 ç«¯å£

```
lsof -i :9000
```

æŸ¥åˆ° PID

ç„¶åå…³é—­ç«¯å£

```
kill -9 PID
```

### ç§»åŠ¨ç«¯ 1px scss å‡½æ•°

```scss
/**
 * è§£å†³ç§»åŠ¨ç«¯1pxé—®é¢˜
*/
@mixin mobileThinBorder(
  $directionMaps: bottom,
  $color: $m-color-4,
  $position: after
) {
  // æ˜¯å¦åªæœ‰ä¸€ä¸ªæ–¹å‘
  $isOnlyOneDir: string==type-of($directionMaps);

  @if ($isOnlyOneDir) {
    $directionMaps: ($directionMaps);
  }

  @each $directionMap in $directionMaps {
    border-#{$directionMap}: 1px solid $color;
  }

  @media only screen and (-webkit-min-device-pixel-ratio: 2) {
    & {
      position: relative;

      // åˆ é™¤1åƒç´ å¯†åº¦æ¯”ä¸‹çš„è¾¹æ¡†
      @each $directionMap in $directionMaps {
        border-#{$directionMap}: none;
      }
    }

    &:#{$position} {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      display: block;
      width: 200%;
      height: 200%;
      transform: scale(0.5);
      box-sizing: border-box;
      padding: 1px;
      transform-origin: 0 0;
      pointer-events: none;
      border: 0 solid $color;

      @each $directionMap in $directionMaps {
        border-#{$directionMap}-width: 1px;
      }
    }
  }

  @media only screen and (min-device-pixel-ratio: 3),
    (-webkit-min-device-pixel-ratio: 3) {
    &:#{$position} {
      width: 300%;
      height: 300%;
      transform: scale(0.333333);
    }
  }
}
```

### vue-cli é…ç½® process.env.BASE_URL æ³¨æ„ç‚¹

æ™®é€š`vue-router`é…ç½®æ–¹å¼

```js
const router = new VueRouter({
  mode: 'history',
  base: process.env.BASE_URL,
  routes,
});
```

é‡Œé¢çš„`process.env.BASE_URL`æ˜¯ä»€ä¹ˆï¼Ÿ

å¦‚æœä½ ä¸åœ¨`vue.config.js`ä¸­æŒ‡å®š`publicPath`ï¼Œå°±æ˜¯é»˜è®¤`/`ï¼Œå¦åˆ™å°±ä¼šæ‹¿`publicPath`çš„å€¼æ³¨å…¥åˆ°`process.env.BASE_URL`é‡Œ

### å»é™¤ç§»åŠ¨ç«¯ webkit å†…æ ¸æµè§ˆå™¨ç‚¹å‡»èƒŒæ™¯é˜´å½±

```css
div {
  -webkit-tap-highlight-color: transparent;
}
```

### å®‰å“è¾“å…¥æ³•å¼¹èµ·åº•éƒ¨è§£å†³æ–¹æ¡ˆ

```js
const ua = window.navigator.userAgent.toLocaleLowerCase();
const isAndroid = /android/.test(ua);

const originHeight =
  document.documentElement.clientHeight || document.body.clientHeight;

window.addEventListener(
  'resize',
  function() {
    const resizeHeight =
      document.documentElement.clientHeight || document.body.clientHeight;

    if (resizeHeight < originHeight) {
      console.log('Android é”®ç›˜å¼¹èµ·...');
      // åº•éƒ¨è¢«é¡¶èµ·äº†ï¼Œè§†å£é«˜åº¦å˜å°ï¼Œåšäº›ä»€ä¹ˆ...
    } else {
      console.log('Android é”®ç›˜æ”¶èµ·...');
      // è§†å£é«˜åº¦æ¢å¤æ­£å¸¸ï¼Œåšäº›ä»€ä¹ˆ...
    }
  },
  false
);
```

## äºŒæœˆ

### fixed å¸ƒå±€

åœ¨åšé¡¹ç›®çš„æ—¶å€™ï¼Œä½¿ç”¨äº† fixed å¸ƒå±€ï¼Œè®¾ç½® top ä¸º 0ï¼Œbottom ä¸º 0 æ—¶ï¼Œé«˜åº¦æ²¡æœ‰å æ»¡ï¼Œå»çœ‹äº†ä¸‹ MDN æ–‡æ¡£ï¼Œå‘ç°æœ‰ä¸ªç»†èŠ‚

> å…ƒç´ ä¼šè¢«ç§»å‡ºæ­£å¸¸æ–‡æ¡£æµï¼Œå¹¶ä¸ä¸ºå…ƒç´ é¢„ç•™ç©ºé—´ï¼Œè€Œæ˜¯é€šè¿‡æŒ‡å®šå…ƒç´ ç›¸å¯¹äºå±å¹•è§†å£ï¼ˆviewportï¼‰çš„ä½ç½®æ¥æŒ‡å®šå…ƒç´ ä½ç½®ã€‚å…ƒç´ çš„ä½ç½®åœ¨å±å¹•æ»šåŠ¨æ—¶ä¸ä¼šæ”¹å˜ã€‚æ‰“å°æ—¶ï¼Œå…ƒç´ ä¼šå‡ºç°åœ¨çš„æ¯é¡µçš„å›ºå®šä½ç½®ã€‚fixed å±æ€§ä¼šåˆ›å»ºæ–°çš„å±‚å ä¸Šä¸‹æ–‡ã€‚å½“å…ƒç´ ç¥–å…ˆçš„ transform, perspective æˆ– filter å±æ€§é none æ—¶ï¼Œå®¹å™¨ç”±è§†å£æ”¹ä¸ºè¯¥ç¥–å…ˆã€‚

çœ‹æœ€åä¸€å¥è¯ï¼Œå¾ˆé‡è¦ï¼ŒåŸæ¥ fixed å¸ƒå±€ä¹Ÿä¼šæ”¹å˜å®¹å™¨çš„å¯¹è±¡ï¼Œå› ä¸ºåœ¨é¡¹ç›®ä¸­ï¼Œfixed å…ƒç´ çš„çˆ¶å…ƒç´ ä½¿ç”¨äº† transformï¼Œæ”¹å˜äº†å®¹å™¨å¯¹è±¡ï¼Œæ‰€ä»¥é«˜åº¦æ²¡æœ‰å æ»¡çª—å£

### ä¿®æ”¹ .browserlist ä¸ç”Ÿæ•ˆçš„é—®é¢˜

åœ¨ vuecli é¡¹ç›®ä¸­ä¿®æ”¹äº†`.browserlist`æ–‡ä»¶ï¼Œé‡æ–°ç¼–è¯‘å‘ç°ä½“ç§¯å˜æ›´ä¸å¤ªæ˜æ˜¾ï¼Œæ˜¯å› ä¸º`cache-loader`çš„åŸå› ï¼Œåœ¨`node_modules`ä¸­åˆ é™¤`.cache`æ–‡ä»¶ï¼Œå†é‡æ–°ç¼–è¾‘å³å¯

### ts è·å–æšä¸¾çš„ key

```ts
enum ColorsEnum {
  white = '#ffffff',
  black = '#000000',
}

type Colors = keyof typeof ColorsEnum;

const keys = Object.keys(ColorsEnum) as Array<keyof typeof ColorsEnum>;

const colorLiteral: Colors;
colorLiteral = 'white'; // OK
colorLiteral = 'black'; // OK
colorLiteral = 'red'; // Error...
```

## ä¸‰æœˆ

### é€‚é… iphonex+åº•éƒ¨å®‰å…¨è·ç¦»

å¦‚ä½•é€‚é… iphone æ‰‹æœºåº•éƒ¨å®‰å…¨è·ç¦»ï¼Ÿ

ä¾‹å¦‚ä¸€ä¸ªæµ®åŠ¨çš„æŒ‰é’®ï¼Œåœ¨ä½¿ç”¨äº†ç»å¯¹å®šä½æˆ–è€…å›ºå®šå®šä½ï¼Œéœ€è¦åŠ ä¸Šä»¥ä¸‹å±æ€§

```css
.btn {
  position: fixed;
  width: 56px;
  height: 56px;
  border-radius: 28px;
  right: 16px;
  bottom: 94px;
  bottom: calc(constant(safe-area-inset-bottom) + 94px);
  bottom: calc(env(safe-area-inset-bottom) + 94px);
}
```

å¦‚æœæ˜¯å®šä½åº•éƒ¨çš„ï¼Œä¾‹å¦‚ footer è¿™ç±»çš„å…ƒç´ 

```css
.footer {
  position: absolute;
  bottom: 0;
  bottom: constant(safe-area-inset-bottom); /* iOS 11.0 */
  bottom: env(safe-area-inset-bottom); /* iOS 11.2 */
}
```

è¿˜æœ‰ï¼Œè®°å¾—åœ¨ html æ–‡ä»¶åŠ ä¸Š

```html
<meta name="viewport" content="viewport-fit=cover" />
```

### ç‚¹å‡» iframe å†…éƒ¨æ— æ³•è§¦å‘å¤–éƒ¨äº‹ä»¶çš„è§£å†³æ–¹æ¡ˆ

ç°åœ¨æœ‰ä¸ª dropdown ç»„ä»¶ï¼Œå‘ˆæ‰“å¼€çŠ¶æ€ï¼Œå¦‚æœç‚¹å‡»å¤–éƒ¨åŒºåŸŸå°±ä¼šè‡ªåŠ¨æ”¶èµ·ï¼Œä½†æ˜¯ç‚¹å‡» iframe ä¹‹åï¼Œæ— æ³•è‡ªåŠ¨æ”¶èµ·ï¼ŒåŸå› æ˜¯ç‚¹å‡» iframe æ— æ³•è§¦å‘å¤–éƒ¨å±‚çº§çš„`document.mousedown`äº‹ä»¶

å¦‚ä½•è§£å†³ï¼Ÿå¯ä»¥ä½¿ç”¨`window.blur`æˆ–è€…ç»™ iframe çš„`contentWindow.document`æ·»åŠ ç‚¹å‡»äº‹ä»¶(ä»…é™äºåŒæºæƒ…å†µ)

window.blur æ–¹æ¡ˆ

```js
const onWinBlur = () => {
  if (document.activeElement === document.getElementById('office-iframe')) {
    const dropdown = this.dropdownRef;
    if (dropdown.visible) {
      dropdown.hide();
    }
  }
};

window.addEventListener('blur', onWinBlur);
```

## å››æœˆ

### è·¨ç«™

> Cookie å‘é€éµå®ˆçš„åŒç«™ç­–ç•¥ï¼Œå¹¶ä¸æ˜¯åŒæºç­–ç•¥ï¼ŒSameSite è®¾ä¸º None åˆ™æ”¯æŒè·¨ç«™å‘é€(å‰ææ˜¯å¼€å¯ Secure+htttps)

ä»€ä¹ˆæ˜¯åŒç«™ï¼Ÿ

eTLD+1 ç›¸åŒå³æ˜¯åŒç«™

eTLD: (effective top-level domain) æœ‰æ•ˆé¡¶çº§åŸŸåï¼Œæ³¨å†Œäº Mozilla ç»´æŠ¤çš„å…¬å…±åç¼€åˆ—è¡¨ï¼ˆPublic Suffix Listï¼‰ä¸­,å¦‚.comã€.co.ukã€.github.io,.top ç­‰

eTLD+1: æœ‰æ•ˆé¡¶çº§åŸŸå+äºŒçº§åŸŸåï¼Œå¦‚ taobao.com,baidu.com(é¡¶çº§åŸŸåæ˜¯.comï¼ŒäºŒçº§åŸŸåæ˜¯ taobaoã€baidu)

## äº”æœˆ

### å‰ç«¯å¼‚å¸¸æ•è·æ–¹å¼

1ã€try catch

æ— æ³•æ•è·å¼‚æ­¥é”™è¯¯

2ã€window.onerror

å¯ä»¥æ•è·å¼‚æ­¥å’ŒåŒæ­¥å¼‚å¸¸ï¼Œé™¤äº† promise

3ã€unhandledrejection

æ•è·æœªå¤„ç†çš„ promise

4ã€ajax å¼‚å¸¸

é‡å†™ XMLHttpRequest.prototype ç›¸å…³æ–¹æ³•

### ç”¨ nginx ä»£ç† onpremise éƒ¨ç½²çš„ sentry ä¸ŠæŠ¥æ¥å£(https)

å› ä¸ºç”¨ onpremise éƒ¨ç½²çš„ sentryï¼Œåªæä¾›äº† http æ¥å£ï¼Œå¦‚æœåœ¨ https åº”ç”¨é‡Œè°ƒç”¨ http æ¥å£ä¼šæŠ¥`Mixed Content`é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦ç”¨ nginx å¢åŠ ä¸€å±‚æ¥å£è½¬å‘ï¼Œnginx ç›¸å…³é…ç½®

'https://xxx/sentry/api/xxx'è½¬å‘åˆ°'http://xxx:9000/api/xxx'å³å¯

```conf
# å¿½ç•¥sslç›¸å…³é…ç½®
# ä¸»è¦æ˜¯ä¸‹é¢è½¬å‘é…ç½®
location /sentry/api/store/ {
  proxy_pass http://xxx:9000/api/store/;
}

location ~ /sentry/(api/[1-9]+/.*) {
  rewrite /sentry/(api/[1-9]+/.*) /$1 break;
  proxy_pass http://xxx:9000;
}
```

## å…­æœˆ

### vue-class-component åˆå§‹åŒ– data å±æ€§çš„å‘

å¦‚æœç”¨ vue-class-component æ¥å†™ vue ç»„ä»¶ï¼Œåˆå§‹åŒ–å“åº”å¼ data é‡Œé¢æœ‰å€¼å¦‚æœæ˜¯ undefinedï¼Œè¿™ä¸ªå€¼å°†ä¼šè¢«è¿‡æ»¤ï¼Œä¸ä¼šäº¤ç»™ vue çš„ data ä¸­ï¼Œä¾‹å¦‚

```ts
import Vue from 'vue';
import Component from 'vue-class-component';

@Component
export default class HelloWorld extends Vue {
  // message ä¸æ˜¯å“åº”å¼çš„
  message = undefined;

  // message1æ˜¯å“åº”å¼çš„
  message1 = null;
}
```

çœ‹äº†ä¸‹æºç ï¼Œå‘ç° vue-class-component é‡Œé¢åŠ äº†è¿™æ®µé€»è¾‘

```ts
// create plain data object
const plainData = {};
Object.keys(data).forEach((key) => {
  if (data[key] !== undefined) {
    plainData[key] = data[key];
  }
});
```

æ‰€æœ‰ undefined çš„å€¼éƒ½è¢«è¿‡æ»¤äº†ï¼Œæ‰€ä»¥ä¸æ˜¯ vue è¿‡æ»¤äº† undefined å€¼ï¼Œè€Œæ˜¯ vue-class-component

github ç›¸å…³è®¨è®ºï¼šhttps://github.com/vuejs/vue-class-component/issues/39

### å¤„ç†å¤šä¸ªæ¡ä»¶ç®€æ´å†™æ³•

```js
someFunction(str){
  if(str.includes("someValue1") || str.includes("someValue2")){
    return true
  }else{
    return false
  }
}
```

ç®€æ´çš„å†™æ³•ï¼š

```js
someFunction(str){
  const conditions = ["someValue1", "someValue2"];
  return conditions.some(condition => str.includes(condition));
}
```

## ä¸ƒæœˆ

### ä½¿ç”¨ word-spacing å¢åŠ æ–‡å­—é—´è·

å¦‚æœæƒ³è®©'ä½ å¥½'å±•ç¤ºæˆ'ä½  å¥½'ï¼Œå¯ä»¥ä½¿ç”¨ word-spacing

æ³¨æ„ï¼Œword-spacing å¯¹ä¸­æ–‡æ— æ•ˆï¼Œæ‰€ä»¥éœ€è¦å¸¦ä¸Šä¸€ä¸ªç©ºæ ¼å¯ä»¥å¼ºè¡Œè®©å®ƒç”Ÿæ•ˆï¼Œæ¯”å¦‚'ä½  å¥½'

### æ›¿æ¢æ–‡æœ¬æŒ‡å®šä½ç½®å‡½æ•°

```ts
const replaceRangeString = (
  text: string,
  start: number,
  end: number,
  replacetext: string
) => text.substring(0, start) + replacetext + text.substring(end);
```

## å…«æœˆ

### package.json ç‰ˆæœ¬é—®é¢˜

å®‰è£…äº†ä¸ª ui åº“ï¼Œé‡Œé¢ä¾èµ–äº†é¥¿äº†ä¹ˆ uiï¼Œæœ¬åœ°å¼€å‘ä¹Ÿå®‰è£…äº†é¥¿äº†ä¹ˆ uiï¼Œå¦‚æœå¸Œæœ›è¿™ä¸ª ui ç”¨çš„æ˜¯æœ¬åœ°ä¾èµ–çš„é¥¿äº†ä¹ˆ uiï¼Œæœ¬åœ°çš„é¥¿äº†ä¹ˆç‰ˆæœ¬å·éœ€è¦å’Œ ui åº“çš„ä¾èµ–ç‰ˆæœ¬ä¸€è‡´

ui/package.json -> element-ui(^2.15.0)
æœ¬åœ°/package.json -> element-ui(^2.15.0)

è¿™æ ·å°±å¯ä»¥å…±ç”¨ä¸€å¥—é¥¿äº†ä¹ˆ ui äº†ï¼Œå¦åˆ™ï¼Œui åº“ä¸‹é¢çš„ node_modules ä¼šå¤šå‡ºä¸ª element-ui

### ç¼“å†²ä»»åŠ¡é˜Ÿåˆ—å‡½æ•°

```js
const queue = [];
let isFlushing = false;
function queueJob(job) {
  if (!queue.includes(job)) queue.push(job);
  if (!isFlushing) {
    isFlushing = true;
    Promise.resolve().then(() => {
      let fn;
      while ((fn = queue.shift())) {
        fn();
      }
    });
  }
}

function log1() {
  console.log(123);
}

function log2() {
  console.log(666);
}

queueJob(log1);
queueJob(log1);
queueJob(log1);

queueJob(log2);
queueJob(log2);
queueJob(log2);

isFlushing = false;
```

### å¦‚ä½•æŒ‰éœ€æŒ‡å®š node_modules/@types ä¸‹çš„å£°æ˜æ–‡ä»¶

ä¸€èˆ¬æ¥è¯´ï¼Œnode_modules/@types ä¸‹çš„å£°æ˜æ–‡ä»¶ä¼šè¢«è‡ªåŠ¨æå–ï¼Œä½†æ˜¯å¦‚æœæƒ³æŒ‰éœ€æŒ‡å®šï¼Œå¯ä»¥è¿™ä¹ˆå†™

tsconfig.json

```json
{
  "compilerOptions": {
    "types": ["node", "jest"] // ä»… node å’Œ jest ä¸‹çš„å£°æ˜æ–‡ä»¶ç”Ÿæ•ˆ
  }
}
```

## ä¹æœˆ

### yarn link / yarn global add

åœ¨ mac ç¯å¢ƒä¸­ï¼Œyarn link / yarn global add ä¼šæŠŠ bin æ–‡ä»¶è½¯é“¾æ¥åˆ° /usr/local/bin é‡Œé¢

### keydown enter é—®é¢˜

åœ¨ input æ¡†ä¸­é”®å…¥å›è½¦çš„æ—¶å€™ï¼Œåˆ¤æ–­å›è½¦é”®äº‹ä»¶æ¥å“åº”ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è¡¨å•æäº¤ï¼Œå¦‚æœç”¨`event.key`æ¥åˆ¤æ–­`Enter`çš„è¯ï¼Œä¼šæœ‰äº›é—®é¢˜

åœ¨ vue ä¸­è¿™ä¹ˆå†™

```html
<input @keydown.enter="handleSubmit" />
```

åœ¨ä¸­æ–‡è¾“å…¥æ³•ä¸­ï¼Œé”®å…¥çš„æ—¶ç›´æ¥æŒ‰å›è½¦ï¼Œä¼šè§¦å‘ handleSubmit äº‹ä»¶

æ”¹æˆè¿™ç§å°±å¯ä»¥è§£å†³

```html
<input @keydown.13="handleSubmit" />
```

åŸå› ï¼Œä¸­æ–‡è¾“å…¥æ³•æ”¹å†™äº† keydown å›è½¦é”®çš„ keyCodeï¼Œæ”¹æˆäº† 229ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘`@keydown.13`äº‹ä»¶

## åæœˆ

### emoji è½¬ Unicode å­—ç¬¦ä¸²

```js
function toUnicode(emoji) {
  let unicode = '';
  for (let i = 0; i < emoji.length; i++) {
    const ele = '\\u' + emoji.charCodeAt(i).toString(16);
    unicode += ele;
  }
  return unicode;
}

toUnicode('ğŸ˜€'); // '\ud83d\ude00'
```

## åä¸€æœˆ

### rust cargo build å¾ˆæ…¢é—®é¢˜

æ›¿æ¢ä¸ºå›½å†…é•œåƒæº

```
# ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦
RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static
RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup

# æ¸…åå¤§å­¦
$ echo 'export RUSTUP_UPDATE_ROOT=https://mirrors.tuna.tsinghua.edu.cn/rustup/rustup'
$ echo 'export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup'
```

å°†å¦‚ä¸‹é…ç½®å†™å…¥ /.cargo/config æ–‡ä»¶ï¼š

```
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"

# æ›¿æ¢æˆä½ åå¥½çš„é•œåƒæº
replace-with = 'sjtu'

# æ¸…åå¤§å­¦
[source.tuna]
registry = "https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git"

# ä¸Šæµ·äº¤é€šå¤§å­¦
[source.sjtu]
registry = "https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index"
```

å¦‚æœå‘ç°æ”¹äº†é•œåƒæºè¿˜æ˜¯æ‹‰å–å¾ˆæ…¢ï¼Œåˆ äº† /.cargo/.package-cache é‡æ–° build å³å¯

## åäºŒæœˆ

### è§£å†³ä¸­æ–‡ç¬¦å·æº¢å‡ºä¸æ¢è¡Œé—®é¢˜

æ·»åŠ  css å±æ€§

`word-break: break-word;` // å°†è¢«å¼ƒç”¨

ä½¿ç”¨ `overflow-wrap: anywhere;`

`word-break: break-word` ä¸º `word-break: normal` å’Œ `overflow-wrap: anywhere` çš„åˆ
